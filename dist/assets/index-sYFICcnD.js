var MA=e=>{throw TypeError(e)};var Zw=(e,t,r)=>t.has(e)||MA("Cannot "+r);var Y=(e,t,r)=>(Zw(e,t,"read from private field"),r?r.call(e):t.get(e)),at=(e,t,r)=>t.has(e)?MA("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Re=(e,t,r,n)=>(Zw(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Ut=(e,t,r)=>(Zw(e,t,"access private method"),r);var ig=(e,t,r,n)=>({set _(a){Re(e,t,a,r)},get _(){return Y(e,t,n)}});function aL(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var sg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Sr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function iL(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var sL={exports:{}},$b={},oL={exports:{}},Zt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv=Symbol.for("react.element"),QH=Symbol.for("react.portal"),JH=Symbol.for("react.fragment"),ZH=Symbol.for("react.strict_mode"),e9=Symbol.for("react.profiler"),t9=Symbol.for("react.provider"),r9=Symbol.for("react.context"),n9=Symbol.for("react.forward_ref"),a9=Symbol.for("react.suspense"),i9=Symbol.for("react.memo"),s9=Symbol.for("react.lazy"),LA=Symbol.iterator;function o9(e){return e===null||typeof e!="object"?null:(e=LA&&e[LA]||e["@@iterator"],typeof e=="function"?e:null)}var lL={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cL=Object.assign,uL={};function Xf(e,t,r){this.props=e,this.context=t,this.refs=uL,this.updater=r||lL}Xf.prototype.isReactComponent={};Xf.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Xf.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function dL(){}dL.prototype=Xf.prototype;function PC(e,t,r){this.props=e,this.context=t,this.refs=uL,this.updater=r||lL}var OC=PC.prototype=new dL;OC.constructor=PC;cL(OC,Xf.prototype);OC.isPureReactComponent=!0;var FA=Array.isArray,fL=Object.prototype.hasOwnProperty,AC={current:null},hL={key:!0,ref:!0,__self:!0,__source:!0};function pL(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)fL.call(t,n)&&!hL.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:sv,type:e,key:i,ref:o,props:a,_owner:AC.current}}function l9(e,t){return{$$typeof:sv,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function kC(e){return typeof e=="object"&&e!==null&&e.$$typeof===sv}function c9(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var BA=/\/+/g;function ej(e,t){return typeof e=="object"&&e!==null&&e.key!=null?c9(""+e.key):t.toString(36)}function dy(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case sv:case QH:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+ej(o,0):n,FA(a)?(r="",e!=null&&(r=e.replace(BA,"$&/")+"/"),dy(a,t,r,"",function(u){return u})):a!=null&&(kC(a)&&(a=l9(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(BA,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",FA(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+ej(i,l);o+=dy(i,t,r,c,a)}else if(c=o9(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+ej(i,l++),o+=dy(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function og(e,t,r){if(e==null)return e;var n=[],a=0;return dy(e,n,"","",function(i){return t.call(r,i,a++)}),n}function u9(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Oa={current:null},fy={transition:null},d9={ReactCurrentDispatcher:Oa,ReactCurrentBatchConfig:fy,ReactCurrentOwner:AC};function mL(){throw Error("act(...) is not supported in production builds of React.")}Zt.Children={map:og,forEach:function(e,t,r){og(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return og(e,function(){t++}),t},toArray:function(e){return og(e,function(t){return t})||[]},only:function(e){if(!kC(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Zt.Component=Xf;Zt.Fragment=JH;Zt.Profiler=e9;Zt.PureComponent=PC;Zt.StrictMode=ZH;Zt.Suspense=a9;Zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=d9;Zt.act=mL;Zt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=cL({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=AC.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)fL.call(t,c)&&!hL.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:sv,type:e.type,key:a,ref:i,props:n,_owner:o}};Zt.createContext=function(e){return e={$$typeof:r9,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:t9,_context:e},e.Consumer=e};Zt.createElement=pL;Zt.createFactory=function(e){var t=pL.bind(null,e);return t.type=e,t};Zt.createRef=function(){return{current:null}};Zt.forwardRef=function(e){return{$$typeof:n9,render:e}};Zt.isValidElement=kC;Zt.lazy=function(e){return{$$typeof:s9,_payload:{_status:-1,_result:e},_init:u9}};Zt.memo=function(e,t){return{$$typeof:i9,type:e,compare:t===void 0?null:t}};Zt.startTransition=function(e){var t=fy.transition;fy.transition={};try{e()}finally{fy.transition=t}};Zt.unstable_act=mL;Zt.useCallback=function(e,t){return Oa.current.useCallback(e,t)};Zt.useContext=function(e){return Oa.current.useContext(e)};Zt.useDebugValue=function(){};Zt.useDeferredValue=function(e){return Oa.current.useDeferredValue(e)};Zt.useEffect=function(e,t){return Oa.current.useEffect(e,t)};Zt.useId=function(){return Oa.current.useId()};Zt.useImperativeHandle=function(e,t,r){return Oa.current.useImperativeHandle(e,t,r)};Zt.useInsertionEffect=function(e,t){return Oa.current.useInsertionEffect(e,t)};Zt.useLayoutEffect=function(e,t){return Oa.current.useLayoutEffect(e,t)};Zt.useMemo=function(e,t){return Oa.current.useMemo(e,t)};Zt.useReducer=function(e,t,r){return Oa.current.useReducer(e,t,r)};Zt.useRef=function(e){return Oa.current.useRef(e)};Zt.useState=function(e){return Oa.current.useState(e)};Zt.useSyncExternalStore=function(e,t,r){return Oa.current.useSyncExternalStore(e,t,r)};Zt.useTransition=function(){return Oa.current.useTransition()};Zt.version="18.3.1";oL.exports=Zt;var g=oL.exports;const R=Sr(g),TC=aL({__proto__:null,default:R},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f9=g,h9=Symbol.for("react.element"),p9=Symbol.for("react.fragment"),m9=Object.prototype.hasOwnProperty,v9=f9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,g9={key:!0,ref:!0,__self:!0,__source:!0};function vL(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)m9.call(t,n)&&!g9.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:h9,type:e,key:i,ref:o,props:a,_owner:v9.current}}$b.Fragment=p9;$b.jsx=vL;$b.jsxs=vL;sL.exports=$b;var s=sL.exports,gL={exports:{}},Ni={},yL={exports:{}},xL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,T){var H=D.length;D.push(T);e:for(;0<H;){var re=H-1>>>1,J=D[re];if(0<a(J,T))D[re]=T,D[H]=J,H=re;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var T=D[0],H=D.pop();if(H!==T){D[0]=H;e:for(var re=0,J=D.length,le=J>>>1;re<le;){var te=2*(re+1)-1,Z=D[te],we=te+1,oe=D[we];if(0>a(Z,H))we<J&&0>a(oe,Z)?(D[re]=oe,D[we]=H,re=we):(D[re]=Z,D[te]=H,re=te);else if(we<J&&0>a(oe,H))D[re]=oe,D[we]=H,re=we;else break e}}return T}function a(D,T){var H=D.sortIndex-T.sortIndex;return H!==0?H:D.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,y=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(D){for(var T=r(u);T!==null;){if(T.callback===null)n(u);else if(T.startTime<=D)n(u),T.sortIndex=T.expirationTime,t(c,T);else break;T=r(u)}}function j(D){if(m=!1,w(D),!y)if(r(c)!==null)y=!0,L(S);else{var T=r(u);T!==null&&$(j,T.startTime-D)}}function S(D,T){y=!1,m&&(m=!1,x(C),C=-1),p=!0;var H=h;try{for(w(T),f=r(c);f!==null&&(!(f.expirationTime>T)||D&&!O());){var re=f.callback;if(typeof re=="function"){f.callback=null,h=f.priorityLevel;var J=re(f.expirationTime<=T);T=e.unstable_now(),typeof J=="function"?f.callback=J:f===r(c)&&n(c),w(T)}else n(c);f=r(c)}if(f!==null)var le=!0;else{var te=r(u);te!==null&&$(j,te.startTime-T),le=!1}return le}finally{f=null,h=H,p=!1}}var _=!1,N=null,C=-1,E=5,A=-1;function O(){return!(e.unstable_now()-A<E)}function P(){if(N!==null){var D=e.unstable_now();A=D;var T=!0;try{T=N(!0,D)}finally{T?k():(_=!1,N=null)}}else _=!1}var k;if(typeof b=="function")k=function(){b(P)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,M=I.port2;I.port1.onmessage=P,k=function(){M.postMessage(null)}}else k=function(){v(P,0)};function L(D){N=D,_||(_=!0,k())}function $(D,T){C=v(function(){D(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,L(S))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(D){switch(h){case 1:case 2:case 3:var T=3;break;default:T=h}var H=h;h=T;try{return D()}finally{h=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,T){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var H=h;h=D;try{return T()}finally{h=H}},e.unstable_scheduleCallback=function(D,T,H){var re=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?re+H:re):H=re,D){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=H+J,D={id:d++,callback:T,priorityLevel:D,startTime:H,expirationTime:J,sortIndex:-1},H>re?(D.sortIndex=H,t(u,D),r(c)===null&&D===r(u)&&(m?(x(C),C=-1):m=!0,$(j,H-re))):(D.sortIndex=J,t(c,D),y||p||(y=!0,L(S))),D},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(D){var T=h;return function(){var H=h;h=T;try{return D.apply(this,arguments)}finally{h=H}}}})(xL);yL.exports=xL;var y9=yL.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x9=g,ji=y9;function _e(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bL=new Set,Mp={};function Lu(e,t){sf(e,t),sf(e+"Capture",t)}function sf(e,t){for(Mp[e]=t,e=0;e<t.length;e++)bL.add(t[e])}var Io=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),GS=Object.prototype.hasOwnProperty,b9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qA={},UA={};function w9(e){return GS.call(UA,e)?!0:GS.call(qA,e)?!1:b9.test(e)?UA[e]=!0:(qA[e]=!0,!1)}function j9(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function S9(e,t,r,n){if(t===null||typeof t>"u"||j9(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Aa(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var sa={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){sa[e]=new Aa(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];sa[t]=new Aa(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){sa[e]=new Aa(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){sa[e]=new Aa(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){sa[e]=new Aa(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){sa[e]=new Aa(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){sa[e]=new Aa(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){sa[e]=new Aa(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){sa[e]=new Aa(e,5,!1,e.toLowerCase(),null,!1,!1)});var DC=/[\-:]([a-z])/g;function IC(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(DC,IC);sa[t]=new Aa(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(DC,IC);sa[t]=new Aa(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(DC,IC);sa[t]=new Aa(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){sa[e]=new Aa(e,1,!1,e.toLowerCase(),null,!1,!1)});sa.xlinkHref=new Aa("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){sa[e]=new Aa(e,1,!1,e.toLowerCase(),null,!0,!0)});function RC(e,t,r,n){var a=sa.hasOwnProperty(t)?sa[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(S9(t,r,a,n)&&(r=null),n||a===null?w9(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ho=x9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lg=Symbol.for("react.element"),pd=Symbol.for("react.portal"),md=Symbol.for("react.fragment"),$C=Symbol.for("react.strict_mode"),KS=Symbol.for("react.profiler"),wL=Symbol.for("react.provider"),jL=Symbol.for("react.context"),MC=Symbol.for("react.forward_ref"),YS=Symbol.for("react.suspense"),XS=Symbol.for("react.suspense_list"),LC=Symbol.for("react.memo"),dl=Symbol.for("react.lazy"),SL=Symbol.for("react.offscreen"),zA=Symbol.iterator;function Th(e){return e===null||typeof e!="object"?null:(e=zA&&e[zA]||e["@@iterator"],typeof e=="function"?e:null)}var pn=Object.assign,tj;function ap(e){if(tj===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);tj=t&&t[1]||""}return`
`+tj+e}var rj=!1;function nj(e,t){if(!e||rj)return"";rj=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{rj=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ap(e):""}function _9(e){switch(e.tag){case 5:return ap(e.type);case 16:return ap("Lazy");case 13:return ap("Suspense");case 19:return ap("SuspenseList");case 0:case 2:case 15:return e=nj(e.type,!1),e;case 11:return e=nj(e.type.render,!1),e;case 1:return e=nj(e.type,!0),e;default:return""}}function QS(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case md:return"Fragment";case pd:return"Portal";case KS:return"Profiler";case $C:return"StrictMode";case YS:return"Suspense";case XS:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case jL:return(e.displayName||"Context")+".Consumer";case wL:return(e._context.displayName||"Context")+".Provider";case MC:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case LC:return t=e.displayName||null,t!==null?t:QS(e.type)||"Memo";case dl:t=e._payload,e=e._init;try{return QS(e(t))}catch{}}return null}function N9(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return QS(t);case 8:return t===$C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Gl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _L(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function C9(e){var t=_L(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function cg(e){e._valueTracker||(e._valueTracker=C9(e))}function NL(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=_L(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ry(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function JS(e,t){var r=t.checked;return pn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function WA(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Gl(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function CL(e,t){t=t.checked,t!=null&&RC(e,"checked",t,!1)}function ZS(e,t){CL(e,t);var r=Gl(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?e_(e,t.type,r):t.hasOwnProperty("defaultValue")&&e_(e,t.type,Gl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function VA(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function e_(e,t,r){(t!=="number"||Ry(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ip=Array.isArray;function kd(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Gl(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function t_(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(_e(91));return pn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function HA(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(_e(92));if(ip(r)){if(1<r.length)throw Error(_e(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Gl(r)}}function EL(e,t){var r=Gl(t.value),n=Gl(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function GA(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function PL(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function r_(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?PL(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ug,OL=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ug=ug||document.createElement("div"),ug.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ug.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Lp(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var hp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},E9=["Webkit","ms","Moz","O"];Object.keys(hp).forEach(function(e){E9.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),hp[t]=hp[e]})});function AL(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||hp.hasOwnProperty(e)&&hp[e]?(""+t).trim():t+"px"}function kL(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=AL(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var P9=pn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function n_(e,t){if(t){if(P9[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(_e(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(_e(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(_e(61))}if(t.style!=null&&typeof t.style!="object")throw Error(_e(62))}}function a_(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var i_=null;function FC(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var s_=null,Td=null,Dd=null;function KA(e){if(e=cv(e)){if(typeof s_!="function")throw Error(_e(280));var t=e.stateNode;t&&(t=qb(t),s_(e.stateNode,e.type,t))}}function TL(e){Td?Dd?Dd.push(e):Dd=[e]:Td=e}function DL(){if(Td){var e=Td,t=Dd;if(Dd=Td=null,KA(e),t)for(e=0;e<t.length;e++)KA(t[e])}}function IL(e,t){return e(t)}function RL(){}var aj=!1;function $L(e,t,r){if(aj)return e(t,r);aj=!0;try{return IL(e,t,r)}finally{aj=!1,(Td!==null||Dd!==null)&&(RL(),DL())}}function Fp(e,t){var r=e.stateNode;if(r===null)return null;var n=qb(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(_e(231,t,typeof r));return r}var o_=!1;if(Io)try{var Dh={};Object.defineProperty(Dh,"passive",{get:function(){o_=!0}}),window.addEventListener("test",Dh,Dh),window.removeEventListener("test",Dh,Dh)}catch{o_=!1}function O9(e,t,r,n,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var pp=!1,$y=null,My=!1,l_=null,A9={onError:function(e){pp=!0,$y=e}};function k9(e,t,r,n,a,i,o,l,c){pp=!1,$y=null,O9.apply(A9,arguments)}function T9(e,t,r,n,a,i,o,l,c){if(k9.apply(this,arguments),pp){if(pp){var u=$y;pp=!1,$y=null}else throw Error(_e(198));My||(My=!0,l_=u)}}function Fu(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function ML(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function YA(e){if(Fu(e)!==e)throw Error(_e(188))}function D9(e){var t=e.alternate;if(!t){if(t=Fu(e),t===null)throw Error(_e(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return YA(a),e;if(i===n)return YA(a),t;i=i.sibling}throw Error(_e(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(_e(189))}}if(r.alternate!==n)throw Error(_e(190))}if(r.tag!==3)throw Error(_e(188));return r.stateNode.current===r?e:t}function LL(e){return e=D9(e),e!==null?FL(e):null}function FL(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=FL(e);if(t!==null)return t;e=e.sibling}return null}var BL=ji.unstable_scheduleCallback,XA=ji.unstable_cancelCallback,I9=ji.unstable_shouldYield,R9=ji.unstable_requestPaint,Sn=ji.unstable_now,$9=ji.unstable_getCurrentPriorityLevel,BC=ji.unstable_ImmediatePriority,qL=ji.unstable_UserBlockingPriority,Ly=ji.unstable_NormalPriority,M9=ji.unstable_LowPriority,UL=ji.unstable_IdlePriority,Mb=null,Hs=null;function L9(e){if(Hs&&typeof Hs.onCommitFiberRoot=="function")try{Hs.onCommitFiberRoot(Mb,e,void 0,(e.current.flags&128)===128)}catch{}}var bs=Math.clz32?Math.clz32:q9,F9=Math.log,B9=Math.LN2;function q9(e){return e>>>=0,e===0?32:31-(F9(e)/B9|0)|0}var dg=64,fg=4194304;function sp(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Fy(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=sp(l):(i&=o,i!==0&&(n=sp(i)))}else o=r&~a,o!==0?n=sp(o):i!==0&&(n=sp(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-bs(t),a=1<<r,n|=e[r],t&=~a;return n}function U9(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function z9(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-bs(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=U9(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function c_(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function zL(){var e=dg;return dg<<=1,!(dg&4194240)&&(dg=64),e}function ij(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ov(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-bs(t),e[t]=r}function W9(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-bs(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function qC(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-bs(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Tr=0;function WL(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var VL,UC,HL,GL,KL,u_=!1,hg=[],kl=null,Tl=null,Dl=null,Bp=new Map,qp=new Map,pl=[],V9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function QA(e,t){switch(e){case"focusin":case"focusout":kl=null;break;case"dragenter":case"dragleave":Tl=null;break;case"mouseover":case"mouseout":Dl=null;break;case"pointerover":case"pointerout":Bp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qp.delete(t.pointerId)}}function Ih(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=cv(t),t!==null&&UC(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function H9(e,t,r,n,a){switch(t){case"focusin":return kl=Ih(kl,e,t,r,n,a),!0;case"dragenter":return Tl=Ih(Tl,e,t,r,n,a),!0;case"mouseover":return Dl=Ih(Dl,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Bp.set(i,Ih(Bp.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,qp.set(i,Ih(qp.get(i)||null,e,t,r,n,a)),!0}return!1}function YL(e){var t=Wc(e.target);if(t!==null){var r=Fu(t);if(r!==null){if(t=r.tag,t===13){if(t=ML(r),t!==null){e.blockedOn=t,KL(e.priority,function(){HL(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hy(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=d_(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);i_=n,r.target.dispatchEvent(n),i_=null}else return t=cv(r),t!==null&&UC(t),e.blockedOn=r,!1;t.shift()}return!0}function JA(e,t,r){hy(e)&&r.delete(t)}function G9(){u_=!1,kl!==null&&hy(kl)&&(kl=null),Tl!==null&&hy(Tl)&&(Tl=null),Dl!==null&&hy(Dl)&&(Dl=null),Bp.forEach(JA),qp.forEach(JA)}function Rh(e,t){e.blockedOn===t&&(e.blockedOn=null,u_||(u_=!0,ji.unstable_scheduleCallback(ji.unstable_NormalPriority,G9)))}function Up(e){function t(a){return Rh(a,e)}if(0<hg.length){Rh(hg[0],e);for(var r=1;r<hg.length;r++){var n=hg[r];n.blockedOn===e&&(n.blockedOn=null)}}for(kl!==null&&Rh(kl,e),Tl!==null&&Rh(Tl,e),Dl!==null&&Rh(Dl,e),Bp.forEach(t),qp.forEach(t),r=0;r<pl.length;r++)n=pl[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<pl.length&&(r=pl[0],r.blockedOn===null);)YL(r),r.blockedOn===null&&pl.shift()}var Id=Ho.ReactCurrentBatchConfig,By=!0;function K9(e,t,r,n){var a=Tr,i=Id.transition;Id.transition=null;try{Tr=1,zC(e,t,r,n)}finally{Tr=a,Id.transition=i}}function Y9(e,t,r,n){var a=Tr,i=Id.transition;Id.transition=null;try{Tr=4,zC(e,t,r,n)}finally{Tr=a,Id.transition=i}}function zC(e,t,r,n){if(By){var a=d_(e,t,r,n);if(a===null)mj(e,t,n,qy,r),QA(e,n);else if(H9(a,e,t,r,n))n.stopPropagation();else if(QA(e,n),t&4&&-1<V9.indexOf(e)){for(;a!==null;){var i=cv(a);if(i!==null&&VL(i),i=d_(e,t,r,n),i===null&&mj(e,t,n,qy,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else mj(e,t,n,null,r)}}var qy=null;function d_(e,t,r,n){if(qy=null,e=FC(n),e=Wc(e),e!==null)if(t=Fu(e),t===null)e=null;else if(r=t.tag,r===13){if(e=ML(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qy=e,null}function XL(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($9()){case BC:return 1;case qL:return 4;case Ly:case M9:return 16;case UL:return 536870912;default:return 16}default:return 16}}var El=null,WC=null,py=null;function QL(){if(py)return py;var e,t=WC,r=t.length,n,a="value"in El?El.value:El.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return py=a.slice(e,1<n?1-n:void 0)}function my(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function pg(){return!0}function ZA(){return!1}function Ci(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?pg:ZA,this.isPropagationStopped=ZA,this}return pn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=pg)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=pg)},persist:function(){},isPersistent:pg}),t}var Qf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},VC=Ci(Qf),lv=pn({},Qf,{view:0,detail:0}),X9=Ci(lv),sj,oj,$h,Lb=pn({},lv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:HC,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$h&&($h&&e.type==="mousemove"?(sj=e.screenX-$h.screenX,oj=e.screenY-$h.screenY):oj=sj=0,$h=e),sj)},movementY:function(e){return"movementY"in e?e.movementY:oj}}),ek=Ci(Lb),Q9=pn({},Lb,{dataTransfer:0}),J9=Ci(Q9),Z9=pn({},lv,{relatedTarget:0}),lj=Ci(Z9),e7=pn({},Qf,{animationName:0,elapsedTime:0,pseudoElement:0}),t7=Ci(e7),r7=pn({},Qf,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),n7=Ci(r7),a7=pn({},Qf,{data:0}),tk=Ci(a7),i7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},s7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},o7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function l7(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=o7[e])?!!t[e]:!1}function HC(){return l7}var c7=pn({},lv,{key:function(e){if(e.key){var t=i7[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=my(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?s7[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:HC,charCode:function(e){return e.type==="keypress"?my(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?my(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),u7=Ci(c7),d7=pn({},Lb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rk=Ci(d7),f7=pn({},lv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:HC}),h7=Ci(f7),p7=pn({},Qf,{propertyName:0,elapsedTime:0,pseudoElement:0}),m7=Ci(p7),v7=pn({},Lb,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),g7=Ci(v7),y7=[9,13,27,32],GC=Io&&"CompositionEvent"in window,mp=null;Io&&"documentMode"in document&&(mp=document.documentMode);var x7=Io&&"TextEvent"in window&&!mp,JL=Io&&(!GC||mp&&8<mp&&11>=mp),nk=" ",ak=!1;function ZL(e,t){switch(e){case"keyup":return y7.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eF(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vd=!1;function b7(e,t){switch(e){case"compositionend":return eF(t);case"keypress":return t.which!==32?null:(ak=!0,nk);case"textInput":return e=t.data,e===nk&&ak?null:e;default:return null}}function w7(e,t){if(vd)return e==="compositionend"||!GC&&ZL(e,t)?(e=QL(),py=WC=El=null,vd=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return JL&&t.locale!=="ko"?null:t.data;default:return null}}var j7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ik(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!j7[e.type]:t==="textarea"}function tF(e,t,r,n){TL(n),t=Uy(t,"onChange"),0<t.length&&(r=new VC("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var vp=null,zp=null;function S7(e){fF(e,0)}function Fb(e){var t=xd(e);if(NL(t))return e}function _7(e,t){if(e==="change")return t}var rF=!1;if(Io){var cj;if(Io){var uj="oninput"in document;if(!uj){var sk=document.createElement("div");sk.setAttribute("oninput","return;"),uj=typeof sk.oninput=="function"}cj=uj}else cj=!1;rF=cj&&(!document.documentMode||9<document.documentMode)}function ok(){vp&&(vp.detachEvent("onpropertychange",nF),zp=vp=null)}function nF(e){if(e.propertyName==="value"&&Fb(zp)){var t=[];tF(t,zp,e,FC(e)),$L(S7,t)}}function N7(e,t,r){e==="focusin"?(ok(),vp=t,zp=r,vp.attachEvent("onpropertychange",nF)):e==="focusout"&&ok()}function C7(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Fb(zp)}function E7(e,t){if(e==="click")return Fb(t)}function P7(e,t){if(e==="input"||e==="change")return Fb(t)}function O7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _s=typeof Object.is=="function"?Object.is:O7;function Wp(e,t){if(_s(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!GS.call(t,a)||!_s(e[a],t[a]))return!1}return!0}function lk(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ck(e,t){var r=lk(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lk(r)}}function aF(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?aF(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function iF(){for(var e=window,t=Ry();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ry(e.document)}return t}function KC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function A7(e){var t=iF(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&aF(r.ownerDocument.documentElement,r)){if(n!==null&&KC(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=ck(r,i);var o=ck(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var k7=Io&&"documentMode"in document&&11>=document.documentMode,gd=null,f_=null,gp=null,h_=!1;function uk(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;h_||gd==null||gd!==Ry(n)||(n=gd,"selectionStart"in n&&KC(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),gp&&Wp(gp,n)||(gp=n,n=Uy(f_,"onSelect"),0<n.length&&(t=new VC("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=gd)))}function mg(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var yd={animationend:mg("Animation","AnimationEnd"),animationiteration:mg("Animation","AnimationIteration"),animationstart:mg("Animation","AnimationStart"),transitionend:mg("Transition","TransitionEnd")},dj={},sF={};Io&&(sF=document.createElement("div").style,"AnimationEvent"in window||(delete yd.animationend.animation,delete yd.animationiteration.animation,delete yd.animationstart.animation),"TransitionEvent"in window||delete yd.transitionend.transition);function Bb(e){if(dj[e])return dj[e];if(!yd[e])return e;var t=yd[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in sF)return dj[e]=t[r];return e}var oF=Bb("animationend"),lF=Bb("animationiteration"),cF=Bb("animationstart"),uF=Bb("transitionend"),dF=new Map,dk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ic(e,t){dF.set(e,t),Lu(t,[e])}for(var fj=0;fj<dk.length;fj++){var hj=dk[fj],T7=hj.toLowerCase(),D7=hj[0].toUpperCase()+hj.slice(1);ic(T7,"on"+D7)}ic(oF,"onAnimationEnd");ic(lF,"onAnimationIteration");ic(cF,"onAnimationStart");ic("dblclick","onDoubleClick");ic("focusin","onFocus");ic("focusout","onBlur");ic(uF,"onTransitionEnd");sf("onMouseEnter",["mouseout","mouseover"]);sf("onMouseLeave",["mouseout","mouseover"]);sf("onPointerEnter",["pointerout","pointerover"]);sf("onPointerLeave",["pointerout","pointerover"]);Lu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Lu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Lu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Lu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Lu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Lu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var op="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I7=new Set("cancel close invalid load scroll toggle".split(" ").concat(op));function fk(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,T9(n,t,void 0,e),e.currentTarget=null}function fF(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;fk(a,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;fk(a,l,u),i=c}}}if(My)throw e=l_,My=!1,l_=null,e}function Jr(e,t){var r=t[y_];r===void 0&&(r=t[y_]=new Set);var n=e+"__bubble";r.has(n)||(hF(t,e,2,!1),r.add(n))}function pj(e,t,r){var n=0;t&&(n|=4),hF(r,e,n,t)}var vg="_reactListening"+Math.random().toString(36).slice(2);function Vp(e){if(!e[vg]){e[vg]=!0,bL.forEach(function(r){r!=="selectionchange"&&(I7.has(r)||pj(r,!1,e),pj(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vg]||(t[vg]=!0,pj("selectionchange",!1,t))}}function hF(e,t,r,n){switch(XL(t)){case 1:var a=K9;break;case 4:a=Y9;break;default:a=zC}r=a.bind(null,t,r,e),a=void 0,!o_||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function mj(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Wc(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}$L(function(){var u=i,d=FC(r),f=[];e:{var h=dF.get(e);if(h!==void 0){var p=VC,y=e;switch(e){case"keypress":if(my(r)===0)break e;case"keydown":case"keyup":p=u7;break;case"focusin":y="focus",p=lj;break;case"focusout":y="blur",p=lj;break;case"beforeblur":case"afterblur":p=lj;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=ek;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=J9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=h7;break;case oF:case lF:case cF:p=t7;break;case uF:p=m7;break;case"scroll":p=X9;break;case"wheel":p=g7;break;case"copy":case"cut":case"paste":p=n7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=rk}var m=(t&4)!==0,v=!m&&e==="scroll",x=m?h!==null?h+"Capture":null:h;m=[];for(var b=u,w;b!==null;){w=b;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,x!==null&&(j=Fp(b,x),j!=null&&m.push(Hp(b,j,w)))),v)break;b=b.return}0<m.length&&(h=new p(h,y,null,r,d),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==i_&&(y=r.relatedTarget||r.fromElement)&&(Wc(y)||y[Ro]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=r.relatedTarget||r.toElement,p=u,y=y?Wc(y):null,y!==null&&(v=Fu(y),y!==v||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(m=ek,j="onMouseLeave",x="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(m=rk,j="onPointerLeave",x="onPointerEnter",b="pointer"),v=p==null?h:xd(p),w=y==null?h:xd(y),h=new m(j,b+"leave",p,r,d),h.target=v,h.relatedTarget=w,j=null,Wc(d)===u&&(m=new m(x,b+"enter",y,r,d),m.target=w,m.relatedTarget=v,j=m),v=j,p&&y)t:{for(m=p,x=y,b=0,w=m;w;w=Yu(w))b++;for(w=0,j=x;j;j=Yu(j))w++;for(;0<b-w;)m=Yu(m),b--;for(;0<w-b;)x=Yu(x),w--;for(;b--;){if(m===x||x!==null&&m===x.alternate)break t;m=Yu(m),x=Yu(x)}m=null}else m=null;p!==null&&hk(f,h,p,m,!1),y!==null&&v!==null&&hk(f,v,y,m,!0)}}e:{if(h=u?xd(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=_7;else if(ik(h))if(rF)S=P7;else{S=C7;var _=N7}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=E7);if(S&&(S=S(e,u))){tF(f,S,r,d);break e}_&&_(e,h,u),e==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&e_(h,"number",h.value)}switch(_=u?xd(u):window,e){case"focusin":(ik(_)||_.contentEditable==="true")&&(gd=_,f_=u,gp=null);break;case"focusout":gp=f_=gd=null;break;case"mousedown":h_=!0;break;case"contextmenu":case"mouseup":case"dragend":h_=!1,uk(f,r,d);break;case"selectionchange":if(k7)break;case"keydown":case"keyup":uk(f,r,d)}var N;if(GC)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else vd?ZL(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(JL&&r.locale!=="ko"&&(vd||C!=="onCompositionStart"?C==="onCompositionEnd"&&vd&&(N=QL()):(El=d,WC="value"in El?El.value:El.textContent,vd=!0)),_=Uy(u,C),0<_.length&&(C=new tk(C,e,null,r,d),f.push({event:C,listeners:_}),N?C.data=N:(N=eF(r),N!==null&&(C.data=N)))),(N=x7?b7(e,r):w7(e,r))&&(u=Uy(u,"onBeforeInput"),0<u.length&&(d=new tk("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=N))}fF(f,t)})}function Hp(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Uy(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Fp(e,r),i!=null&&n.unshift(Hp(e,i,a)),i=Fp(e,t),i!=null&&n.push(Hp(e,i,a))),e=e.return}return n}function Yu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hk(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=Fp(r,i),c!=null&&o.unshift(Hp(r,c,l))):a||(c=Fp(r,i),c!=null&&o.push(Hp(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var R7=/\r\n?/g,$7=/\u0000|\uFFFD/g;function pk(e){return(typeof e=="string"?e:""+e).replace(R7,`
`).replace($7,"")}function gg(e,t,r){if(t=pk(t),pk(e)!==t&&r)throw Error(_e(425))}function zy(){}var p_=null,m_=null;function v_(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var g_=typeof setTimeout=="function"?setTimeout:void 0,M7=typeof clearTimeout=="function"?clearTimeout:void 0,mk=typeof Promise=="function"?Promise:void 0,L7=typeof queueMicrotask=="function"?queueMicrotask:typeof mk<"u"?function(e){return mk.resolve(null).then(e).catch(F7)}:g_;function F7(e){setTimeout(function(){throw e})}function vj(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Up(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Up(t)}function Il(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function vk(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Jf=Math.random().toString(36).slice(2),Fs="__reactFiber$"+Jf,Gp="__reactProps$"+Jf,Ro="__reactContainer$"+Jf,y_="__reactEvents$"+Jf,B7="__reactListeners$"+Jf,q7="__reactHandles$"+Jf;function Wc(e){var t=e[Fs];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ro]||r[Fs]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=vk(e);e!==null;){if(r=e[Fs])return r;e=vk(e)}return t}e=r,r=e.parentNode}return null}function cv(e){return e=e[Fs]||e[Ro],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function xd(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(_e(33))}function qb(e){return e[Gp]||null}var x_=[],bd=-1;function sc(e){return{current:e}}function tn(e){0>bd||(e.current=x_[bd],x_[bd]=null,bd--)}function Kr(e,t){bd++,x_[bd]=e.current,e.current=t}var Kl={},ga=sc(Kl),Ua=sc(!1),vu=Kl;function of(e,t){var r=e.type.contextTypes;if(!r)return Kl;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function za(e){return e=e.childContextTypes,e!=null}function Wy(){tn(Ua),tn(ga)}function gk(e,t,r){if(ga.current!==Kl)throw Error(_e(168));Kr(ga,t),Kr(Ua,r)}function pF(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(_e(108,N9(e)||"Unknown",a));return pn({},r,n)}function Vy(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Kl,vu=ga.current,Kr(ga,e),Kr(Ua,Ua.current),!0}function yk(e,t,r){var n=e.stateNode;if(!n)throw Error(_e(169));r?(e=pF(e,t,vu),n.__reactInternalMemoizedMergedChildContext=e,tn(Ua),tn(ga),Kr(ga,e)):tn(Ua),Kr(Ua,r)}var vo=null,Ub=!1,gj=!1;function mF(e){vo===null?vo=[e]:vo.push(e)}function U7(e){Ub=!0,mF(e)}function oc(){if(!gj&&vo!==null){gj=!0;var e=0,t=Tr;try{var r=vo;for(Tr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}vo=null,Ub=!1}catch(a){throw vo!==null&&(vo=vo.slice(e+1)),BL(BC,oc),a}finally{Tr=t,gj=!1}}return null}var wd=[],jd=0,Hy=null,Gy=0,Ii=[],Ri=0,gu=null,wo=1,jo="";function Dc(e,t){wd[jd++]=Gy,wd[jd++]=Hy,Hy=e,Gy=t}function vF(e,t,r){Ii[Ri++]=wo,Ii[Ri++]=jo,Ii[Ri++]=gu,gu=e;var n=wo;e=jo;var a=32-bs(n)-1;n&=~(1<<a),r+=1;var i=32-bs(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,wo=1<<32-bs(t)+a|r<<a|n,jo=i+e}else wo=1<<i|r<<a|n,jo=e}function YC(e){e.return!==null&&(Dc(e,1),vF(e,1,0))}function XC(e){for(;e===Hy;)Hy=wd[--jd],wd[jd]=null,Gy=wd[--jd],wd[jd]=null;for(;e===gu;)gu=Ii[--Ri],Ii[Ri]=null,jo=Ii[--Ri],Ii[Ri]=null,wo=Ii[--Ri],Ii[Ri]=null}var mi=null,hi=null,ln=!1,vs=null;function gF(e,t){var r=Li(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function xk(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,mi=e,hi=Il(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,mi=e,hi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=gu!==null?{id:wo,overflow:jo}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Li(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,mi=e,hi=null,!0):!1;default:return!1}}function b_(e){return(e.mode&1)!==0&&(e.flags&128)===0}function w_(e){if(ln){var t=hi;if(t){var r=t;if(!xk(e,t)){if(b_(e))throw Error(_e(418));t=Il(r.nextSibling);var n=mi;t&&xk(e,t)?gF(n,r):(e.flags=e.flags&-4097|2,ln=!1,mi=e)}}else{if(b_(e))throw Error(_e(418));e.flags=e.flags&-4097|2,ln=!1,mi=e}}}function bk(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;mi=e}function yg(e){if(e!==mi)return!1;if(!ln)return bk(e),ln=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!v_(e.type,e.memoizedProps)),t&&(t=hi)){if(b_(e))throw yF(),Error(_e(418));for(;t;)gF(e,t),t=Il(t.nextSibling)}if(bk(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(_e(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){hi=Il(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}hi=null}}else hi=mi?Il(e.stateNode.nextSibling):null;return!0}function yF(){for(var e=hi;e;)e=Il(e.nextSibling)}function lf(){hi=mi=null,ln=!1}function QC(e){vs===null?vs=[e]:vs.push(e)}var z7=Ho.ReactCurrentBatchConfig;function Mh(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(_e(309));var n=r.stateNode}if(!n)throw Error(_e(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(_e(284));if(!r._owner)throw Error(_e(290,e))}return e}function xg(e,t){throw e=Object.prototype.toString.call(t),Error(_e(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wk(e){var t=e._init;return t(e._payload)}function xF(e){function t(x,b){if(e){var w=x.deletions;w===null?(x.deletions=[b],x.flags|=16):w.push(b)}}function r(x,b){if(!e)return null;for(;b!==null;)t(x,b),b=b.sibling;return null}function n(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function a(x,b){return x=Ll(x,b),x.index=0,x.sibling=null,x}function i(x,b,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<b?(x.flags|=2,b):w):(x.flags|=2,b)):(x.flags|=1048576,b)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,b,w,j){return b===null||b.tag!==6?(b=_j(w,x.mode,j),b.return=x,b):(b=a(b,w),b.return=x,b)}function c(x,b,w,j){var S=w.type;return S===md?d(x,b,w.props.children,j,w.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===dl&&wk(S)===b.type)?(j=a(b,w.props),j.ref=Mh(x,b,w),j.return=x,j):(j=jy(w.type,w.key,w.props,null,x.mode,j),j.ref=Mh(x,b,w),j.return=x,j)}function u(x,b,w,j){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=Nj(w,x.mode,j),b.return=x,b):(b=a(b,w.children||[]),b.return=x,b)}function d(x,b,w,j,S){return b===null||b.tag!==7?(b=cu(w,x.mode,j,S),b.return=x,b):(b=a(b,w),b.return=x,b)}function f(x,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=_j(""+b,x.mode,w),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case lg:return w=jy(b.type,b.key,b.props,null,x.mode,w),w.ref=Mh(x,null,b),w.return=x,w;case pd:return b=Nj(b,x.mode,w),b.return=x,b;case dl:var j=b._init;return f(x,j(b._payload),w)}if(ip(b)||Th(b))return b=cu(b,x.mode,w,null),b.return=x,b;xg(x,b)}return null}function h(x,b,w,j){var S=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:l(x,b,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case lg:return w.key===S?c(x,b,w,j):null;case pd:return w.key===S?u(x,b,w,j):null;case dl:return S=w._init,h(x,b,S(w._payload),j)}if(ip(w)||Th(w))return S!==null?null:d(x,b,w,j,null);xg(x,w)}return null}function p(x,b,w,j,S){if(typeof j=="string"&&j!==""||typeof j=="number")return x=x.get(w)||null,l(b,x,""+j,S);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case lg:return x=x.get(j.key===null?w:j.key)||null,c(b,x,j,S);case pd:return x=x.get(j.key===null?w:j.key)||null,u(b,x,j,S);case dl:var _=j._init;return p(x,b,w,_(j._payload),S)}if(ip(j)||Th(j))return x=x.get(w)||null,d(b,x,j,S,null);xg(b,j)}return null}function y(x,b,w,j){for(var S=null,_=null,N=b,C=b=0,E=null;N!==null&&C<w.length;C++){N.index>C?(E=N,N=null):E=N.sibling;var A=h(x,N,w[C],j);if(A===null){N===null&&(N=E);break}e&&N&&A.alternate===null&&t(x,N),b=i(A,b,C),_===null?S=A:_.sibling=A,_=A,N=E}if(C===w.length)return r(x,N),ln&&Dc(x,C),S;if(N===null){for(;C<w.length;C++)N=f(x,w[C],j),N!==null&&(b=i(N,b,C),_===null?S=N:_.sibling=N,_=N);return ln&&Dc(x,C),S}for(N=n(x,N);C<w.length;C++)E=p(N,x,C,w[C],j),E!==null&&(e&&E.alternate!==null&&N.delete(E.key===null?C:E.key),b=i(E,b,C),_===null?S=E:_.sibling=E,_=E);return e&&N.forEach(function(O){return t(x,O)}),ln&&Dc(x,C),S}function m(x,b,w,j){var S=Th(w);if(typeof S!="function")throw Error(_e(150));if(w=S.call(w),w==null)throw Error(_e(151));for(var _=S=null,N=b,C=b=0,E=null,A=w.next();N!==null&&!A.done;C++,A=w.next()){N.index>C?(E=N,N=null):E=N.sibling;var O=h(x,N,A.value,j);if(O===null){N===null&&(N=E);break}e&&N&&O.alternate===null&&t(x,N),b=i(O,b,C),_===null?S=O:_.sibling=O,_=O,N=E}if(A.done)return r(x,N),ln&&Dc(x,C),S;if(N===null){for(;!A.done;C++,A=w.next())A=f(x,A.value,j),A!==null&&(b=i(A,b,C),_===null?S=A:_.sibling=A,_=A);return ln&&Dc(x,C),S}for(N=n(x,N);!A.done;C++,A=w.next())A=p(N,x,C,A.value,j),A!==null&&(e&&A.alternate!==null&&N.delete(A.key===null?C:A.key),b=i(A,b,C),_===null?S=A:_.sibling=A,_=A);return e&&N.forEach(function(P){return t(x,P)}),ln&&Dc(x,C),S}function v(x,b,w,j){if(typeof w=="object"&&w!==null&&w.type===md&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case lg:e:{for(var S=w.key,_=b;_!==null;){if(_.key===S){if(S=w.type,S===md){if(_.tag===7){r(x,_.sibling),b=a(_,w.props.children),b.return=x,x=b;break e}}else if(_.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===dl&&wk(S)===_.type){r(x,_.sibling),b=a(_,w.props),b.ref=Mh(x,_,w),b.return=x,x=b;break e}r(x,_);break}else t(x,_);_=_.sibling}w.type===md?(b=cu(w.props.children,x.mode,j,w.key),b.return=x,x=b):(j=jy(w.type,w.key,w.props,null,x.mode,j),j.ref=Mh(x,b,w),j.return=x,x=j)}return o(x);case pd:e:{for(_=w.key;b!==null;){if(b.key===_)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){r(x,b.sibling),b=a(b,w.children||[]),b.return=x,x=b;break e}else{r(x,b);break}else t(x,b);b=b.sibling}b=Nj(w,x.mode,j),b.return=x,x=b}return o(x);case dl:return _=w._init,v(x,b,_(w._payload),j)}if(ip(w))return y(x,b,w,j);if(Th(w))return m(x,b,w,j);xg(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(r(x,b.sibling),b=a(b,w),b.return=x,x=b):(r(x,b),b=_j(w,x.mode,j),b.return=x,x=b),o(x)):r(x,b)}return v}var cf=xF(!0),bF=xF(!1),Ky=sc(null),Yy=null,Sd=null,JC=null;function ZC(){JC=Sd=Yy=null}function eE(e){var t=Ky.current;tn(Ky),e._currentValue=t}function j_(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Rd(e,t){Yy=e,JC=Sd=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ba=!0),e.firstContext=null)}function Vi(e){var t=e._currentValue;if(JC!==e)if(e={context:e,memoizedValue:t,next:null},Sd===null){if(Yy===null)throw Error(_e(308));Sd=e,Yy.dependencies={lanes:0,firstContext:e}}else Sd=Sd.next=e;return t}var Vc=null;function tE(e){Vc===null?Vc=[e]:Vc.push(e)}function wF(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,tE(t)):(r.next=a.next,a.next=r),t.interleaved=r,$o(e,n)}function $o(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var fl=!1;function rE(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jF(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Eo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Rl(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,gr&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,$o(e,r)}return a=n.interleaved,a===null?(t.next=t,tE(n)):(t.next=a.next,a.next=t),n.interleaved=t,$o(e,r)}function vy(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,qC(e,r)}}function jk(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Xy(e,t,r,n){var a=e.updateQueue;fl=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,m=l;switch(h=t,p=r,m.tag){case 1:if(y=m.payload,typeof y=="function"){f=y.call(p,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=m.payload,h=typeof y=="function"?y.call(p,f,h):y,h==null)break e;f=pn({},f,h);break e;case 2:fl=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);xu|=o,e.lanes=o,e.memoizedState=f}}function Sk(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(_e(191,a));a.call(n)}}}var uv={},Gs=sc(uv),Kp=sc(uv),Yp=sc(uv);function Hc(e){if(e===uv)throw Error(_e(174));return e}function nE(e,t){switch(Kr(Yp,t),Kr(Kp,e),Kr(Gs,uv),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:r_(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=r_(t,e)}tn(Gs),Kr(Gs,t)}function uf(){tn(Gs),tn(Kp),tn(Yp)}function SF(e){Hc(Yp.current);var t=Hc(Gs.current),r=r_(t,e.type);t!==r&&(Kr(Kp,e),Kr(Gs,r))}function aE(e){Kp.current===e&&(tn(Gs),tn(Kp))}var dn=sc(0);function Qy(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yj=[];function iE(){for(var e=0;e<yj.length;e++)yj[e]._workInProgressVersionPrimary=null;yj.length=0}var gy=Ho.ReactCurrentDispatcher,xj=Ho.ReactCurrentBatchConfig,yu=0,hn=null,Ln=null,Hn=null,Jy=!1,yp=!1,Xp=0,W7=0;function ca(){throw Error(_e(321))}function sE(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!_s(e[r],t[r]))return!1;return!0}function oE(e,t,r,n,a,i){if(yu=i,hn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,gy.current=e===null||e.memoizedState===null?K7:Y7,e=r(n,a),yp){i=0;do{if(yp=!1,Xp=0,25<=i)throw Error(_e(301));i+=1,Hn=Ln=null,t.updateQueue=null,gy.current=X7,e=r(n,a)}while(yp)}if(gy.current=Zy,t=Ln!==null&&Ln.next!==null,yu=0,Hn=Ln=hn=null,Jy=!1,t)throw Error(_e(300));return e}function lE(){var e=Xp!==0;return Xp=0,e}function Rs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hn===null?hn.memoizedState=Hn=e:Hn=Hn.next=e,Hn}function Hi(){if(Ln===null){var e=hn.alternate;e=e!==null?e.memoizedState:null}else e=Ln.next;var t=Hn===null?hn.memoizedState:Hn.next;if(t!==null)Hn=t,Ln=e;else{if(e===null)throw Error(_e(310));Ln=e,e={memoizedState:Ln.memoizedState,baseState:Ln.baseState,baseQueue:Ln.baseQueue,queue:Ln.queue,next:null},Hn===null?hn.memoizedState=Hn=e:Hn=Hn.next=e}return Hn}function Qp(e,t){return typeof t=="function"?t(e):t}function bj(e){var t=Hi(),r=t.queue;if(r===null)throw Error(_e(311));r.lastRenderedReducer=e;var n=Ln,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((yu&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,hn.lanes|=d,xu|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,_s(n,t.memoizedState)||(Ba=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,hn.lanes|=i,xu|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function wj(e){var t=Hi(),r=t.queue;if(r===null)throw Error(_e(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);_s(i,t.memoizedState)||(Ba=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function _F(){}function NF(e,t){var r=hn,n=Hi(),a=t(),i=!_s(n.memoizedState,a);if(i&&(n.memoizedState=a,Ba=!0),n=n.queue,cE(PF.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Hn!==null&&Hn.memoizedState.tag&1){if(r.flags|=2048,Jp(9,EF.bind(null,r,n,a,t),void 0,null),Yn===null)throw Error(_e(349));yu&30||CF(r,t,a)}return a}function CF(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=hn.updateQueue,t===null?(t={lastEffect:null,stores:null},hn.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function EF(e,t,r,n){t.value=r,t.getSnapshot=n,OF(t)&&AF(e)}function PF(e,t,r){return r(function(){OF(t)&&AF(e)})}function OF(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!_s(e,r)}catch{return!0}}function AF(e){var t=$o(e,1);t!==null&&ws(t,e,1,-1)}function _k(e){var t=Rs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qp,lastRenderedState:e},t.queue=e,e=e.dispatch=G7.bind(null,hn,e),[t.memoizedState,e]}function Jp(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=hn.updateQueue,t===null?(t={lastEffect:null,stores:null},hn.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function kF(){return Hi().memoizedState}function yy(e,t,r,n){var a=Rs();hn.flags|=e,a.memoizedState=Jp(1|t,r,void 0,n===void 0?null:n)}function zb(e,t,r,n){var a=Hi();n=n===void 0?null:n;var i=void 0;if(Ln!==null){var o=Ln.memoizedState;if(i=o.destroy,n!==null&&sE(n,o.deps)){a.memoizedState=Jp(t,r,i,n);return}}hn.flags|=e,a.memoizedState=Jp(1|t,r,i,n)}function Nk(e,t){return yy(8390656,8,e,t)}function cE(e,t){return zb(2048,8,e,t)}function TF(e,t){return zb(4,2,e,t)}function DF(e,t){return zb(4,4,e,t)}function IF(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function RF(e,t,r){return r=r!=null?r.concat([e]):null,zb(4,4,IF.bind(null,t,e),r)}function uE(){}function $F(e,t){var r=Hi();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&sE(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function MF(e,t){var r=Hi();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&sE(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function LF(e,t,r){return yu&21?(_s(r,t)||(r=zL(),hn.lanes|=r,xu|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ba=!0),e.memoizedState=r)}function V7(e,t){var r=Tr;Tr=r!==0&&4>r?r:4,e(!0);var n=xj.transition;xj.transition={};try{e(!1),t()}finally{Tr=r,xj.transition=n}}function FF(){return Hi().memoizedState}function H7(e,t,r){var n=Ml(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},BF(e))qF(t,r);else if(r=wF(e,t,r,n),r!==null){var a=Pa();ws(r,e,n,a),UF(r,t,n)}}function G7(e,t,r){var n=Ml(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(BF(e))qF(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,_s(l,o)){var c=t.interleaved;c===null?(a.next=a,tE(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=wF(e,t,a,n),r!==null&&(a=Pa(),ws(r,e,n,a),UF(r,t,n))}}function BF(e){var t=e.alternate;return e===hn||t!==null&&t===hn}function qF(e,t){yp=Jy=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function UF(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,qC(e,r)}}var Zy={readContext:Vi,useCallback:ca,useContext:ca,useEffect:ca,useImperativeHandle:ca,useInsertionEffect:ca,useLayoutEffect:ca,useMemo:ca,useReducer:ca,useRef:ca,useState:ca,useDebugValue:ca,useDeferredValue:ca,useTransition:ca,useMutableSource:ca,useSyncExternalStore:ca,useId:ca,unstable_isNewReconciler:!1},K7={readContext:Vi,useCallback:function(e,t){return Rs().memoizedState=[e,t===void 0?null:t],e},useContext:Vi,useEffect:Nk,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,yy(4194308,4,IF.bind(null,t,e),r)},useLayoutEffect:function(e,t){return yy(4194308,4,e,t)},useInsertionEffect:function(e,t){return yy(4,2,e,t)},useMemo:function(e,t){var r=Rs();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Rs();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=H7.bind(null,hn,e),[n.memoizedState,e]},useRef:function(e){var t=Rs();return e={current:e},t.memoizedState=e},useState:_k,useDebugValue:uE,useDeferredValue:function(e){return Rs().memoizedState=e},useTransition:function(){var e=_k(!1),t=e[0];return e=V7.bind(null,e[1]),Rs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=hn,a=Rs();if(ln){if(r===void 0)throw Error(_e(407));r=r()}else{if(r=t(),Yn===null)throw Error(_e(349));yu&30||CF(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,Nk(PF.bind(null,n,i,e),[e]),n.flags|=2048,Jp(9,EF.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Rs(),t=Yn.identifierPrefix;if(ln){var r=jo,n=wo;r=(n&~(1<<32-bs(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Xp++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=W7++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Y7={readContext:Vi,useCallback:$F,useContext:Vi,useEffect:cE,useImperativeHandle:RF,useInsertionEffect:TF,useLayoutEffect:DF,useMemo:MF,useReducer:bj,useRef:kF,useState:function(){return bj(Qp)},useDebugValue:uE,useDeferredValue:function(e){var t=Hi();return LF(t,Ln.memoizedState,e)},useTransition:function(){var e=bj(Qp)[0],t=Hi().memoizedState;return[e,t]},useMutableSource:_F,useSyncExternalStore:NF,useId:FF,unstable_isNewReconciler:!1},X7={readContext:Vi,useCallback:$F,useContext:Vi,useEffect:cE,useImperativeHandle:RF,useInsertionEffect:TF,useLayoutEffect:DF,useMemo:MF,useReducer:wj,useRef:kF,useState:function(){return wj(Qp)},useDebugValue:uE,useDeferredValue:function(e){var t=Hi();return Ln===null?t.memoizedState=e:LF(t,Ln.memoizedState,e)},useTransition:function(){var e=wj(Qp)[0],t=Hi().memoizedState;return[e,t]},useMutableSource:_F,useSyncExternalStore:NF,useId:FF,unstable_isNewReconciler:!1};function os(e,t){if(e&&e.defaultProps){t=pn({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function S_(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:pn({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Wb={isMounted:function(e){return(e=e._reactInternals)?Fu(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Pa(),a=Ml(e),i=Eo(n,a);i.payload=t,r!=null&&(i.callback=r),t=Rl(e,i,a),t!==null&&(ws(t,e,a,n),vy(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Pa(),a=Ml(e),i=Eo(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Rl(e,i,a),t!==null&&(ws(t,e,a,n),vy(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Pa(),n=Ml(e),a=Eo(r,n);a.tag=2,t!=null&&(a.callback=t),t=Rl(e,a,n),t!==null&&(ws(t,e,n,r),vy(t,e,n))}};function Ck(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Wp(r,n)||!Wp(a,i):!0}function zF(e,t,r){var n=!1,a=Kl,i=t.contextType;return typeof i=="object"&&i!==null?i=Vi(i):(a=za(t)?vu:ga.current,n=t.contextTypes,i=(n=n!=null)?of(e,a):Kl),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Wb,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Ek(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Wb.enqueueReplaceState(t,t.state,null)}function __(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},rE(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Vi(i):(i=za(t)?vu:ga.current,a.context=of(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(S_(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Wb.enqueueReplaceState(a,a.state,null),Xy(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function df(e,t){try{var r="",n=t;do r+=_9(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function jj(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function N_(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Q7=typeof WeakMap=="function"?WeakMap:Map;function WF(e,t,r){r=Eo(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){tx||(tx=!0,R_=n),N_(e,t)},r}function VF(e,t,r){r=Eo(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){N_(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){N_(e,t),typeof n!="function"&&($l===null?$l=new Set([this]):$l.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Pk(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Q7;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=dG.bind(null,e,t,r),t.then(e,e))}function Ok(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ak(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Eo(-1,1),t.tag=2,Rl(r,t,1))),r.lanes|=1),e)}var J7=Ho.ReactCurrentOwner,Ba=!1;function ja(e,t,r,n){t.child=e===null?bF(t,null,r,n):cf(t,e.child,r,n)}function kk(e,t,r,n,a){r=r.render;var i=t.ref;return Rd(t,a),n=oE(e,t,r,n,i,a),r=lE(),e!==null&&!Ba?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Mo(e,t,a)):(ln&&r&&YC(t),t.flags|=1,ja(e,t,n,a),t.child)}function Tk(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!yE(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,HF(e,t,i,n,a)):(e=jy(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Wp,r(o,n)&&e.ref===t.ref)return Mo(e,t,a)}return t.flags|=1,e=Ll(i,n),e.ref=t.ref,e.return=t,t.child=e}function HF(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Wp(i,n)&&e.ref===t.ref)if(Ba=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Ba=!0);else return t.lanes=e.lanes,Mo(e,t,a)}return C_(e,t,r,n,a)}function GF(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Kr(Nd,si),si|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Kr(Nd,si),si|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Kr(Nd,si),si|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Kr(Nd,si),si|=n;return ja(e,t,a,r),t.child}function KF(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function C_(e,t,r,n,a){var i=za(r)?vu:ga.current;return i=of(t,i),Rd(t,a),r=oE(e,t,r,n,i,a),n=lE(),e!==null&&!Ba?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Mo(e,t,a)):(ln&&n&&YC(t),t.flags|=1,ja(e,t,r,a),t.child)}function Dk(e,t,r,n,a){if(za(r)){var i=!0;Vy(t)}else i=!1;if(Rd(t,a),t.stateNode===null)xy(e,t),zF(t,r,n),__(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Vi(u):(u=za(r)?vu:ga.current,u=of(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Ek(t,o,n,u),fl=!1;var h=t.memoizedState;o.state=h,Xy(t,n,o,a),c=t.memoizedState,l!==n||h!==c||Ua.current||fl?(typeof d=="function"&&(S_(t,r,d,n),c=t.memoizedState),(l=fl||Ck(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,jF(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:os(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Vi(c):(c=za(r)?vu:ga.current,c=of(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&Ek(t,o,n,c),fl=!1,h=t.memoizedState,o.state=h,Xy(t,n,o,a);var y=t.memoizedState;l!==f||h!==y||Ua.current||fl?(typeof p=="function"&&(S_(t,r,p,n),y=t.memoizedState),(u=fl||Ck(t,r,u,n,h,y,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),o.props=n,o.state=y,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return E_(e,t,r,n,i,a)}function E_(e,t,r,n,a,i){KF(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&yk(t,r,!1),Mo(e,t,i);n=t.stateNode,J7.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=cf(t,e.child,null,i),t.child=cf(t,null,l,i)):ja(e,t,l,i),t.memoizedState=n.state,a&&yk(t,r,!0),t.child}function YF(e){var t=e.stateNode;t.pendingContext?gk(e,t.pendingContext,t.pendingContext!==t.context):t.context&&gk(e,t.context,!1),nE(e,t.containerInfo)}function Ik(e,t,r,n,a){return lf(),QC(a),t.flags|=256,ja(e,t,r,n),t.child}var P_={dehydrated:null,treeContext:null,retryLane:0};function O_(e){return{baseLanes:e,cachePool:null,transitions:null}}function XF(e,t,r){var n=t.pendingProps,a=dn.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Kr(dn,a&1),e===null)return w_(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Gb(o,n,0,null),e=cu(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=O_(r),t.memoizedState=P_,e):dE(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return Z7(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Ll(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Ll(l,i):(i=cu(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?O_(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=P_,n}return i=e.child,e=i.sibling,n=Ll(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function dE(e,t){return t=Gb({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function bg(e,t,r,n){return n!==null&&QC(n),cf(t,e.child,null,r),e=dE(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Z7(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=jj(Error(_e(422))),bg(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Gb({mode:"visible",children:n.children},a,0,null),i=cu(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&cf(t,e.child,null,o),t.child.memoizedState=O_(o),t.memoizedState=P_,i);if(!(t.mode&1))return bg(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(_e(419)),n=jj(i,n,void 0),bg(e,t,o,n)}if(l=(o&e.childLanes)!==0,Ba||l){if(n=Yn,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,$o(e,a),ws(n,e,a,-1))}return gE(),n=jj(Error(_e(421))),bg(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=fG.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,hi=Il(a.nextSibling),mi=t,ln=!0,vs=null,e!==null&&(Ii[Ri++]=wo,Ii[Ri++]=jo,Ii[Ri++]=gu,wo=e.id,jo=e.overflow,gu=t),t=dE(t,n.children),t.flags|=4096,t)}function Rk(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),j_(e.return,t,r)}function Sj(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function QF(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(ja(e,t,n.children,r),n=dn.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Rk(e,r,t);else if(e.tag===19)Rk(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Kr(dn,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Qy(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Sj(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Qy(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Sj(t,!0,r,null,i);break;case"together":Sj(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xy(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Mo(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),xu|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(_e(153));if(t.child!==null){for(e=t.child,r=Ll(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ll(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function eG(e,t,r){switch(t.tag){case 3:YF(t),lf();break;case 5:SF(t);break;case 1:za(t.type)&&Vy(t);break;case 4:nE(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Kr(Ky,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Kr(dn,dn.current&1),t.flags|=128,null):r&t.child.childLanes?XF(e,t,r):(Kr(dn,dn.current&1),e=Mo(e,t,r),e!==null?e.sibling:null);Kr(dn,dn.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return QF(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Kr(dn,dn.current),n)break;return null;case 22:case 23:return t.lanes=0,GF(e,t,r)}return Mo(e,t,r)}var JF,A_,ZF,e4;JF=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};A_=function(){};ZF=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Hc(Gs.current);var i=null;switch(r){case"input":a=JS(e,a),n=JS(e,n),i=[];break;case"select":a=pn({},a,{value:void 0}),n=pn({},n,{value:void 0}),i=[];break;case"textarea":a=t_(e,a),n=t_(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=zy)}n_(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Mp.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Mp.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Jr("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};e4=function(e,t,r,n){r!==n&&(t.flags|=4)};function Lh(e,t){if(!ln)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ua(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function tG(e,t,r){var n=t.pendingProps;switch(XC(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ua(t),null;case 1:return za(t.type)&&Wy(),ua(t),null;case 3:return n=t.stateNode,uf(),tn(Ua),tn(ga),iE(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(yg(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,vs!==null&&(L_(vs),vs=null))),A_(e,t),ua(t),null;case 5:aE(t);var a=Hc(Yp.current);if(r=t.type,e!==null&&t.stateNode!=null)ZF(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(_e(166));return ua(t),null}if(e=Hc(Gs.current),yg(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Fs]=t,n[Gp]=i,e=(t.mode&1)!==0,r){case"dialog":Jr("cancel",n),Jr("close",n);break;case"iframe":case"object":case"embed":Jr("load",n);break;case"video":case"audio":for(a=0;a<op.length;a++)Jr(op[a],n);break;case"source":Jr("error",n);break;case"img":case"image":case"link":Jr("error",n),Jr("load",n);break;case"details":Jr("toggle",n);break;case"input":WA(n,i),Jr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Jr("invalid",n);break;case"textarea":HA(n,i),Jr("invalid",n)}n_(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&gg(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&gg(n.textContent,l,e),a=["children",""+l]):Mp.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Jr("scroll",n)}switch(r){case"input":cg(n),VA(n,i,!0);break;case"textarea":cg(n),GA(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=zy)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=PL(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Fs]=t,e[Gp]=n,JF(e,t,!1,!1),t.stateNode=e;e:{switch(o=a_(r,n),r){case"dialog":Jr("cancel",e),Jr("close",e),a=n;break;case"iframe":case"object":case"embed":Jr("load",e),a=n;break;case"video":case"audio":for(a=0;a<op.length;a++)Jr(op[a],e);a=n;break;case"source":Jr("error",e),a=n;break;case"img":case"image":case"link":Jr("error",e),Jr("load",e),a=n;break;case"details":Jr("toggle",e),a=n;break;case"input":WA(e,n),a=JS(e,n),Jr("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=pn({},n,{value:void 0}),Jr("invalid",e);break;case"textarea":HA(e,n),a=t_(e,n),Jr("invalid",e);break;default:a=n}n_(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?kL(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&OL(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Lp(e,c):typeof c=="number"&&Lp(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Mp.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Jr("scroll",e):c!=null&&RC(e,i,c,o))}switch(r){case"input":cg(e),VA(e,n,!1);break;case"textarea":cg(e),GA(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Gl(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?kd(e,!!n.multiple,i,!1):n.defaultValue!=null&&kd(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=zy)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ua(t),null;case 6:if(e&&t.stateNode!=null)e4(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(_e(166));if(r=Hc(Yp.current),Hc(Gs.current),yg(t)){if(n=t.stateNode,r=t.memoizedProps,n[Fs]=t,(i=n.nodeValue!==r)&&(e=mi,e!==null))switch(e.tag){case 3:gg(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&gg(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Fs]=t,t.stateNode=n}return ua(t),null;case 13:if(tn(dn),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ln&&hi!==null&&t.mode&1&&!(t.flags&128))yF(),lf(),t.flags|=98560,i=!1;else if(i=yg(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(_e(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(_e(317));i[Fs]=t}else lf(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ua(t),i=!1}else vs!==null&&(L_(vs),vs=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||dn.current&1?qn===0&&(qn=3):gE())),t.updateQueue!==null&&(t.flags|=4),ua(t),null);case 4:return uf(),A_(e,t),e===null&&Vp(t.stateNode.containerInfo),ua(t),null;case 10:return eE(t.type._context),ua(t),null;case 17:return za(t.type)&&Wy(),ua(t),null;case 19:if(tn(dn),i=t.memoizedState,i===null)return ua(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Lh(i,!1);else{if(qn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Qy(e),o!==null){for(t.flags|=128,Lh(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Kr(dn,dn.current&1|2),t.child}e=e.sibling}i.tail!==null&&Sn()>ff&&(t.flags|=128,n=!0,Lh(i,!1),t.lanes=4194304)}else{if(!n)if(e=Qy(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Lh(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ln)return ua(t),null}else 2*Sn()-i.renderingStartTime>ff&&r!==1073741824&&(t.flags|=128,n=!0,Lh(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Sn(),t.sibling=null,r=dn.current,Kr(dn,n?r&1|2:r&1),t):(ua(t),null);case 22:case 23:return vE(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?si&1073741824&&(ua(t),t.subtreeFlags&6&&(t.flags|=8192)):ua(t),null;case 24:return null;case 25:return null}throw Error(_e(156,t.tag))}function rG(e,t){switch(XC(t),t.tag){case 1:return za(t.type)&&Wy(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return uf(),tn(Ua),tn(ga),iE(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return aE(t),null;case 13:if(tn(dn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(_e(340));lf()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return tn(dn),null;case 4:return uf(),null;case 10:return eE(t.type._context),null;case 22:case 23:return vE(),null;case 24:return null;default:return null}}var wg=!1,ma=!1,nG=typeof WeakSet=="function"?WeakSet:Set,ze=null;function _d(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){gn(e,t,n)}else r.current=null}function k_(e,t,r){try{r()}catch(n){gn(e,t,n)}}var $k=!1;function aG(e,t){if(p_=By,e=iF(),KC(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=o),h===i&&++d===n&&(c=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(m_={focusedElem:e,selectionRange:r},By=!1,ze=t;ze!==null;)if(t=ze,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ze=e;else for(;ze!==null;){t=ze;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var m=y.memoizedProps,v=y.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?m:os(t.type,m),v);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_e(163))}}catch(j){gn(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,ze=e;break}ze=t.return}return y=$k,$k=!1,y}function xp(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&k_(t,r,i)}a=a.next}while(a!==n)}}function Vb(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function T_(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function t4(e){var t=e.alternate;t!==null&&(e.alternate=null,t4(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Fs],delete t[Gp],delete t[y_],delete t[B7],delete t[q7])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function r4(e){return e.tag===5||e.tag===3||e.tag===4}function Mk(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||r4(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function D_(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=zy));else if(n!==4&&(e=e.child,e!==null))for(D_(e,t,r),e=e.sibling;e!==null;)D_(e,t,r),e=e.sibling}function I_(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(I_(e,t,r),e=e.sibling;e!==null;)I_(e,t,r),e=e.sibling}var na=null,ds=!1;function rl(e,t,r){for(r=r.child;r!==null;)n4(e,t,r),r=r.sibling}function n4(e,t,r){if(Hs&&typeof Hs.onCommitFiberUnmount=="function")try{Hs.onCommitFiberUnmount(Mb,r)}catch{}switch(r.tag){case 5:ma||_d(r,t);case 6:var n=na,a=ds;na=null,rl(e,t,r),na=n,ds=a,na!==null&&(ds?(e=na,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):na.removeChild(r.stateNode));break;case 18:na!==null&&(ds?(e=na,r=r.stateNode,e.nodeType===8?vj(e.parentNode,r):e.nodeType===1&&vj(e,r),Up(e)):vj(na,r.stateNode));break;case 4:n=na,a=ds,na=r.stateNode.containerInfo,ds=!0,rl(e,t,r),na=n,ds=a;break;case 0:case 11:case 14:case 15:if(!ma&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&k_(r,t,o),a=a.next}while(a!==n)}rl(e,t,r);break;case 1:if(!ma&&(_d(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){gn(r,t,l)}rl(e,t,r);break;case 21:rl(e,t,r);break;case 22:r.mode&1?(ma=(n=ma)||r.memoizedState!==null,rl(e,t,r),ma=n):rl(e,t,r);break;default:rl(e,t,r)}}function Lk(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new nG),t.forEach(function(n){var a=hG.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function rs(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:na=l.stateNode,ds=!1;break e;case 3:na=l.stateNode.containerInfo,ds=!0;break e;case 4:na=l.stateNode.containerInfo,ds=!0;break e}l=l.return}if(na===null)throw Error(_e(160));n4(i,o,a),na=null,ds=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){gn(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)a4(t,e),t=t.sibling}function a4(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(rs(t,e),Ds(e),n&4){try{xp(3,e,e.return),Vb(3,e)}catch(m){gn(e,e.return,m)}try{xp(5,e,e.return)}catch(m){gn(e,e.return,m)}}break;case 1:rs(t,e),Ds(e),n&512&&r!==null&&_d(r,r.return);break;case 5:if(rs(t,e),Ds(e),n&512&&r!==null&&_d(r,r.return),e.flags&32){var a=e.stateNode;try{Lp(a,"")}catch(m){gn(e,e.return,m)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&CL(a,i),a_(l,o);var u=a_(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?kL(a,f):d==="dangerouslySetInnerHTML"?OL(a,f):d==="children"?Lp(a,f):RC(a,d,f,u)}switch(l){case"input":ZS(a,i);break;case"textarea":EL(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?kd(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?kd(a,!!i.multiple,i.defaultValue,!0):kd(a,!!i.multiple,i.multiple?[]:"",!1))}a[Gp]=i}catch(m){gn(e,e.return,m)}}break;case 6:if(rs(t,e),Ds(e),n&4){if(e.stateNode===null)throw Error(_e(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(m){gn(e,e.return,m)}}break;case 3:if(rs(t,e),Ds(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Up(t.containerInfo)}catch(m){gn(e,e.return,m)}break;case 4:rs(t,e),Ds(e);break;case 13:rs(t,e),Ds(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(pE=Sn())),n&4&&Lk(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(ma=(u=ma)||d,rs(t,e),ma=u):rs(t,e),Ds(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ze=e,d=e.child;d!==null;){for(f=ze=d;ze!==null;){switch(h=ze,p=h.child,h.tag){case 0:case 11:case 14:case 15:xp(4,h,h.return);break;case 1:_d(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(m){gn(n,r,m)}}break;case 5:_d(h,h.return);break;case 22:if(h.memoizedState!==null){Bk(f);continue}}p!==null?(p.return=h,ze=p):Bk(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=AL("display",o))}catch(m){gn(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){gn(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:rs(t,e),Ds(e),n&4&&Lk(e);break;case 21:break;default:rs(t,e),Ds(e)}}function Ds(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(r4(r)){var n=r;break e}r=r.return}throw Error(_e(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Lp(a,""),n.flags&=-33);var i=Mk(e);I_(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Mk(e);D_(e,l,o);break;default:throw Error(_e(161))}}catch(c){gn(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function iG(e,t,r){ze=e,i4(e)}function i4(e,t,r){for(var n=(e.mode&1)!==0;ze!==null;){var a=ze,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||wg;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||ma;l=wg;var u=ma;if(wg=o,(ma=c)&&!u)for(ze=a;ze!==null;)o=ze,c=o.child,o.tag===22&&o.memoizedState!==null?qk(a):c!==null?(c.return=o,ze=c):qk(a);for(;i!==null;)ze=i,i4(i),i=i.sibling;ze=a,wg=l,ma=u}Fk(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,ze=i):Fk(e)}}function Fk(e){for(;ze!==null;){var t=ze;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ma||Vb(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ma)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:os(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Sk(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Sk(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Up(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_e(163))}ma||t.flags&512&&T_(t)}catch(h){gn(t,t.return,h)}}if(t===e){ze=null;break}if(r=t.sibling,r!==null){r.return=t.return,ze=r;break}ze=t.return}}function Bk(e){for(;ze!==null;){var t=ze;if(t===e){ze=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ze=r;break}ze=t.return}}function qk(e){for(;ze!==null;){var t=ze;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Vb(4,t)}catch(c){gn(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){gn(t,a,c)}}var i=t.return;try{T_(t)}catch(c){gn(t,i,c)}break;case 5:var o=t.return;try{T_(t)}catch(c){gn(t,o,c)}}}catch(c){gn(t,t.return,c)}if(t===e){ze=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ze=l;break}ze=t.return}}var sG=Math.ceil,ex=Ho.ReactCurrentDispatcher,fE=Ho.ReactCurrentOwner,zi=Ho.ReactCurrentBatchConfig,gr=0,Yn=null,On=null,ia=0,si=0,Nd=sc(0),qn=0,Zp=null,xu=0,Hb=0,hE=0,bp=null,Fa=null,pE=0,ff=1/0,ho=null,tx=!1,R_=null,$l=null,jg=!1,Pl=null,rx=0,wp=0,$_=null,by=-1,wy=0;function Pa(){return gr&6?Sn():by!==-1?by:by=Sn()}function Ml(e){return e.mode&1?gr&2&&ia!==0?ia&-ia:z7.transition!==null?(wy===0&&(wy=zL()),wy):(e=Tr,e!==0||(e=window.event,e=e===void 0?16:XL(e.type)),e):1}function ws(e,t,r,n){if(50<wp)throw wp=0,$_=null,Error(_e(185));ov(e,r,n),(!(gr&2)||e!==Yn)&&(e===Yn&&(!(gr&2)&&(Hb|=r),qn===4&&ml(e,ia)),Wa(e,n),r===1&&gr===0&&!(t.mode&1)&&(ff=Sn()+500,Ub&&oc()))}function Wa(e,t){var r=e.callbackNode;z9(e,t);var n=Fy(e,e===Yn?ia:0);if(n===0)r!==null&&XA(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&XA(r),t===1)e.tag===0?U7(Uk.bind(null,e)):mF(Uk.bind(null,e)),L7(function(){!(gr&6)&&oc()}),r=null;else{switch(WL(n)){case 1:r=BC;break;case 4:r=qL;break;case 16:r=Ly;break;case 536870912:r=UL;break;default:r=Ly}r=h4(r,s4.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function s4(e,t){if(by=-1,wy=0,gr&6)throw Error(_e(327));var r=e.callbackNode;if($d()&&e.callbackNode!==r)return null;var n=Fy(e,e===Yn?ia:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=nx(e,n);else{t=n;var a=gr;gr|=2;var i=l4();(Yn!==e||ia!==t)&&(ho=null,ff=Sn()+500,lu(e,t));do try{cG();break}catch(l){o4(e,l)}while(!0);ZC(),ex.current=i,gr=a,On!==null?t=0:(Yn=null,ia=0,t=qn)}if(t!==0){if(t===2&&(a=c_(e),a!==0&&(n=a,t=M_(e,a))),t===1)throw r=Zp,lu(e,0),ml(e,n),Wa(e,Sn()),r;if(t===6)ml(e,n);else{if(a=e.current.alternate,!(n&30)&&!oG(a)&&(t=nx(e,n),t===2&&(i=c_(e),i!==0&&(n=i,t=M_(e,i))),t===1))throw r=Zp,lu(e,0),ml(e,n),Wa(e,Sn()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(_e(345));case 2:Ic(e,Fa,ho);break;case 3:if(ml(e,n),(n&130023424)===n&&(t=pE+500-Sn(),10<t)){if(Fy(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Pa(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=g_(Ic.bind(null,e,Fa,ho),t);break}Ic(e,Fa,ho);break;case 4:if(ml(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-bs(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=Sn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*sG(n/1960))-n,10<n){e.timeoutHandle=g_(Ic.bind(null,e,Fa,ho),n);break}Ic(e,Fa,ho);break;case 5:Ic(e,Fa,ho);break;default:throw Error(_e(329))}}}return Wa(e,Sn()),e.callbackNode===r?s4.bind(null,e):null}function M_(e,t){var r=bp;return e.current.memoizedState.isDehydrated&&(lu(e,t).flags|=256),e=nx(e,t),e!==2&&(t=Fa,Fa=r,t!==null&&L_(t)),e}function L_(e){Fa===null?Fa=e:Fa.push.apply(Fa,e)}function oG(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!_s(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ml(e,t){for(t&=~hE,t&=~Hb,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-bs(t),n=1<<r;e[r]=-1,t&=~n}}function Uk(e){if(gr&6)throw Error(_e(327));$d();var t=Fy(e,0);if(!(t&1))return Wa(e,Sn()),null;var r=nx(e,t);if(e.tag!==0&&r===2){var n=c_(e);n!==0&&(t=n,r=M_(e,n))}if(r===1)throw r=Zp,lu(e,0),ml(e,t),Wa(e,Sn()),r;if(r===6)throw Error(_e(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ic(e,Fa,ho),Wa(e,Sn()),null}function mE(e,t){var r=gr;gr|=1;try{return e(t)}finally{gr=r,gr===0&&(ff=Sn()+500,Ub&&oc())}}function bu(e){Pl!==null&&Pl.tag===0&&!(gr&6)&&$d();var t=gr;gr|=1;var r=zi.transition,n=Tr;try{if(zi.transition=null,Tr=1,e)return e()}finally{Tr=n,zi.transition=r,gr=t,!(gr&6)&&oc()}}function vE(){si=Nd.current,tn(Nd)}function lu(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,M7(r)),On!==null)for(r=On.return;r!==null;){var n=r;switch(XC(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Wy();break;case 3:uf(),tn(Ua),tn(ga),iE();break;case 5:aE(n);break;case 4:uf();break;case 13:tn(dn);break;case 19:tn(dn);break;case 10:eE(n.type._context);break;case 22:case 23:vE()}r=r.return}if(Yn=e,On=e=Ll(e.current,null),ia=si=t,qn=0,Zp=null,hE=Hb=xu=0,Fa=bp=null,Vc!==null){for(t=0;t<Vc.length;t++)if(r=Vc[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}Vc=null}return e}function o4(e,t){do{var r=On;try{if(ZC(),gy.current=Zy,Jy){for(var n=hn.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Jy=!1}if(yu=0,Hn=Ln=hn=null,yp=!1,Xp=0,fE.current=null,r===null||r.return===null){qn=1,Zp=t,On=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=ia,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Ok(o);if(p!==null){p.flags&=-257,Ak(p,o,l,i,t),p.mode&1&&Pk(i,u,t),t=p,c=u;var y=t.updateQueue;if(y===null){var m=new Set;m.add(c),t.updateQueue=m}else y.add(c);break e}else{if(!(t&1)){Pk(i,u,t),gE();break e}c=Error(_e(426))}}else if(ln&&l.mode&1){var v=Ok(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Ak(v,o,l,i,t),QC(df(c,l));break e}}i=c=df(c,l),qn!==4&&(qn=2),bp===null?bp=[i]:bp.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=WF(i,c,t);jk(i,x);break e;case 1:l=c;var b=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&($l===null||!$l.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=VF(i,l,t);jk(i,j);break e}}i=i.return}while(i!==null)}u4(r)}catch(S){t=S,On===r&&r!==null&&(On=r=r.return);continue}break}while(!0)}function l4(){var e=ex.current;return ex.current=Zy,e===null?Zy:e}function gE(){(qn===0||qn===3||qn===2)&&(qn=4),Yn===null||!(xu&268435455)&&!(Hb&268435455)||ml(Yn,ia)}function nx(e,t){var r=gr;gr|=2;var n=l4();(Yn!==e||ia!==t)&&(ho=null,lu(e,t));do try{lG();break}catch(a){o4(e,a)}while(!0);if(ZC(),gr=r,ex.current=n,On!==null)throw Error(_e(261));return Yn=null,ia=0,qn}function lG(){for(;On!==null;)c4(On)}function cG(){for(;On!==null&&!I9();)c4(On)}function c4(e){var t=f4(e.alternate,e,si);e.memoizedProps=e.pendingProps,t===null?u4(e):On=t,fE.current=null}function u4(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=rG(r,t),r!==null){r.flags&=32767,On=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{qn=6,On=null;return}}else if(r=tG(r,t,si),r!==null){On=r;return}if(t=t.sibling,t!==null){On=t;return}On=t=e}while(t!==null);qn===0&&(qn=5)}function Ic(e,t,r){var n=Tr,a=zi.transition;try{zi.transition=null,Tr=1,uG(e,t,r,n)}finally{zi.transition=a,Tr=n}return null}function uG(e,t,r,n){do $d();while(Pl!==null);if(gr&6)throw Error(_e(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(_e(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(W9(e,i),e===Yn&&(On=Yn=null,ia=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||jg||(jg=!0,h4(Ly,function(){return $d(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=zi.transition,zi.transition=null;var o=Tr;Tr=1;var l=gr;gr|=4,fE.current=null,aG(e,r),a4(r,e),A7(m_),By=!!p_,m_=p_=null,e.current=r,iG(r),R9(),gr=l,Tr=o,zi.transition=i}else e.current=r;if(jg&&(jg=!1,Pl=e,rx=a),i=e.pendingLanes,i===0&&($l=null),L9(r.stateNode),Wa(e,Sn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(tx)throw tx=!1,e=R_,R_=null,e;return rx&1&&e.tag!==0&&$d(),i=e.pendingLanes,i&1?e===$_?wp++:(wp=0,$_=e):wp=0,oc(),null}function $d(){if(Pl!==null){var e=WL(rx),t=zi.transition,r=Tr;try{if(zi.transition=null,Tr=16>e?16:e,Pl===null)var n=!1;else{if(e=Pl,Pl=null,rx=0,gr&6)throw Error(_e(331));var a=gr;for(gr|=4,ze=e.current;ze!==null;){var i=ze,o=i.child;if(ze.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ze=u;ze!==null;){var d=ze;switch(d.tag){case 0:case 11:case 15:xp(8,d,i)}var f=d.child;if(f!==null)f.return=d,ze=f;else for(;ze!==null;){d=ze;var h=d.sibling,p=d.return;if(t4(d),d===u){ze=null;break}if(h!==null){h.return=p,ze=h;break}ze=p}}}var y=i.alternate;if(y!==null){var m=y.child;if(m!==null){y.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}ze=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ze=o;else e:for(;ze!==null;){if(i=ze,i.flags&2048)switch(i.tag){case 0:case 11:case 15:xp(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,ze=x;break e}ze=i.return}}var b=e.current;for(ze=b;ze!==null;){o=ze;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,ze=w;else e:for(o=b;ze!==null;){if(l=ze,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Vb(9,l)}}catch(S){gn(l,l.return,S)}if(l===o){ze=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,ze=j;break e}ze=l.return}}if(gr=a,oc(),Hs&&typeof Hs.onPostCommitFiberRoot=="function")try{Hs.onPostCommitFiberRoot(Mb,e)}catch{}n=!0}return n}finally{Tr=r,zi.transition=t}}return!1}function zk(e,t,r){t=df(r,t),t=WF(e,t,1),e=Rl(e,t,1),t=Pa(),e!==null&&(ov(e,1,t),Wa(e,t))}function gn(e,t,r){if(e.tag===3)zk(e,e,r);else for(;t!==null;){if(t.tag===3){zk(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&($l===null||!$l.has(n))){e=df(r,e),e=VF(t,e,1),t=Rl(t,e,1),e=Pa(),t!==null&&(ov(t,1,e),Wa(t,e));break}}t=t.return}}function dG(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Pa(),e.pingedLanes|=e.suspendedLanes&r,Yn===e&&(ia&r)===r&&(qn===4||qn===3&&(ia&130023424)===ia&&500>Sn()-pE?lu(e,0):hE|=r),Wa(e,t)}function d4(e,t){t===0&&(e.mode&1?(t=fg,fg<<=1,!(fg&130023424)&&(fg=4194304)):t=1);var r=Pa();e=$o(e,t),e!==null&&(ov(e,t,r),Wa(e,r))}function fG(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),d4(e,r)}function hG(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(_e(314))}n!==null&&n.delete(t),d4(e,r)}var f4;f4=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ua.current)Ba=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ba=!1,eG(e,t,r);Ba=!!(e.flags&131072)}else Ba=!1,ln&&t.flags&1048576&&vF(t,Gy,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;xy(e,t),e=t.pendingProps;var a=of(t,ga.current);Rd(t,r),a=oE(null,t,n,e,a,r);var i=lE();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,za(n)?(i=!0,Vy(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,rE(t),a.updater=Wb,t.stateNode=a,a._reactInternals=t,__(t,n,e,r),t=E_(null,t,n,!0,i,r)):(t.tag=0,ln&&i&&YC(t),ja(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(xy(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=mG(n),e=os(n,e),a){case 0:t=C_(null,t,n,e,r);break e;case 1:t=Dk(null,t,n,e,r);break e;case 11:t=kk(null,t,n,e,r);break e;case 14:t=Tk(null,t,n,os(n.type,e),r);break e}throw Error(_e(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:os(n,a),C_(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:os(n,a),Dk(e,t,n,a,r);case 3:e:{if(YF(t),e===null)throw Error(_e(387));n=t.pendingProps,i=t.memoizedState,a=i.element,jF(e,t),Xy(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=df(Error(_e(423)),t),t=Ik(e,t,n,r,a);break e}else if(n!==a){a=df(Error(_e(424)),t),t=Ik(e,t,n,r,a);break e}else for(hi=Il(t.stateNode.containerInfo.firstChild),mi=t,ln=!0,vs=null,r=bF(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(lf(),n===a){t=Mo(e,t,r);break e}ja(e,t,n,r)}t=t.child}return t;case 5:return SF(t),e===null&&w_(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,v_(n,a)?o=null:i!==null&&v_(n,i)&&(t.flags|=32),KF(e,t),ja(e,t,o,r),t.child;case 6:return e===null&&w_(t),null;case 13:return XF(e,t,r);case 4:return nE(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=cf(t,null,n,r):ja(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:os(n,a),kk(e,t,n,a,r);case 7:return ja(e,t,t.pendingProps,r),t.child;case 8:return ja(e,t,t.pendingProps.children,r),t.child;case 12:return ja(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Kr(Ky,n._currentValue),n._currentValue=o,i!==null)if(_s(i.value,o)){if(i.children===a.children&&!Ua.current){t=Mo(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Eo(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),j_(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(_e(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),j_(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ja(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Rd(t,r),a=Vi(a),n=n(a),t.flags|=1,ja(e,t,n,r),t.child;case 14:return n=t.type,a=os(n,t.pendingProps),a=os(n.type,a),Tk(e,t,n,a,r);case 15:return HF(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:os(n,a),xy(e,t),t.tag=1,za(n)?(e=!0,Vy(t)):e=!1,Rd(t,r),zF(t,n,a),__(t,n,a,r),E_(null,t,n,!0,e,r);case 19:return QF(e,t,r);case 22:return GF(e,t,r)}throw Error(_e(156,t.tag))};function h4(e,t){return BL(e,t)}function pG(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Li(e,t,r,n){return new pG(e,t,r,n)}function yE(e){return e=e.prototype,!(!e||!e.isReactComponent)}function mG(e){if(typeof e=="function")return yE(e)?1:0;if(e!=null){if(e=e.$$typeof,e===MC)return 11;if(e===LC)return 14}return 2}function Ll(e,t){var r=e.alternate;return r===null?(r=Li(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function jy(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")yE(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case md:return cu(r.children,a,i,t);case $C:o=8,a|=8;break;case KS:return e=Li(12,r,t,a|2),e.elementType=KS,e.lanes=i,e;case YS:return e=Li(13,r,t,a),e.elementType=YS,e.lanes=i,e;case XS:return e=Li(19,r,t,a),e.elementType=XS,e.lanes=i,e;case SL:return Gb(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case wL:o=10;break e;case jL:o=9;break e;case MC:o=11;break e;case LC:o=14;break e;case dl:o=16,n=null;break e}throw Error(_e(130,e==null?e:typeof e,""))}return t=Li(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function cu(e,t,r,n){return e=Li(7,e,n,t),e.lanes=r,e}function Gb(e,t,r,n){return e=Li(22,e,n,t),e.elementType=SL,e.lanes=r,e.stateNode={isHidden:!1},e}function _j(e,t,r){return e=Li(6,e,null,t),e.lanes=r,e}function Nj(e,t,r){return t=Li(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function vG(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ij(0),this.expirationTimes=ij(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ij(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function xE(e,t,r,n,a,i,o,l,c){return e=new vG(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Li(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},rE(i),e}function gG(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pd,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function p4(e){if(!e)return Kl;e=e._reactInternals;e:{if(Fu(e)!==e||e.tag!==1)throw Error(_e(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(za(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(_e(171))}if(e.tag===1){var r=e.type;if(za(r))return pF(e,r,t)}return t}function m4(e,t,r,n,a,i,o,l,c){return e=xE(r,n,!0,e,a,i,o,l,c),e.context=p4(null),r=e.current,n=Pa(),a=Ml(r),i=Eo(n,a),i.callback=t??null,Rl(r,i,a),e.current.lanes=a,ov(e,a,n),Wa(e,n),e}function Kb(e,t,r,n){var a=t.current,i=Pa(),o=Ml(a);return r=p4(r),t.context===null?t.context=r:t.pendingContext=r,t=Eo(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Rl(a,t,o),e!==null&&(ws(e,a,o,i),vy(e,a,o)),o}function ax(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Wk(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function bE(e,t){Wk(e,t),(e=e.alternate)&&Wk(e,t)}function yG(){return null}var v4=typeof reportError=="function"?reportError:function(e){console.error(e)};function wE(e){this._internalRoot=e}Yb.prototype.render=wE.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(_e(409));Kb(e,t,null,null)};Yb.prototype.unmount=wE.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;bu(function(){Kb(null,e,null,null)}),t[Ro]=null}};function Yb(e){this._internalRoot=e}Yb.prototype.unstable_scheduleHydration=function(e){if(e){var t=GL();e={blockedOn:null,target:e,priority:t};for(var r=0;r<pl.length&&t!==0&&t<pl[r].priority;r++);pl.splice(r,0,e),r===0&&YL(e)}};function jE(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Xb(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Vk(){}function xG(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=ax(o);i.call(u)}}var o=m4(t,n,e,0,null,!1,!1,"",Vk);return e._reactRootContainer=o,e[Ro]=o.current,Vp(e.nodeType===8?e.parentNode:e),bu(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=ax(c);l.call(u)}}var c=xE(e,0,!1,null,null,!1,!1,"",Vk);return e._reactRootContainer=c,e[Ro]=c.current,Vp(e.nodeType===8?e.parentNode:e),bu(function(){Kb(t,c,r,n)}),c}function Qb(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=ax(o);l.call(c)}}Kb(t,o,e,a)}else o=xG(r,t,e,a,n);return ax(o)}VL=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=sp(t.pendingLanes);r!==0&&(qC(t,r|1),Wa(t,Sn()),!(gr&6)&&(ff=Sn()+500,oc()))}break;case 13:bu(function(){var n=$o(e,1);if(n!==null){var a=Pa();ws(n,e,1,a)}}),bE(e,1)}};UC=function(e){if(e.tag===13){var t=$o(e,134217728);if(t!==null){var r=Pa();ws(t,e,134217728,r)}bE(e,134217728)}};HL=function(e){if(e.tag===13){var t=Ml(e),r=$o(e,t);if(r!==null){var n=Pa();ws(r,e,t,n)}bE(e,t)}};GL=function(){return Tr};KL=function(e,t){var r=Tr;try{return Tr=e,t()}finally{Tr=r}};s_=function(e,t,r){switch(t){case"input":if(ZS(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=qb(n);if(!a)throw Error(_e(90));NL(n),ZS(n,a)}}}break;case"textarea":EL(e,r);break;case"select":t=r.value,t!=null&&kd(e,!!r.multiple,t,!1)}};IL=mE;RL=bu;var bG={usingClientEntryPoint:!1,Events:[cv,xd,qb,TL,DL,mE]},Fh={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wG={bundleType:Fh.bundleType,version:Fh.version,rendererPackageName:Fh.rendererPackageName,rendererConfig:Fh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ho.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=LL(e),e===null?null:e.stateNode},findFiberByHostInstance:Fh.findFiberByHostInstance||yG,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sg.isDisabled&&Sg.supportsFiber)try{Mb=Sg.inject(wG),Hs=Sg}catch{}}Ni.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bG;Ni.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jE(t))throw Error(_e(200));return gG(e,t,null,r)};Ni.createRoot=function(e,t){if(!jE(e))throw Error(_e(299));var r=!1,n="",a=v4;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=xE(e,1,!1,null,null,r,!1,n,a),e[Ro]=t.current,Vp(e.nodeType===8?e.parentNode:e),new wE(t)};Ni.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(_e(188)):(e=Object.keys(e).join(","),Error(_e(268,e)));return e=LL(t),e=e===null?null:e.stateNode,e};Ni.flushSync=function(e){return bu(e)};Ni.hydrate=function(e,t,r){if(!Xb(t))throw Error(_e(200));return Qb(null,e,t,!0,r)};Ni.hydrateRoot=function(e,t,r){if(!jE(e))throw Error(_e(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=v4;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=m4(t,null,e,1,r??null,a,!1,i,o),e[Ro]=t.current,Vp(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Yb(t)};Ni.render=function(e,t,r){if(!Xb(t))throw Error(_e(200));return Qb(null,e,t,!1,r)};Ni.unmountComponentAtNode=function(e){if(!Xb(e))throw Error(_e(40));return e._reactRootContainer?(bu(function(){Qb(null,null,e,!1,function(){e._reactRootContainer=null,e[Ro]=null})}),!0):!1};Ni.unstable_batchedUpdates=mE;Ni.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Xb(r))throw Error(_e(200));if(e==null||e._reactInternals===void 0)throw Error(_e(38));return Qb(e,t,r,!1,n)};Ni.version="18.3.1-next-f1338f8080-20240426";function g4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(g4)}catch(e){console.error(e)}}g4(),gL.exports=Ni;var lc=gL.exports;const SE=Sr(lc);var y4,Hk=lc;y4=Hk.createRoot,Hk.hydrateRoot;const jG=1,SG=1e6;let Cj=0;function _G(){return Cj=(Cj+1)%Number.MAX_SAFE_INTEGER,Cj.toString()}const Ej=new Map,Gk=e=>{if(Ej.has(e))return;const t=setTimeout(()=>{Ej.delete(e),jp({type:"REMOVE_TOAST",toastId:e})},SG);Ej.set(e,t)},NG=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,jG)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Gk(r):e.toasts.forEach(n=>{Gk(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Sy=[];let _y={toasts:[]};function jp(e){_y=NG(_y,e),Sy.forEach(t=>{t(_y)})}function CG({...e}){const t=_G(),r=a=>jp({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>jp({type:"DISMISS_TOAST",toastId:t});return jp({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function dr(){const[e,t]=g.useState(_y);return g.useEffect(()=>(Sy.push(t),()=>{const r=Sy.indexOf(t);r>-1&&Sy.splice(r,1)}),[e]),{...e,toast:CG,dismiss:r=>jp({type:"DISMISS_TOAST",toastId:r})}}function He(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function Kk(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function x4(...e){return t=>{let r=!1;const n=e.map(a=>{const i=Kk(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():Kk(e[a],null)}}}}function Yt(...e){return g.useCallback(x4(...e),e)}function EG(e,t){const r=g.createContext(t),n=i=>{const{children:o,...l}=i,c=g.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=g.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function Xa(e,t=[]){let r=[];function n(i,o){const l=g.createContext(o),c=r.length;r=[...r,o];const u=f=>{var x;const{scope:h,children:p,...y}=f,m=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,v=g.useMemo(()=>y,Object.values(y));return s.jsx(m.Provider,{value:v,children:p})};u.displayName=i+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,y=g.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>g.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return g.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,PG(a,...t)]}function PG(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function wu(e){const t=AG(e),r=g.forwardRef((n,a)=>{const{children:i,...o}=n,l=g.Children.toArray(i),c=l.find(TG);if(c){const u=c.props.children,d=l.map(f=>f===c?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:g.isValidElement(u)?g.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var OG=wu("Slot");function AG(e){const t=g.forwardRef((r,n)=>{const{children:a,...i}=r;if(g.isValidElement(a)){const o=IG(a),l=DG(i,a.props);return a.type!==g.Fragment&&(l.ref=n?x4(n,o):o),g.cloneElement(a,l)}return g.Children.count(a)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var b4=Symbol("radix.slottable");function kG(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=b4,t}function TG(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===b4}function DG(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function IG(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function _E(e){const t=e+"CollectionProvider",[r,n]=Xa(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:v,children:x}=m,b=R.useRef(null),w=R.useRef(new Map).current;return s.jsx(a,{scope:v,itemMap:w,collectionRef:b,children:x})};o.displayName=t;const l=e+"CollectionSlot",c=wu(l),u=R.forwardRef((m,v)=>{const{scope:x,children:b}=m,w=i(l,x),j=Yt(v,w.collectionRef);return s.jsx(c,{ref:j,children:b})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=wu(d),p=R.forwardRef((m,v)=>{const{scope:x,children:b,...w}=m,j=R.useRef(null),S=Yt(v,j),_=i(d,x);return R.useEffect(()=>(_.itemMap.set(j,{ref:j,...w}),()=>void _.itemMap.delete(j))),s.jsx(h,{[f]:"",ref:S,children:b})});p.displayName=d;function y(m){const v=i(e+"CollectionConsumer",m);return R.useCallback(()=>{const b=v.collectionRef.current;if(!b)return[];const w=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((_,N)=>w.indexOf(_.ref.current)-w.indexOf(N.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},y,n]}var RG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ze=RG.reduce((e,t)=>{const r=wu(`Primitive.${t}`),n=g.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function w4(e,t){e&&lc.flushSync(()=>e.dispatchEvent(t))}function An(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function $G(e,t=globalThis==null?void 0:globalThis.document){const r=An(e);g.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var MG="DismissableLayer",F_="dismissableLayer.update",LG="dismissableLayer.pointerDownOutside",FG="dismissableLayer.focusOutside",Yk,j4=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Zf=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=g.useContext(j4),[d,f]=g.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=g.useState({}),y=Yt(t,N=>f(N)),m=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=m.indexOf(v),b=d?m.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,j=b>=x,S=qG(N=>{const C=N.target,E=[...u.branches].some(A=>A.contains(C));!j||E||(a==null||a(N),o==null||o(N),N.defaultPrevented||l==null||l())},h),_=UG(N=>{const C=N.target;[...u.branches].some(A=>A.contains(C))||(i==null||i(N),o==null||o(N),N.defaultPrevented||l==null||l())},h);return $G(N=>{b===u.layers.size-1&&(n==null||n(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},h),g.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Yk=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Xk(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Yk)}},[d,h,r,u]),g.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Xk())},[d,u]),g.useEffect(()=>{const N=()=>p({});return document.addEventListener(F_,N),()=>document.removeEventListener(F_,N)},[]),s.jsx(Ze.div,{...c,ref:y,style:{pointerEvents:w?j?"auto":"none":void 0,...e.style},onFocusCapture:He(e.onFocusCapture,_.onFocusCapture),onBlurCapture:He(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:He(e.onPointerDownCapture,S.onPointerDownCapture)})});Zf.displayName=MG;var BG="DismissableLayerBranch",S4=g.forwardRef((e,t)=>{const r=g.useContext(j4),n=g.useRef(null),a=Yt(t,n);return g.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(Ze.div,{...e,ref:a})});S4.displayName=BG;function qG(e,t=globalThis==null?void 0:globalThis.document){const r=An(e),n=g.useRef(!1),a=g.useRef(()=>{});return g.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){_4(LG,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function UG(e,t=globalThis==null?void 0:globalThis.document){const r=An(e),n=g.useRef(!1);return g.useEffect(()=>{const a=i=>{i.target&&!n.current&&_4(FG,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Xk(){const e=new CustomEvent(F_);document.dispatchEvent(e)}function _4(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?w4(a,i):a.dispatchEvent(i)}var zG=Zf,WG=S4,Nn=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},VG="Portal",dv=g.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=g.useState(!1);Nn(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?SE.createPortal(s.jsx(Ze.div,{...n,ref:t}),o):null});dv.displayName=VG;function HG(e,t){return g.useReducer((r,n)=>t[r][n]??r,e)}var Qa=e=>{const{present:t,children:r}=e,n=GG(t),a=typeof r=="function"?r({present:n.isPresent}):g.Children.only(r),i=Yt(n.ref,KG(a));return typeof r=="function"||n.isPresent?g.cloneElement(a,{ref:i}):null};Qa.displayName="Presence";function GG(e){const[t,r]=g.useState(),n=g.useRef(null),a=g.useRef(e),i=g.useRef("none"),o=e?"mounted":"unmounted",[l,c]=HG(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=_g(n.current);i.current=l==="mounted"?u:"none"},[l]),Nn(()=>{const u=n.current,d=a.current;if(d!==e){const h=i.current,p=_g(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Nn(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const m=_g(n.current).includes(CSS.escape(p.animationName));if(p.target===t&&m&&(c("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=p=>{p.target===t&&(i.current=_g(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:g.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function _g(e){return(e==null?void 0:e.animationName)||"none"}function KG(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var YG=TC[" useInsertionEffect ".trim().toString()]||Nn;function Lo({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=XG({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const d=g.useRef(e!==void 0);g.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=g.useCallback(d=>{var f;if(l){const h=QG(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[l,e,i,o]);return[c,u]}function XG({defaultProp:e,onChange:t}){const[r,n]=g.useState(e),a=g.useRef(r),i=g.useRef(t);return YG(()=>{i.current=t},[t]),g.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,n,i]}function QG(e){return typeof e=="function"}var N4=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),JG="VisuallyHidden",Jb=g.forwardRef((e,t)=>s.jsx(Ze.span,{...e,ref:t,style:{...N4,...e.style}}));Jb.displayName=JG;var ZG=Jb,NE="ToastProvider",[CE,eK,tK]=_E("Toast"),[C4]=Xa("Toast",[tK]),[rK,Zb]=C4(NE),E4=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=g.useState(null),[u,d]=g.useState(0),f=g.useRef(!1),h=g.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${NE}\`. Expected non-empty \`string\`.`),s.jsx(CE.Provider,{scope:t,children:s.jsx(rK,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:g.useCallback(()=>d(p=>p+1),[]),onToastRemove:g.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};E4.displayName=NE;var P4="ToastViewport",nK=["F8"],B_="toast.viewportPause",q_="toast.viewportResume",O4=g.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=nK,label:a="Notifications ({hotkey})",...i}=e,o=Zb(P4,r),l=eK(r),c=g.useRef(null),u=g.useRef(null),d=g.useRef(null),f=g.useRef(null),h=Yt(t,f,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;g.useEffect(()=>{const v=x=>{var w;n.length!==0&&n.every(j=>x[j]||x.code===j)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),g.useEffect(()=>{const v=c.current,x=f.current;if(y&&v&&x){const b=()=>{if(!o.isClosePausedRef.current){const _=new CustomEvent(B_);x.dispatchEvent(_),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const _=new CustomEvent(q_);x.dispatchEvent(_),o.isClosePausedRef.current=!1}},j=_=>{!v.contains(_.relatedTarget)&&w()},S=()=>{v.contains(document.activeElement)||w()};return v.addEventListener("focusin",b),v.addEventListener("focusout",j),v.addEventListener("pointermove",b),v.addEventListener("pointerleave",S),window.addEventListener("blur",b),window.addEventListener("focus",w),()=>{v.removeEventListener("focusin",b),v.removeEventListener("focusout",j),v.removeEventListener("pointermove",b),v.removeEventListener("pointerleave",S),window.removeEventListener("blur",b),window.removeEventListener("focus",w)}}},[y,o.isClosePausedRef]);const m=g.useCallback(({tabbingDirection:v})=>{const b=l().map(w=>{const j=w.ref.current,S=[j,...vK(j)];return v==="forwards"?S:S.reverse()});return(v==="forwards"?b.reverse():b).flat()},[l]);return g.useEffect(()=>{const v=f.current;if(v){const x=b=>{var S,_,N;const w=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!w){const C=document.activeElement,E=b.shiftKey;if(b.target===v&&E){(S=u.current)==null||S.focus();return}const P=m({tabbingDirection:E?"backwards":"forwards"}),k=P.findIndex(I=>I===C);Pj(P.slice(k+1))?b.preventDefault():E?(_=u.current)==null||_.focus():(N=d.current)==null||N.focus()}};return v.addEventListener("keydown",x),()=>v.removeEventListener("keydown",x)}},[l,m]),s.jsxs(WG,{ref:c,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&s.jsx(U_,{ref:u,onFocusFromOutsideViewport:()=>{const v=m({tabbingDirection:"forwards"});Pj(v)}}),s.jsx(CE.Slot,{scope:r,children:s.jsx(Ze.ol,{tabIndex:-1,...i,ref:h})}),y&&s.jsx(U_,{ref:d,onFocusFromOutsideViewport:()=>{const v=m({tabbingDirection:"backwards"});Pj(v)}})]})});O4.displayName=P4;var A4="ToastFocusProxy",U_=g.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=Zb(A4,r);return s.jsx(Jb,{tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&n()}})});U_.displayName=A4;var fv="Toast",aK="toast.swipeStart",iK="toast.swipeMove",sK="toast.swipeCancel",oK="toast.swipeEnd",k4=g.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=Lo({prop:n,defaultProp:a??!0,onChange:i,caller:fv});return s.jsx(Qa,{present:r||l,children:s.jsx(uK,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:An(e.onPause),onResume:An(e.onResume),onSwipeStart:He(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:He(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:He(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:He(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});k4.displayName=fv;var[lK,cK]=C4(fv,{onClose(){}}),uK=g.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...y}=e,m=Zb(fv,r),[v,x]=g.useState(null),b=Yt(t,I=>x(I)),w=g.useRef(null),j=g.useRef(null),S=a||m.duration,_=g.useRef(0),N=g.useRef(S),C=g.useRef(0),{onToastAdd:E,onToastRemove:A}=m,O=An(()=>{var M;(v==null?void 0:v.contains(document.activeElement))&&((M=m.viewport)==null||M.focus()),o()}),P=g.useCallback(I=>{!I||I===1/0||(window.clearTimeout(C.current),_.current=new Date().getTime(),C.current=window.setTimeout(O,I))},[O]);g.useEffect(()=>{const I=m.viewport;if(I){const M=()=>{P(N.current),u==null||u()},L=()=>{const $=new Date().getTime()-_.current;N.current=N.current-$,window.clearTimeout(C.current),c==null||c()};return I.addEventListener(B_,L),I.addEventListener(q_,M),()=>{I.removeEventListener(B_,L),I.removeEventListener(q_,M)}}},[m.viewport,S,c,u,P]),g.useEffect(()=>{i&&!m.isClosePausedRef.current&&P(S)},[i,S,m.isClosePausedRef,P]),g.useEffect(()=>(E(),()=>A()),[E,A]);const k=g.useMemo(()=>v?L4(v):null,[v]);return m.viewport?s.jsxs(s.Fragment,{children:[k&&s.jsx(dK,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:k}),s.jsx(lK,{scope:r,onClose:O,children:lc.createPortal(s.jsx(CE.ItemSlot,{scope:r,children:s.jsx(zG,{asChild:!0,onEscapeKeyDown:He(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||O(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Ze.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":m.swipeDirection,...y,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:He(e.onKeyDown,I=>{I.key==="Escape"&&(l==null||l(I.nativeEvent),I.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:He(e.onPointerDown,I=>{I.button===0&&(w.current={x:I.clientX,y:I.clientY})}),onPointerMove:He(e.onPointerMove,I=>{if(!w.current)return;const M=I.clientX-w.current.x,L=I.clientY-w.current.y,$=!!j.current,D=["left","right"].includes(m.swipeDirection),T=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,H=D?T(0,M):0,re=D?0:T(0,L),J=I.pointerType==="touch"?10:2,le={x:H,y:re},te={originalEvent:I,delta:le};$?(j.current=le,Ng(iK,f,te,{discrete:!1})):Qk(le,m.swipeDirection,J)?(j.current=le,Ng(aK,d,te,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(M)>J||Math.abs(L)>J)&&(w.current=null)}),onPointerUp:He(e.onPointerUp,I=>{const M=j.current,L=I.target;if(L.hasPointerCapture(I.pointerId)&&L.releasePointerCapture(I.pointerId),j.current=null,w.current=null,M){const $=I.currentTarget,D={originalEvent:I,delta:M};Qk(M,m.swipeDirection,m.swipeThreshold)?Ng(oK,p,D,{discrete:!0}):Ng(sK,h,D,{discrete:!0}),$.addEventListener("click",T=>T.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),dK=e=>{const{__scopeToast:t,children:r,...n}=e,a=Zb(fv,t),[i,o]=g.useState(!1),[l,c]=g.useState(!1);return pK(()=>o(!0)),g.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(dv,{asChild:!0,children:s.jsx(Jb,{...n,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},fK="ToastTitle",T4=g.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Ze.div,{...n,ref:t})});T4.displayName=fK;var hK="ToastDescription",D4=g.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Ze.div,{...n,ref:t})});D4.displayName=hK;var I4="ToastAction",R4=g.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(M4,{altText:r,asChild:!0,children:s.jsx(EE,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${I4}\`. Expected non-empty \`string\`.`),null)});R4.displayName=I4;var $4="ToastClose",EE=g.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=cK($4,r);return s.jsx(M4,{asChild:!0,children:s.jsx(Ze.button,{type:"button",...n,ref:t,onClick:He(e.onClick,a.onClose)})})});EE.displayName=$4;var M4=g.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return s.jsx(Ze.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function L4(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),mK(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...L4(n))}}),t}function Ng(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?w4(a,i):a.dispatchEvent(i)}var Qk=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function pK(e=()=>{}){const t=An(e);Nn(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function mK(e){return e.nodeType===e.ELEMENT_NODE}function vK(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Pj(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var gK=E4,F4=O4,B4=k4,q4=T4,U4=D4,z4=R4,W4=EE;function V4(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=V4(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function It(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=V4(e))&&(n&&(n+=" "),n+=t);return n}const Jk=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Zk=It,hv=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Zk(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=Jk(d)||Jk(f);return a[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(y=>{let[m,v]=y;return Array.isArray(v)?v.includes({...i,...l}[m]):{...i,...l}[m]===v})?[...u,f,h]:u},[]);return Zk(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yK=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),H4=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xK={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bK=g.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>g.createElement("svg",{ref:c,...xK,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:H4("lucide",a),...l},[...o.map(([u,d])=>g.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=(e,t)=>{const r=g.forwardRef(({className:n,...a},i)=>g.createElement(bK,{ref:i,iconNode:t,className:H4(`lucide-${yK(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wK=Ne("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jK=Ne("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=Ne("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SK=Ne("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=Ne("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=Ne("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=Ne("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _K=Ne("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=Ne("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=Ne("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NK=Ne("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=Ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=Ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=Ne("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=Ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CK=Ne("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pf=Ne("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=Ne("CircleArrowDown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=Ne("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=Ne("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=Ne("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=Ne("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EK=Ne("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=Ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=Ne("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ju=Ne("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=Ne("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=Ne("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=Ne("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PK=Ne("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=Ne("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OK=Ne("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AK=Ne("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=Ne("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kK=Ne("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TK=Ne("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DK=Ne("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IK=Ne("Hourglass",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=Ne("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=Ne("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=Ne("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RK=Ne("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $K=Ne("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MK=Ne("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LK=Ne("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FK=Ne("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BK=Ne("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=Ne("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qK=Ne("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=Ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=Ne("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=Ne("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=Ne("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UK=Ne("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=Ne("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=Ne("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zK=Ne("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=Ne("PackagePlus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bu=Ne("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WK=Ne("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=Ne("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VK=Ne("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=Ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=Ne("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=Ne("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=Ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HK=Ne("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=Ne("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=Ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GK=Ne("Sheet",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"3",x2:"21",y1:"15",y2:"15",key:"o2sbyz"}],["line",{x1:"9",x2:"9",y1:"9",y2:"21",key:"1ib60c"}],["line",{x1:"15",x2:"15",y1:"9",y2:"21",key:"1n26ft"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=Ne("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=Ne("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KK=Ne("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=Ne("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=Ne("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Su=Ne("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=Ne("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=Ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=Ne("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Md=Ne("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=Ne("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YK=Ne("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=Ne("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XK=Ne("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=Ne("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=Ne("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=Ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QK=Ne("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ld=Ne("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=Ne("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=Ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),IE="-",JK=e=>{const t=eY(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(IE);return l[0]===""&&l.length!==1&&l.shift(),l3(l,t)||ZK(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},l3=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?l3(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(IE);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},r2=/^\[(.+)\]$/,ZK=e=>{if(r2.test(e)){const t=r2.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},eY=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return rY(Object.entries(e.classGroups),r).forEach(([i,o])=>{K_(o,n,i,t)}),n},K_=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:n2(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(tY(a)){K_(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{K_(o,n2(t,i),r,n)})})},n2=(e,t)=>{let r=e;return t.split(IE).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},tY=e=>e.isThemeGetter,rY=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,nY=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},c3="!",aY=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let v=0;v<l.length;v++){let x=l[v];if(u===0){if(x===a&&(n||l.slice(v,v+i)===t)){c.push(l.slice(d,v)),d=v+i;continue}if(x==="/"){f=v;continue}}x==="["?u++:x==="]"&&u--}const h=c.length===0?l:l.substring(d),p=h.startsWith(c3),y=p?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:m}};return r?l=>r({className:l,parseClassName:o}):o},iY=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},sY=e=>({cache:nY(e.cacheSize),parseClassName:aY(e),...JK(e)}),oY=/\s+/,lY=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(oY);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let y=!!p,m=n(y?h.substring(0,p):h);if(!m){if(!y){l=u+(l.length>0?" "+l:l);continue}if(m=n(h),!m){l=u+(l.length>0?" "+l:l);continue}y=!1}const v=iY(d).join(":"),x=f?v+c3:v,b=x+m;if(i.includes(b))continue;i.push(b);const w=a(m,y);for(let j=0;j<w.length;++j){const S=w[j];i.push(x+S)}l=u+(l.length>0?" "+l:l)}return l};function cY(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=u3(t))&&(n&&(n+=" "),n+=r);return n}const u3=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=u3(e[n]))&&(r&&(r+=" "),r+=t);return r};function uY(e,...t){let r,n,a,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=sY(u),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=lY(c,r);return a(c,d),d}return function(){return i(cY.apply(null,arguments))}}const Qr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},d3=/^\[(?:([a-z-]+):)?(.+)\]$/i,dY=/^\d+\/\d+$/,fY=new Set(["px","full","screen"]),hY=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,pY=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,mY=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,vY=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,gY=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,lo=e=>Fd(e)||fY.has(e)||dY.test(e),nl=e=>eh(e,"length",NY),Fd=e=>!!e&&!Number.isNaN(Number(e)),Aj=e=>eh(e,"number",Fd),Bh=e=>!!e&&Number.isInteger(Number(e)),yY=e=>e.endsWith("%")&&Fd(e.slice(0,-1)),Lt=e=>d3.test(e),al=e=>hY.test(e),xY=new Set(["length","size","percentage"]),bY=e=>eh(e,xY,f3),wY=e=>eh(e,"position",f3),jY=new Set(["image","url"]),SY=e=>eh(e,jY,EY),_Y=e=>eh(e,"",CY),qh=()=>!0,eh=(e,t,r)=>{const n=d3.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},NY=e=>pY.test(e)&&!mY.test(e),f3=()=>!1,CY=e=>vY.test(e),EY=e=>gY.test(e),PY=()=>{const e=Qr("colors"),t=Qr("spacing"),r=Qr("blur"),n=Qr("brightness"),a=Qr("borderColor"),i=Qr("borderRadius"),o=Qr("borderSpacing"),l=Qr("borderWidth"),c=Qr("contrast"),u=Qr("grayscale"),d=Qr("hueRotate"),f=Qr("invert"),h=Qr("gap"),p=Qr("gradientColorStops"),y=Qr("gradientColorStopPositions"),m=Qr("inset"),v=Qr("margin"),x=Qr("opacity"),b=Qr("padding"),w=Qr("saturate"),j=Qr("scale"),S=Qr("sepia"),_=Qr("skew"),N=Qr("space"),C=Qr("translate"),E=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",Lt,t],P=()=>[Lt,t],k=()=>["",lo,nl],I=()=>["auto",Fd,Lt],M=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],$=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],T=()=>["","0",Lt],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],re=()=>[Fd,Lt];return{cacheSize:500,separator:":",theme:{colors:[qh],spacing:[lo,nl],blur:["none","",al,Lt],brightness:re(),borderColor:[e],borderRadius:["none","","full",al,Lt],borderSpacing:P(),borderWidth:k(),contrast:re(),grayscale:T(),hueRotate:re(),invert:T(),gap:P(),gradientColorStops:[e],gradientColorStopPositions:[yY,nl],inset:O(),margin:O(),opacity:re(),padding:P(),saturate:re(),scale:re(),sepia:T(),skew:re(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",Lt]}],container:["container"],columns:[{columns:[al]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...M(),Lt]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Bh,Lt]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Lt]}],grow:[{grow:T()}],shrink:[{shrink:T()}],order:[{order:["first","last","none",Bh,Lt]}],"grid-cols":[{"grid-cols":[qh]}],"col-start-end":[{col:["auto",{span:["full",Bh,Lt]},Lt]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[qh]}],"row-start-end":[{row:["auto",{span:[Bh,Lt]},Lt]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Lt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Lt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Lt,t]}],"min-w":[{"min-w":[Lt,t,"min","max","fit"]}],"max-w":[{"max-w":[Lt,t,"none","full","min","max","fit","prose",{screen:[al]},al]}],h:[{h:[Lt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Lt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Lt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Lt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",al,nl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Aj]}],"font-family":[{font:[qh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Lt]}],"line-clamp":[{"line-clamp":["none",Fd,Aj]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",lo,Lt]}],"list-image":[{"list-image":["none",Lt]}],"list-style-type":[{list:["none","disc","decimal",Lt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",lo,nl]}],"underline-offset":[{"underline-offset":["auto",lo,Lt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Lt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Lt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...M(),wY]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",bY]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},SY]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:L()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[lo,Lt]}],"outline-w":[{outline:[lo,nl]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[lo,nl]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",al,_Y]}],"shadow-color":[{shadow:[qh]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...$(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":$()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",al,Lt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Lt]}],duration:[{duration:re()}],ease:[{ease:["linear","in","out","in-out",Lt]}],delay:[{delay:re()}],animate:[{animate:["none","spin","ping","pulse","bounce",Lt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Bh,Lt]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Lt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Lt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Lt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[lo,nl,Aj]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},OY=uY(PY);function Ee(...e){return OY(It(e))}const AY=gK,h3=g.forwardRef(({className:e,...t},r)=>s.jsx(F4,{ref:r,className:Ee("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));h3.displayName=F4.displayName;const kY=hv("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),p3=g.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(B4,{ref:n,className:Ee(kY({variant:t}),e),...r}));p3.displayName=B4.displayName;const Y_=g.forwardRef(({className:e,...t},r)=>s.jsx(z4,{ref:r,className:Ee("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));Y_.displayName=z4.displayName;const m3=g.forwardRef(({className:e,...t},r)=>s.jsx(W4,{ref:r,className:Ee("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(DE,{className:"h-4 w-4"})}));m3.displayName=W4.displayName;const v3=g.forwardRef(({className:e,...t},r)=>s.jsx(q4,{ref:r,className:Ee("text-sm font-semibold",e),...t}));v3.displayName=q4.displayName;const g3=g.forwardRef(({className:e,...t},r)=>s.jsx(U4,{ref:r,className:Ee("text-sm opacity-90",e),...t}));g3.displayName=U4.displayName;function TY(){const{toasts:e}=dr();return s.jsxs(AY,{children:[e.map(function({id:t,title:r,description:n,action:a,...i}){return s.jsxs(p3,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(v3,{children:r}),n&&s.jsx(g3,{children:n})]}),a,s.jsx(m3,{})]},t)}),s.jsx(h3,{})]})}var a2=["light","dark"],DY="(prefers-color-scheme: dark)",IY=g.createContext(void 0),RY={setTheme:e=>{},themes:[]},$Y=()=>{var e;return(e=g.useContext(IY))!=null?e:RY};g.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let u=i==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?a2.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(y,m=!1,v=!0)=>{let x=o?o[y]:y,b=m?y+"|| ''":`'${x}'`,w="";return a&&v&&!m&&a2.includes(y)&&(w+=`d.style.colorScheme = '${y}';`),r==="class"?m||x?w+=`c.add(${b})`:w+="null":x&&(w+=`d[s](n,${b})`),w},p=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${DY}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${f}}catch(t){}}();`;return g.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var MY=e=>{switch(e){case"success":return BY;case"info":return UY;case"warning":return qY;case"error":return zY;default:return null}},LY=Array(12).fill(0),FY=({visible:e,className:t})=>R.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},R.createElement("div",{className:"sonner-spinner"},LY.map((r,n)=>R.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),BY=R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},R.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),qY=R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},R.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),UY=R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},R.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),zY=R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},R.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),WY=R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},R.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),R.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),VY=()=>{let[e,t]=R.useState(document.hidden);return R.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},X_=1,HY=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:X_++,i=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0,i,o=n.then(async c=>{if(i=["resolve",c],R.isValidElement(c))a=!1,this.create({id:r,type:"default",message:c});else if(KY(c)&&!c.ok){a=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){a=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){a=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;a&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||X_++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},La=new HY,GY=(e,t)=>{let r=(t==null?void 0:t.id)||X_++;return La.addToast({title:e,...t,id:r}),r},KY=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",YY=GY,XY=()=>La.toasts,QY=()=>La.getActiveToasts();Object.assign(YY,{success:La.success,info:La.info,warning:La.warning,error:La.error,custom:La.custom,message:La.message,promise:La.promise,dismiss:La.dismiss,loading:La.loading},{getHistory:XY,getToasts:QY});function JY(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}JY(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Cg(e){return e.label!==void 0}var ZY=3,eX="32px",tX="16px",i2=4e3,rX=356,nX=14,aX=20,iX=200;function ns(...e){return e.filter(Boolean).join(" ")}function sX(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var oX=e=>{var t,r,n,a,i,o,l,c,u,d,f;let{invert:h,toast:p,unstyled:y,interacting:m,setHeights:v,visibleToasts:x,heights:b,index:w,toasts:j,expanded:S,removeToast:_,defaultRichColors:N,closeButton:C,style:E,cancelButtonStyle:A,actionButtonStyle:O,className:P="",descriptionClassName:k="",duration:I,position:M,gap:L,loadingIcon:$,expandByDefault:D,classNames:T,icons:H,closeButtonAriaLabel:re="Close toast",pauseWhenPageIsHidden:J}=e,[le,te]=R.useState(null),[Z,we]=R.useState(null),[oe,q]=R.useState(!1),[U,ae]=R.useState(!1),[z,W]=R.useState(!1),[ge,me]=R.useState(!1),[be,X]=R.useState(!1),[ee,xe]=R.useState(0),[he,Ae]=R.useState(0),Ce=R.useRef(p.duration||I||i2),Ct=R.useRef(null),ht=R.useRef(null),Ft=w===0,_r=w+1<=x,Me=p.type,jr=p.dismissible!==!1,rn=p.className||"",jt=p.descriptionClassName||"",nt=R.useMemo(()=>b.findIndex(Te=>Te.toastId===p.id)||0,[b,p.id]),zt=R.useMemo(()=>{var Te;return(Te=p.closeButton)!=null?Te:C},[p.closeButton,C]),yr=R.useMemo(()=>p.duration||I||i2,[p.duration,I]),or=R.useRef(0),Ye=R.useRef(0),Rr=R.useRef(0),rr=R.useRef(null),[nn,ce]=M.split("-"),Le=R.useMemo(()=>b.reduce((Te,et,tt)=>tt>=nt?Te:Te+et.height,0),[b,nt]),Je=VY(),Bt=p.invert||h,fr=Me==="loading";Ye.current=R.useMemo(()=>nt*L+Le,[nt,Le]),R.useEffect(()=>{Ce.current=yr},[yr]),R.useEffect(()=>{q(!0)},[]),R.useEffect(()=>{let Te=ht.current;if(Te){let et=Te.getBoundingClientRect().height;return Ae(et),v(tt=>[{toastId:p.id,height:et,position:p.position},...tt]),()=>v(tt=>tt.filter(hr=>hr.toastId!==p.id))}},[v,p.id]),R.useLayoutEffect(()=>{if(!oe)return;let Te=ht.current,et=Te.style.height;Te.style.height="auto";let tt=Te.getBoundingClientRect().height;Te.style.height=et,Ae(tt),v(hr=>hr.find(pr=>pr.toastId===p.id)?hr.map(pr=>pr.toastId===p.id?{...pr,height:tt}:pr):[{toastId:p.id,height:tt,position:p.position},...hr])},[oe,p.title,p.description,v,p.id]);let de=R.useCallback(()=>{ae(!0),xe(Ye.current),v(Te=>Te.filter(et=>et.toastId!==p.id)),setTimeout(()=>{_(p)},iX)},[p,_,v,Ye]);R.useEffect(()=>{if(p.promise&&Me==="loading"||p.duration===1/0||p.type==="loading")return;let Te;return S||m||J&&Je?(()=>{if(Rr.current<or.current){let et=new Date().getTime()-or.current;Ce.current=Ce.current-et}Rr.current=new Date().getTime()})():Ce.current!==1/0&&(or.current=new Date().getTime(),Te=setTimeout(()=>{var et;(et=p.onAutoClose)==null||et.call(p,p),de()},Ce.current)),()=>clearTimeout(Te)},[S,m,p,Me,J,Je,de]),R.useEffect(()=>{p.delete&&de()},[de,p.delete]);function De(){var Te,et,tt;return H!=null&&H.loading?R.createElement("div",{className:ns(T==null?void 0:T.loader,(Te=p==null?void 0:p.classNames)==null?void 0:Te.loader,"sonner-loader"),"data-visible":Me==="loading"},H.loading):$?R.createElement("div",{className:ns(T==null?void 0:T.loader,(et=p==null?void 0:p.classNames)==null?void 0:et.loader,"sonner-loader"),"data-visible":Me==="loading"},$):R.createElement(FY,{className:ns(T==null?void 0:T.loader,(tt=p==null?void 0:p.classNames)==null?void 0:tt.loader),visible:Me==="loading"})}return R.createElement("li",{tabIndex:0,ref:ht,className:ns(P,rn,T==null?void 0:T.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,T==null?void 0:T.default,T==null?void 0:T[Me],(r=p==null?void 0:p.classNames)==null?void 0:r[Me]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:N,"data-styled":!(p.jsx||p.unstyled||y),"data-mounted":oe,"data-promise":!!p.promise,"data-swiped":be,"data-removed":U,"data-visible":_r,"data-y-position":nn,"data-x-position":ce,"data-index":w,"data-front":Ft,"data-swiping":z,"data-dismissible":jr,"data-type":Me,"data-invert":Bt,"data-swipe-out":ge,"data-swipe-direction":Z,"data-expanded":!!(S||D&&oe),style:{"--index":w,"--toasts-before":w,"--z-index":j.length-w,"--offset":`${U?ee:Ye.current}px`,"--initial-height":D?"auto":`${he}px`,...E,...p.style},onDragEnd:()=>{W(!1),te(null),rr.current=null},onPointerDown:Te=>{fr||!jr||(Ct.current=new Date,xe(Ye.current),Te.target.setPointerCapture(Te.pointerId),Te.target.tagName!=="BUTTON"&&(W(!0),rr.current={x:Te.clientX,y:Te.clientY}))},onPointerUp:()=>{var Te,et,tt,hr;if(ge||!jr)return;rr.current=null;let pr=Number(((Te=ht.current)==null?void 0:Te.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Wr=Number(((et=ht.current)==null?void 0:et.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),se=new Date().getTime()-((tt=Ct.current)==null?void 0:tt.getTime()),G=le==="x"?pr:Wr,ie=Math.abs(G)/se;if(Math.abs(G)>=aX||ie>.11){xe(Ye.current),(hr=p.onDismiss)==null||hr.call(p,p),we(le==="x"?pr>0?"right":"left":Wr>0?"down":"up"),de(),me(!0),X(!1);return}W(!1),te(null)},onPointerMove:Te=>{var et,tt,hr,pr;if(!rr.current||!jr||((et=window.getSelection())==null?void 0:et.toString().length)>0)return;let Wr=Te.clientY-rr.current.y,se=Te.clientX-rr.current.x,G=(tt=e.swipeDirections)!=null?tt:sX(M);!le&&(Math.abs(se)>1||Math.abs(Wr)>1)&&te(Math.abs(se)>Math.abs(Wr)?"x":"y");let ie={x:0,y:0};le==="y"?(G.includes("top")||G.includes("bottom"))&&(G.includes("top")&&Wr<0||G.includes("bottom")&&Wr>0)&&(ie.y=Wr):le==="x"&&(G.includes("left")||G.includes("right"))&&(G.includes("left")&&se<0||G.includes("right")&&se>0)&&(ie.x=se),(Math.abs(ie.x)>0||Math.abs(ie.y)>0)&&X(!0),(hr=ht.current)==null||hr.style.setProperty("--swipe-amount-x",`${ie.x}px`),(pr=ht.current)==null||pr.style.setProperty("--swipe-amount-y",`${ie.y}px`)}},zt&&!p.jsx?R.createElement("button",{"aria-label":re,"data-disabled":fr,"data-close-button":!0,onClick:fr||!jr?()=>{}:()=>{var Te;de(),(Te=p.onDismiss)==null||Te.call(p,p)},className:ns(T==null?void 0:T.closeButton,(a=p==null?void 0:p.classNames)==null?void 0:a.closeButton)},(i=H==null?void 0:H.close)!=null?i:WY):null,p.jsx||g.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:R.createElement(R.Fragment,null,Me||p.icon||p.promise?R.createElement("div",{"data-icon":"",className:ns(T==null?void 0:T.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||De():null,p.type!=="loading"?p.icon||(H==null?void 0:H[Me])||MY(Me):null):null,R.createElement("div",{"data-content":"",className:ns(T==null?void 0:T.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},R.createElement("div",{"data-title":"",className:ns(T==null?void 0:T.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?R.createElement("div",{"data-description":"",className:ns(k,jt,T==null?void 0:T.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),g.isValidElement(p.cancel)?p.cancel:p.cancel&&Cg(p.cancel)?R.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||A,onClick:Te=>{var et,tt;Cg(p.cancel)&&jr&&((tt=(et=p.cancel).onClick)==null||tt.call(et,Te),de())},className:ns(T==null?void 0:T.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,g.isValidElement(p.action)?p.action:p.action&&Cg(p.action)?R.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||O,onClick:Te=>{var et,tt;Cg(p.action)&&((tt=(et=p.action).onClick)==null||tt.call(et,Te),!Te.defaultPrevented&&de())},className:ns(T==null?void 0:T.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function s2(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function lX(e,t){let r={};return[e,t].forEach((n,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",l=i?tX:eX;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var cX=g.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:p,visibleToasts:y=ZY,toastOptions:m,dir:v=s2(),gap:x=nX,loadingIcon:b,icons:w,containerAriaLabel:j="Notifications",pauseWhenPageIsHidden:S}=e,[_,N]=R.useState([]),C=R.useMemo(()=>Array.from(new Set([n].concat(_.filter(J=>J.position).map(J=>J.position)))),[_,n]),[E,A]=R.useState([]),[O,P]=R.useState(!1),[k,I]=R.useState(!1),[M,L]=R.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),$=R.useRef(null),D=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=R.useRef(null),H=R.useRef(!1),re=R.useCallback(J=>{N(le=>{var te;return(te=le.find(Z=>Z.id===J.id))!=null&&te.delete||La.dismiss(J.id),le.filter(({id:Z})=>Z!==J.id)})},[]);return R.useEffect(()=>La.subscribe(J=>{if(J.dismiss){N(le=>le.map(te=>te.id===J.id?{...te,delete:!0}:te));return}setTimeout(()=>{SE.flushSync(()=>{N(le=>{let te=le.findIndex(Z=>Z.id===J.id);return te!==-1?[...le.slice(0,te),{...le[te],...J},...le.slice(te+1)]:[J,...le]})})})}),[]),R.useEffect(()=>{if(d!=="system"){L(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?L("dark"):L("light")),typeof window>"u")return;let J=window.matchMedia("(prefers-color-scheme: dark)");try{J.addEventListener("change",({matches:le})=>{L(le?"dark":"light")})}catch{J.addListener(({matches:te})=>{try{L(te?"dark":"light")}catch(Z){console.error(Z)}})}},[d]),R.useEffect(()=>{_.length<=1&&P(!1)},[_]),R.useEffect(()=>{let J=le=>{var te,Z;a.every(we=>le[we]||le.code===we)&&(P(!0),(te=$.current)==null||te.focus()),le.code==="Escape"&&(document.activeElement===$.current||(Z=$.current)!=null&&Z.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",J),()=>document.removeEventListener("keydown",J)},[a]),R.useEffect(()=>{if($.current)return()=>{T.current&&(T.current.focus({preventScroll:!0}),T.current=null,H.current=!1)}},[$.current]),R.createElement("section",{ref:t,"aria-label":`${j} ${D}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((J,le)=>{var te;let[Z,we]=J.split("-");return _.length?R.createElement("ol",{key:J,dir:v==="auto"?s2():v,tabIndex:-1,ref:$,className:l,"data-sonner-toaster":!0,"data-theme":M,"data-y-position":Z,"data-lifted":O&&_.length>1&&!i,"data-x-position":we,style:{"--front-toast-height":`${((te=E[0])==null?void 0:te.height)||0}px`,"--width":`${rX}px`,"--gap":`${x}px`,...p,...lX(c,u)},onBlur:oe=>{H.current&&!oe.currentTarget.contains(oe.relatedTarget)&&(H.current=!1,T.current&&(T.current.focus({preventScroll:!0}),T.current=null))},onFocus:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||H.current||(H.current=!0,T.current=oe.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{k||P(!1)},onDragEnd:()=>P(!1),onPointerDown:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||I(!0)},onPointerUp:()=>I(!1)},_.filter(oe=>!oe.position&&le===0||oe.position===J).map((oe,q)=>{var U,ae;return R.createElement(oX,{key:oe.id,icons:w,index:q,toast:oe,defaultRichColors:f,duration:(U=m==null?void 0:m.duration)!=null?U:h,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:r,visibleToasts:y,closeButton:(ae=m==null?void 0:m.closeButton)!=null?ae:o,interacting:k,position:J,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:re,toasts:_.filter(z=>z.position==oe.position),heights:E.filter(z=>z.position==oe.position),setHeights:A,expandByDefault:i,gap:x,loadingIcon:b,expanded:O,pauseWhenPageIsHidden:S,swipeDirections:e.swipeDirections})})):null}))});const uX=({...e})=>{const{theme:t="system"}=$Y();return s.jsx(cX,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var dX=TC[" useId ".trim().toString()]||(()=>{}),fX=0;function Oo(e){const[t,r]=g.useState(dX());return Nn(()=>{r(n=>n??String(fX++))},[e]),t?`radix-${t}`:""}const hX=["top","right","bottom","left"],Ql=Math.min,li=Math.max,sx=Math.round,Eg=Math.floor,Ks=e=>({x:e,y:e}),pX={left:"right",right:"left",bottom:"top",top:"bottom"},mX={start:"end",end:"start"};function Q_(e,t,r){return li(e,Ql(t,r))}function Fo(e,t){return typeof e=="function"?e(t):e}function Bo(e){return e.split("-")[0]}function th(e){return e.split("-")[1]}function RE(e){return e==="x"?"y":"x"}function $E(e){return e==="y"?"height":"width"}const vX=new Set(["top","bottom"]);function Ws(e){return vX.has(Bo(e))?"y":"x"}function ME(e){return RE(Ws(e))}function gX(e,t,r){r===void 0&&(r=!1);const n=th(e),a=ME(e),i=$E(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=ox(o)),[o,ox(o)]}function yX(e){const t=ox(e);return[J_(e),t,J_(t)]}function J_(e){return e.replace(/start|end/g,t=>mX[t])}const o2=["left","right"],l2=["right","left"],xX=["top","bottom"],bX=["bottom","top"];function wX(e,t,r){switch(e){case"top":case"bottom":return r?t?l2:o2:t?o2:l2;case"left":case"right":return t?xX:bX;default:return[]}}function jX(e,t,r,n){const a=th(e);let i=wX(Bo(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(J_)))),i}function ox(e){return e.replace(/left|right|bottom|top/g,t=>pX[t])}function SX(e){return{top:0,right:0,bottom:0,left:0,...e}}function y3(e){return typeof e!="number"?SX(e):{top:e,right:e,bottom:e,left:e}}function lx(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function c2(e,t,r){let{reference:n,floating:a}=e;const i=Ws(t),o=ME(t),l=$E(o),c=Bo(t),u=i==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let p;switch(c){case"top":p={x:d,y:n.y-a.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-a.width,y:f};break;default:p={x:n.x,y:n.y}}switch(th(t)){case"start":p[o]-=h*(r&&u?-1:1);break;case"end":p[o]+=h*(r&&u?-1:1);break}return p}const _X=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=c2(u,n,c),h=n,p={},y=0;for(let m=0;m<l.length;m++){const{name:v,fn:x}=l[m],{x:b,y:w,data:j,reset:S}=await x({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});d=b??d,f=w??f,p={...p,[v]:{...p[v],...j}},S&&y<=50&&(y++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):S.rects),{x:d,y:f}=c2(u,h,c)),m=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:p}};async function rm(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=Fo(t,e),y=y3(p),v=l[h?f==="floating"?"reference":"floating":f],x=lx(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(v)))==null||r?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),b=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),j=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},S=lx(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:w,strategy:c}):b);return{top:(x.top-S.top+y.top)/j.y,bottom:(S.bottom-x.bottom+y.bottom)/j.y,left:(x.left-S.left+y.left)/j.x,right:(S.right-x.right+y.right)/j.x}}const NX=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Fo(e,t)||{};if(u==null)return{};const f=y3(d),h={x:r,y:n},p=ME(a),y=$E(p),m=await o.getDimensions(u),v=p==="y",x=v?"top":"left",b=v?"bottom":"right",w=v?"clientHeight":"clientWidth",j=i.reference[y]+i.reference[p]-h[p]-i.floating[y],S=h[p]-i.reference[p],_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let N=_?_[w]:0;(!N||!await(o.isElement==null?void 0:o.isElement(_)))&&(N=l.floating[w]||i.floating[y]);const C=j/2-S/2,E=N/2-m[y]/2-1,A=Ql(f[x],E),O=Ql(f[b],E),P=A,k=N-m[y]-O,I=N/2-m[y]/2+C,M=Q_(P,I,k),L=!c.arrow&&th(a)!=null&&I!==M&&i.reference[y]/2-(I<P?A:O)-m[y]/2<0,$=L?I<P?I-P:I-k:0;return{[p]:h[p]+$,data:{[p]:M,centerOffset:I-M-$,...L&&{alignmentOffset:$}},reset:L}}}),CX=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:m=!0,...v}=Fo(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const x=Bo(a),b=Ws(l),w=Bo(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=h||(w||!m?[ox(l)]:yX(l)),_=y!=="none";!h&&_&&S.push(...jX(l,m,y,j));const N=[l,...S],C=await rm(t,v),E=[];let A=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&E.push(C[x]),f){const I=gX(a,o,j);E.push(C[I[0]],C[I[1]])}if(A=[...A,{placement:a,overflows:E}],!E.every(I=>I<=0)){var O,P;const I=(((O=i.flip)==null?void 0:O.index)||0)+1,M=N[I];if(M&&(!(f==="alignment"?b!==Ws(M):!1)||A.every(D=>Ws(D.placement)===b?D.overflows[0]>0:!0)))return{data:{index:I,overflows:A},reset:{placement:M}};let L=(P=A.filter($=>$.overflows[0]<=0).sort(($,D)=>$.overflows[1]-D.overflows[1])[0])==null?void 0:P.placement;if(!L)switch(p){case"bestFit":{var k;const $=(k=A.filter(D=>{if(_){const T=Ws(D.placement);return T===b||T==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(T=>T>0).reduce((T,H)=>T+H,0)]).sort((D,T)=>D[1]-T[1])[0])==null?void 0:k[0];$&&(L=$);break}case"initialPlacement":L=l;break}if(a!==L)return{reset:{placement:L}}}return{}}}};function u2(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function d2(e){return hX.some(t=>e[t]>=0)}const EX=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=Fo(e,t);switch(n){case"referenceHidden":{const i=await rm(t,{...a,elementContext:"reference"}),o=u2(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:d2(o)}}}case"escaped":{const i=await rm(t,{...a,altBoundary:!0}),o=u2(i,r.floating);return{data:{escapedOffsets:o,escaped:d2(o)}}}default:return{}}}}},x3=new Set(["left","top"]);async function PX(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=Bo(r),l=th(r),c=Ws(r)==="y",u=x3.has(o)?-1:1,d=i&&c?-1:1,f=Fo(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(p=l==="end"?y*-1:y),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const OX=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await PX(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},AX=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x,y:b}=v;return{x,y:b}}},...c}=Fo(e,t),u={x:r,y:n},d=await rm(t,c),f=Ws(Bo(a)),h=RE(f);let p=u[h],y=u[f];if(i){const v=h==="y"?"top":"left",x=h==="y"?"bottom":"right",b=p+d[v],w=p-d[x];p=Q_(b,p,w)}if(o){const v=f==="y"?"top":"left",x=f==="y"?"bottom":"right",b=y+d[v],w=y-d[x];y=Q_(b,y,w)}const m=l.fn({...t,[h]:p,[f]:y});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:i,[f]:o}}}}}},kX=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Fo(e,t),d={x:r,y:n},f=Ws(a),h=RE(f);let p=d[h],y=d[f];const m=Fo(l,t),v=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const w=h==="y"?"height":"width",j=i.reference[h]-i.floating[w]+v.mainAxis,S=i.reference[h]+i.reference[w]-v.mainAxis;p<j?p=j:p>S&&(p=S)}if(u){var x,b;const w=h==="y"?"width":"height",j=x3.has(Bo(a)),S=i.reference[f]-i.floating[w]+(j&&((x=o.offset)==null?void 0:x[f])||0)+(j?0:v.crossAxis),_=i.reference[f]+i.reference[w]+(j?0:((b=o.offset)==null?void 0:b[f])||0)-(j?v.crossAxis:0);y<S?y=S:y>_&&(y=_)}return{[h]:p,[f]:y}}}},TX=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Fo(e,t),d=await rm(t,u),f=Bo(a),h=th(a),p=Ws(a)==="y",{width:y,height:m}=i.floating;let v,x;f==="top"||f==="bottom"?(v=f,x=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,v=h==="end"?"top":"bottom");const b=m-d.top-d.bottom,w=y-d.left-d.right,j=Ql(m-d[v],b),S=Ql(y-d[x],w),_=!t.middlewareData.shift;let N=j,C=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(C=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(N=b),_&&!h){const A=li(d.left,0),O=li(d.right,0),P=li(d.top,0),k=li(d.bottom,0);p?C=y-2*(A!==0||O!==0?A+O:li(d.left,d.right)):N=m-2*(P!==0||k!==0?P+k:li(d.top,d.bottom))}await c({...t,availableWidth:C,availableHeight:N});const E=await o.getDimensions(l.floating);return y!==E.width||m!==E.height?{reset:{rects:!0}}:{}}}};function a0(){return typeof window<"u"}function rh(e){return b3(e)?(e.nodeName||"").toLowerCase():"#document"}function vi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ro(e){var t;return(t=(b3(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function b3(e){return a0()?e instanceof Node||e instanceof vi(e).Node:!1}function Ns(e){return a0()?e instanceof Element||e instanceof vi(e).Element:!1}function Js(e){return a0()?e instanceof HTMLElement||e instanceof vi(e).HTMLElement:!1}function f2(e){return!a0()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof vi(e).ShadowRoot}const DX=new Set(["inline","contents"]);function mv(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Cs(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!DX.has(a)}const IX=new Set(["table","td","th"]);function RX(e){return IX.has(rh(e))}const $X=[":popover-open",":modal"];function i0(e){return $X.some(t=>{try{return e.matches(t)}catch{return!1}})}const MX=["transform","translate","scale","rotate","perspective"],LX=["transform","translate","scale","rotate","perspective","filter"],FX=["paint","layout","strict","content"];function LE(e){const t=FE(),r=Ns(e)?Cs(e):e;return MX.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||LX.some(n=>(r.willChange||"").includes(n))||FX.some(n=>(r.contain||"").includes(n))}function BX(e){let t=Jl(e);for(;Js(t)&&!mf(t);){if(LE(t))return t;if(i0(t))return null;t=Jl(t)}return null}function FE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const qX=new Set(["html","body","#document"]);function mf(e){return qX.has(rh(e))}function Cs(e){return vi(e).getComputedStyle(e)}function s0(e){return Ns(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Jl(e){if(rh(e)==="html")return e;const t=e.assignedSlot||e.parentNode||f2(e)&&e.host||ro(e);return f2(t)?t.host:t}function w3(e){const t=Jl(e);return mf(t)?e.ownerDocument?e.ownerDocument.body:e.body:Js(t)&&mv(t)?t:w3(t)}function nm(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=w3(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=vi(a);if(i){const l=Z_(o);return t.concat(o,o.visualViewport||[],mv(a)?a:[],l&&r?nm(l):[])}return t.concat(a,nm(a,[],r))}function Z_(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function j3(e){const t=Cs(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Js(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=sx(r)!==i||sx(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function BE(e){return Ns(e)?e:e.contextElement}function Bd(e){const t=BE(e);if(!Js(t))return Ks(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=j3(t);let o=(i?sx(r.width):r.width)/n,l=(i?sx(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const UX=Ks(0);function S3(e){const t=vi(e);return!FE()||!t.visualViewport?UX:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function zX(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==vi(e)?!1:t}function _u(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=BE(e);let o=Ks(1);t&&(n?Ns(n)&&(o=Bd(n)):o=Bd(e));const l=zX(i,r,n)?S3(i):Ks(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(i){const h=vi(i),p=n&&Ns(n)?vi(n):n;let y=h,m=Z_(y);for(;m&&n&&p!==y;){const v=Bd(m),x=m.getBoundingClientRect(),b=Cs(m),w=x.left+(m.clientLeft+parseFloat(b.paddingLeft))*v.x,j=x.top+(m.clientTop+parseFloat(b.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=w,u+=j,y=vi(m),m=Z_(y)}}return lx({width:d,height:f,x:c,y:u})}function o0(e,t){const r=s0(e).scrollLeft;return t?t.left+r:_u(ro(e)).left+r}function _3(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-o0(e,r),a=r.top+t.scrollTop;return{x:n,y:a}}function WX(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=ro(n),l=t?i0(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=Ks(1);const d=Ks(0),f=Js(n);if((f||!f&&!i)&&((rh(n)!=="body"||mv(o))&&(c=s0(n)),Js(n))){const p=_u(n);u=Bd(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=o&&!f&&!i?_3(o,c):Ks(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function VX(e){return Array.from(e.getClientRects())}function HX(e){const t=ro(e),r=s0(e),n=e.ownerDocument.body,a=li(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=li(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+o0(e);const l=-r.scrollTop;return Cs(n).direction==="rtl"&&(o+=li(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}const h2=25;function GX(e,t){const r=vi(e),n=ro(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=FE();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const u=o0(n);if(u<=0){const d=n.ownerDocument,f=d.body,h=getComputedStyle(f),p=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,y=Math.abs(n.clientWidth-f.clientWidth-p);y<=h2&&(i-=y)}else u<=h2&&(i+=u);return{width:i,height:o,x:l,y:c}}const KX=new Set(["absolute","fixed"]);function YX(e,t){const r=_u(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=Js(e)?Bd(e):Ks(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function p2(e,t,r){let n;if(t==="viewport")n=GX(e,r);else if(t==="document")n=HX(ro(e));else if(Ns(t))n=YX(t,r);else{const a=S3(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return lx(n)}function N3(e,t){const r=Jl(e);return r===t||!Ns(r)||mf(r)?!1:Cs(r).position==="fixed"||N3(r,t)}function XX(e,t){const r=t.get(e);if(r)return r;let n=nm(e,[],!1).filter(l=>Ns(l)&&rh(l)!=="body"),a=null;const i=Cs(e).position==="fixed";let o=i?Jl(e):e;for(;Ns(o)&&!mf(o);){const l=Cs(o),c=LE(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&KX.has(a.position)||mv(o)&&!c&&N3(e,o))?n=n.filter(d=>d!==o):a=l,o=Jl(o)}return t.set(e,n),n}function QX(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?i0(t)?[]:XX(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=p2(t,d,a);return u.top=li(f.top,u.top),u.right=Ql(f.right,u.right),u.bottom=Ql(f.bottom,u.bottom),u.left=li(f.left,u.left),u},p2(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function JX(e){const{width:t,height:r}=j3(e);return{width:t,height:r}}function ZX(e,t,r){const n=Js(t),a=ro(t),i=r==="fixed",o=_u(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Ks(0);function u(){c.x=o0(a)}if(n||!n&&!i)if((rh(t)!=="body"||mv(a))&&(l=s0(t)),n){const p=_u(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else a&&u();i&&!n&&a&&u();const d=a&&!n&&!i?_3(a,l):Ks(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function kj(e){return Cs(e).position==="static"}function m2(e,t){if(!Js(e)||Cs(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ro(e)===r&&(r=r.ownerDocument.body),r}function C3(e,t){const r=vi(e);if(i0(e))return r;if(!Js(e)){let a=Jl(e);for(;a&&!mf(a);){if(Ns(a)&&!kj(a))return a;a=Jl(a)}return r}let n=m2(e,t);for(;n&&RX(n)&&kj(n);)n=m2(n,t);return n&&mf(n)&&kj(n)&&!LE(n)?r:n||BX(e)||r}const eQ=async function(e){const t=this.getOffsetParent||C3,r=this.getDimensions,n=await r(e.floating);return{reference:ZX(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function tQ(e){return Cs(e).direction==="rtl"}const rQ={convertOffsetParentRelativeRectToViewportRelativeRect:WX,getDocumentElement:ro,getClippingRect:QX,getOffsetParent:C3,getElementRects:eQ,getClientRects:VX,getDimensions:JX,getScale:Bd,isElement:Ns,isRTL:tQ};function E3(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function nQ(e,t){let r=null,n;const a=ro(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(l||t(),!h||!p)return;const y=Eg(f),m=Eg(a.clientWidth-(d+h)),v=Eg(a.clientHeight-(f+p)),x=Eg(d),w={rootMargin:-y+"px "+-m+"px "+-v+"px "+-x+"px",threshold:li(0,Ql(1,c))||1};let j=!0;function S(_){const N=_[0].intersectionRatio;if(N!==c){if(!j)return o();N?o(!1,N):n=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!E3(u,e.getBoundingClientRect())&&o(),j=!1}try{r=new IntersectionObserver(S,{...w,root:a.ownerDocument})}catch{r=new IntersectionObserver(S,w)}r.observe(e)}return o(!0),i}function aQ(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=BE(e),d=a||i?[...u?nm(u):[],...nm(t)]:[];d.forEach(x=>{a&&x.addEventListener("scroll",r,{passive:!0}),i&&x.addEventListener("resize",r)});const f=u&&l?nQ(u,r):null;let h=-1,p=null;o&&(p=new ResizeObserver(x=>{let[b]=x;b&&b.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let y,m=c?_u(e):null;c&&v();function v(){const x=_u(e);m&&!E3(m,x)&&r(),m=x,y=requestAnimationFrame(v)}return r(),()=>{var x;d.forEach(b=>{a&&b.removeEventListener("scroll",r),i&&b.removeEventListener("resize",r)}),f==null||f(),(x=p)==null||x.disconnect(),p=null,c&&cancelAnimationFrame(y)}}const iQ=OX,sQ=AX,oQ=CX,lQ=TX,cQ=EX,v2=NX,uQ=kX,dQ=(e,t,r)=>{const n=new Map,a={platform:rQ,...r},i={...a.platform,_c:n};return _X(e,t,{...a,platform:i})};var fQ=typeof document<"u",hQ=function(){},Ey=fQ?g.useLayoutEffect:hQ;function cx(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!cx(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!cx(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function P3(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function g2(e,t){const r=P3(e);return Math.round(t*r)/r}function Tj(e){const t=g.useRef(e);return Ey(()=>{t.current=e}),t}function pQ(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=g.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=g.useState(n);cx(h,n)||p(n);const[y,m]=g.useState(null),[v,x]=g.useState(null),b=g.useCallback(D=>{D!==_.current&&(_.current=D,m(D))},[]),w=g.useCallback(D=>{D!==N.current&&(N.current=D,x(D))},[]),j=i||y,S=o||v,_=g.useRef(null),N=g.useRef(null),C=g.useRef(d),E=c!=null,A=Tj(c),O=Tj(a),P=Tj(u),k=g.useCallback(()=>{if(!_.current||!N.current)return;const D={placement:t,strategy:r,middleware:h};O.current&&(D.platform=O.current),dQ(_.current,N.current,D).then(T=>{const H={...T,isPositioned:P.current!==!1};I.current&&!cx(C.current,H)&&(C.current=H,lc.flushSync(()=>{f(H)}))})},[h,t,r,O,P]);Ey(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(D=>({...D,isPositioned:!1})))},[u]);const I=g.useRef(!1);Ey(()=>(I.current=!0,()=>{I.current=!1}),[]),Ey(()=>{if(j&&(_.current=j),S&&(N.current=S),j&&S){if(A.current)return A.current(j,S,k);k()}},[j,S,k,A,E]);const M=g.useMemo(()=>({reference:_,floating:N,setReference:b,setFloating:w}),[b,w]),L=g.useMemo(()=>({reference:j,floating:S}),[j,S]),$=g.useMemo(()=>{const D={position:r,left:0,top:0};if(!L.floating)return D;const T=g2(L.floating,d.x),H=g2(L.floating,d.y);return l?{...D,transform:"translate("+T+"px, "+H+"px)",...P3(L.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:T,top:H}},[r,l,L.floating,d.x,d.y]);return g.useMemo(()=>({...d,update:k,refs:M,elements:L,floatingStyles:$}),[d,k,M,L,$])}const mQ=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?v2({element:n.current,padding:a}).fn(r):{}:n?v2({element:n,padding:a}).fn(r):{}}}},vQ=(e,t)=>({...iQ(e),options:[e,t]}),gQ=(e,t)=>({...sQ(e),options:[e,t]}),yQ=(e,t)=>({...uQ(e),options:[e,t]}),xQ=(e,t)=>({...oQ(e),options:[e,t]}),bQ=(e,t)=>({...lQ(e),options:[e,t]}),wQ=(e,t)=>({...cQ(e),options:[e,t]}),jQ=(e,t)=>({...mQ(e),options:[e,t]});var SQ="Arrow",O3=g.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(Ze.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});O3.displayName=SQ;var _Q=O3;function qE(e){const[t,r]=g.useState(void 0);return Nn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var UE="Popper",[A3,nh]=Xa(UE),[NQ,k3]=A3(UE),T3=e=>{const{__scopePopper:t,children:r}=e,[n,a]=g.useState(null);return s.jsx(NQ,{scope:t,anchor:n,onAnchorChange:a,children:r})};T3.displayName=UE;var D3="PopperAnchor",I3=g.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=k3(D3,r),o=g.useRef(null),l=Yt(t,o),c=g.useRef(null);return g.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||o.current,u!==c.current&&i.onAnchorChange(c.current)}),n?null:s.jsx(Ze.div,{...a,ref:l})});I3.displayName=D3;var zE="PopperContent",[CQ,EQ]=A3(zE),R3=g.forwardRef((e,t)=>{var oe,q,U,ae,z,W;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:y,...m}=e,v=k3(zE,r),[x,b]=g.useState(null),w=Yt(t,ge=>b(ge)),[j,S]=g.useState(null),_=qE(j),N=(_==null?void 0:_.width)??0,C=(_==null?void 0:_.height)??0,E=n+(i!=="center"?"-"+i:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},O=Array.isArray(u)?u:[u],P=O.length>0,k={padding:A,boundary:O.filter(OQ),altBoundary:P},{refs:I,floatingStyles:M,placement:L,isPositioned:$,middlewareData:D}=pQ({strategy:"fixed",placement:E,whileElementsMounted:(...ge)=>aQ(...ge,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[vQ({mainAxis:a+C,alignmentAxis:o}),c&&gQ({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?yQ():void 0,...k}),c&&xQ({...k}),bQ({...k,apply:({elements:ge,rects:me,availableWidth:be,availableHeight:X})=>{const{width:ee,height:xe}=me.reference,he=ge.floating.style;he.setProperty("--radix-popper-available-width",`${be}px`),he.setProperty("--radix-popper-available-height",`${X}px`),he.setProperty("--radix-popper-anchor-width",`${ee}px`),he.setProperty("--radix-popper-anchor-height",`${xe}px`)}}),j&&jQ({element:j,padding:l}),AQ({arrowWidth:N,arrowHeight:C}),h&&wQ({strategy:"referenceHidden",...k})]}),[T,H]=L3(L),re=An(y);Nn(()=>{$&&(re==null||re())},[$,re]);const J=(oe=D.arrow)==null?void 0:oe.x,le=(q=D.arrow)==null?void 0:q.y,te=((U=D.arrow)==null?void 0:U.centerOffset)!==0,[Z,we]=g.useState();return Nn(()=>{x&&we(window.getComputedStyle(x).zIndex)},[x]),s.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...M,transform:$?M.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Z,"--radix-popper-transform-origin":[(ae=D.transformOrigin)==null?void 0:ae.x,(z=D.transformOrigin)==null?void 0:z.y].join(" "),...((W=D.hide)==null?void 0:W.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(CQ,{scope:r,placedSide:T,onArrowChange:S,arrowX:J,arrowY:le,shouldHideArrow:te,children:s.jsx(Ze.div,{"data-side":T,"data-align":H,...m,ref:w,style:{...m.style,animation:$?void 0:"none"}})})})});R3.displayName=zE;var $3="PopperArrow",PQ={top:"bottom",right:"left",bottom:"top",left:"right"},M3=g.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=EQ($3,n),o=PQ[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(_Q,{...a,ref:r,style:{...a.style,display:"block"}})})});M3.displayName=$3;function OQ(e){return e!==null}var AQ=e=>({name:"transformOrigin",options:e,fn(t){var v,x,b;const{placement:r,rects:n,middlewareData:a}=t,o=((v=a.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=L3(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((x=a.arrow)==null?void 0:x.x)??0)+l/2,p=(((b=a.arrow)==null?void 0:b.y)??0)+c/2;let y="",m="";return u==="bottom"?(y=o?f:`${h}px`,m=`${-c}px`):u==="top"?(y=o?f:`${h}px`,m=`${n.floating.height+c}px`):u==="right"?(y=`${-c}px`,m=o?f:`${p}px`):u==="left"&&(y=`${n.floating.width+c}px`,m=o?f:`${p}px`),{data:{x:y,y:m}}}});function L3(e){const[t,r="center"]=e.split("-");return[t,r]}var F3=T3,l0=I3,WE=R3,VE=M3,[c0]=Xa("Tooltip",[nh]),HE=nh(),B3="TooltipProvider",kQ=700,y2="tooltip.open",[TQ,q3]=c0(B3),U3=e=>{const{__scopeTooltip:t,delayDuration:r=kQ,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,o=g.useRef(!0),l=g.useRef(!1),c=g.useRef(0);return g.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),s.jsx(TQ,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:g.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:g.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:g.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:i})};U3.displayName=B3;var z3="Tooltip",[z3e,u0]=c0(z3),e1="TooltipTrigger",DQ=g.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=u0(e1,r),i=q3(e1,r),o=HE(r),l=g.useRef(null),c=Yt(t,l,a.onTriggerChange),u=g.useRef(!1),d=g.useRef(!1),f=g.useCallback(()=>u.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),s.jsx(l0,{asChild:!0,...o,children:s.jsx(Ze.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:He(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:He(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:He(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:He(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:He(e.onBlur,a.onClose),onClick:He(e.onClick,a.onClose)})})});DQ.displayName=e1;var IQ="TooltipPortal",[W3e,RQ]=c0(IQ,{forceMount:void 0}),vf="TooltipContent",W3=g.forwardRef((e,t)=>{const r=RQ(vf,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,o=u0(vf,e.__scopeTooltip);return s.jsx(Qa,{present:n||o.open,children:o.disableHoverableContent?s.jsx(V3,{side:a,...i,ref:t}):s.jsx($Q,{side:a,...i,ref:t})})}),$Q=g.forwardRef((e,t)=>{const r=u0(vf,e.__scopeTooltip),n=q3(vf,e.__scopeTooltip),a=g.useRef(null),i=Yt(t,a),[o,l]=g.useState(null),{trigger:c,onClose:u}=r,d=a.current,{onPointerInTransitChange:f}=n,h=g.useCallback(()=>{l(null),f(!1)},[f]),p=g.useCallback((y,m)=>{const v=y.currentTarget,x={x:y.clientX,y:y.clientY},b=qQ(x,v.getBoundingClientRect()),w=UQ(x,b),j=zQ(m.getBoundingClientRect()),S=VQ([...w,...j]);l(S),f(!0)},[f]);return g.useEffect(()=>()=>h(),[h]),g.useEffect(()=>{if(c&&d){const y=v=>p(v,d),m=v=>p(v,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",m)}}},[c,d,p,h]),g.useEffect(()=>{if(o){const y=m=>{const v=m.target,x={x:m.clientX,y:m.clientY},b=(c==null?void 0:c.contains(v))||(d==null?void 0:d.contains(v)),w=!WQ(x,o);b?h():w&&(h(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,o,u,h]),s.jsx(V3,{...e,ref:i})}),[MQ,LQ]=c0(z3,{isInside:!1}),FQ=kG("TooltipContent"),V3=g.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=u0(vf,r),u=HE(r),{onClose:d}=c;return g.useEffect(()=>(document.addEventListener(y2,d),()=>document.removeEventListener(y2,d)),[d]),g.useEffect(()=>{if(c.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),s.jsx(Zf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:s.jsxs(WE,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(FQ,{children:n}),s.jsx(MQ,{scope:r,isInside:!0,children:s.jsx(ZG,{id:c.contentId,role:"tooltip",children:a||n})})]})})});W3.displayName=vf;var H3="TooltipArrow",BQ=g.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=HE(r);return LQ(H3,r).isInside?null:s.jsx(VE,{...a,...n,ref:t})});BQ.displayName=H3;function qQ(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function UQ(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function zQ(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function WQ(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function VQ(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),HQ(t)}function HQ(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var GQ=U3,G3=W3;const KQ=GQ,YQ=g.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(G3,{ref:n,sideOffset:t,className:Ee("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));YQ.displayName=G3.displayName;var ah=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},XQ={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},yl,EC,GM,QQ=(GM=class{constructor(){at(this,yl,XQ);at(this,EC,!1)}setTimeoutProvider(e){Re(this,yl,e)}setTimeout(e,t){return Y(this,yl).setTimeout(e,t)}clearTimeout(e){Y(this,yl).clearTimeout(e)}setInterval(e,t){return Y(this,yl).setInterval(e,t)}clearInterval(e){Y(this,yl).clearInterval(e)}},yl=new WeakMap,EC=new WeakMap,GM),Gc=new QQ;function JQ(e){setTimeout(e,0)}var Nu=typeof window>"u"||"Deno"in globalThis;function Sa(){}function ZQ(e,t){return typeof e=="function"?e(t):e}function t1(e){return typeof e=="number"&&e>=0&&e!==1/0}function K3(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Bl(e,t){return typeof e=="function"?e(t):e}function Di(e,t){return typeof e=="function"?e(t):e}function x2(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==GE(o,t.options))return!1}else if(!am(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function b2(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Cu(t.options.mutationKey)!==Cu(i))return!1}else if(!am(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function GE(e,t){return((t==null?void 0:t.queryKeyHashFn)||Cu)(e)}function Cu(e){return JSON.stringify(e,(t,r)=>r1(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function am(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>am(e[r],t[r])):!1}var eJ=Object.prototype.hasOwnProperty;function Y3(e,t){if(e===t)return e;const r=w2(e)&&w2(t);if(!r&&!(r1(e)&&r1(t)))return t;const a=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),o=i.length,l=r?new Array(o):{};let c=0;for(let u=0;u<o;u++){const d=r?u:i[u],f=e[d],h=t[d];if(f===h){l[d]=f,(r?u<a:eJ.call(e,d))&&c++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){l[d]=h;continue}const p=Y3(f,h);l[d]=p,p===f&&c++}return a===o&&c===a?e:l}function ux(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function w2(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function r1(e){if(!j2(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!j2(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function j2(e){return Object.prototype.toString.call(e)==="[object Object]"}function tJ(e){return new Promise(t=>{Gc.setTimeout(t,e)})}function n1(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Y3(e,t):t}function rJ(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function nJ(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var KE=Symbol();function X3(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===KE?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Q3(e,t){return typeof e=="function"?e(...t):!!e}var Zc,xl,Gd,KM,aJ=(KM=class extends ah{constructor(){super();at(this,Zc);at(this,xl);at(this,Gd);Re(this,Gd,t=>{if(!Nu&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Y(this,xl)||this.setEventListener(Y(this,Gd))}onUnsubscribe(){var t;this.hasListeners()||((t=Y(this,xl))==null||t.call(this),Re(this,xl,void 0))}setEventListener(t){var r;Re(this,Gd,t),(r=Y(this,xl))==null||r.call(this),Re(this,xl,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){Y(this,Zc)!==t&&(Re(this,Zc,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof Y(this,Zc)=="boolean"?Y(this,Zc):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Zc=new WeakMap,xl=new WeakMap,Gd=new WeakMap,KM),YE=new aJ;function a1(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var iJ=JQ;function sJ(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=iJ;const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var Fn=sJ(),Kd,bl,Yd,YM,oJ=(YM=class extends ah{constructor(){super();at(this,Kd,!0);at(this,bl);at(this,Yd);Re(this,Yd,t=>{if(!Nu&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){Y(this,bl)||this.setEventListener(Y(this,Yd))}onUnsubscribe(){var t;this.hasListeners()||((t=Y(this,bl))==null||t.call(this),Re(this,bl,void 0))}setEventListener(t){var r;Re(this,Yd,t),(r=Y(this,bl))==null||r.call(this),Re(this,bl,t(this.setOnline.bind(this)))}setOnline(t){Y(this,Kd)!==t&&(Re(this,Kd,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return Y(this,Kd)}},Kd=new WeakMap,bl=new WeakMap,Yd=new WeakMap,YM),dx=new oJ;function lJ(e){return Math.min(1e3*2**e,3e4)}function J3(e){return(e??"online")==="online"?dx.isOnline():!0}var i1=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Z3(e){let t=!1,r=0,n;const a=a1(),i=()=>a.status!=="pending",o=m=>{var v;if(!i()){const x=new i1(m);h(x),(v=e.onCancel)==null||v.call(e,x)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>YE.isFocused()&&(e.networkMode==="always"||dx.isOnline())&&e.canRun(),d=()=>J3(e.networkMode)&&e.canRun(),f=m=>{i()||(n==null||n(),a.resolve(m))},h=m=>{i()||(n==null||n(),a.reject(m))},p=()=>new Promise(m=>{var v;n=x=>{(i()||u())&&m(x)},(v=e.onPause)==null||v.call(e)}).then(()=>{var m;n=void 0,i()||(m=e.onContinue)==null||m.call(e)}),y=()=>{if(i())return;let m;const v=r===0?e.initialPromise:void 0;try{m=v??e.fn()}catch(x){m=Promise.reject(x)}Promise.resolve(m).then(f).catch(x=>{var _;if(i())return;const b=e.retry??(Nu?0:3),w=e.retryDelay??lJ,j=typeof w=="function"?w(r,x):w,S=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,x);if(t||!S){h(x);return}r++,(_=e.onFail)==null||_.call(e,r,x),tJ(j).then(()=>u()?void 0:p()).then(()=>{t?h(x):y()})})};return{promise:a,status:()=>a.status,cancel:o,continue:()=>(n==null||n(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?y():p().then(y),a)}}var eu,XM,eB=(XM=class{constructor(){at(this,eu)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),t1(this.gcTime)&&Re(this,eu,Gc.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Nu?1/0:5*60*1e3))}clearGcTimeout(){Y(this,eu)&&(Gc.clearTimeout(Y(this,eu)),Re(this,eu,void 0))}},eu=new WeakMap,XM),tu,Xd,Ti,ru,Wn,tv,nu,cs,fo,QM,cJ=(QM=class extends eB{constructor(t){super();at(this,cs);at(this,tu);at(this,Xd);at(this,Ti);at(this,ru);at(this,Wn);at(this,tv);at(this,nu);Re(this,nu,!1),Re(this,tv,t.defaultOptions),this.setOptions(t.options),this.observers=[],Re(this,ru,t.client),Re(this,Ti,Y(this,ru).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Re(this,tu,S2(this.options)),this.state=t.state??Y(this,tu),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Y(this,Wn))==null?void 0:t.promise}setOptions(t){if(this.options={...Y(this,tv),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=S2(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),Re(this,tu,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Y(this,Ti).remove(this)}setData(t,r){const n=n1(this.state.data,t,this.options);return Ut(this,cs,fo).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Ut(this,cs,fo).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=Y(this,Wn))==null?void 0:n.promise;return(a=Y(this,Wn))==null||a.cancel(t),r?r.then(Sa).catch(Sa):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Y(this,tu))}isActive(){return this.observers.some(t=>Di(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===KE||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Bl(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!K3(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=Y(this,Wn))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=Y(this,Wn))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Y(this,Ti).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(Y(this,Wn)&&(Y(this,nu)?Y(this,Wn).cancel({revert:!0}):Y(this,Wn).cancelRetry()),this.scheduleGc()),Y(this,Ti).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ut(this,cs,fo).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,f,h,p,y,m,v,x,b,w;if(this.state.fetchStatus!=="idle"&&((c=Y(this,Wn))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Y(this,Wn))return Y(this,Wn).continueRetry(),Y(this,Wn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const j=this.observers.find(S=>S.options.queryFn);j&&this.setOptions(j.options)}const n=new AbortController,a=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(Re(this,nu,!0),n.signal)})},i=()=>{const j=X3(this.options,r),_=(()=>{const N={client:Y(this,ru),queryKey:this.queryKey,meta:this.meta};return a(N),N})();return Re(this,nu,!1),this.options.persister?this.options.persister(j,_,this):j(_)},l=(()=>{const j={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Y(this,ru),state:this.state,fetchFn:i};return a(j),j})();(u=this.options.behavior)==null||u.onFetch(l,this),Re(this,Xd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Ut(this,cs,fo).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),Re(this,Wn,Z3({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:j=>{j instanceof i1&&j.revert&&this.setState({...Y(this,Xd),fetchStatus:"idle"}),n.abort()},onFail:(j,S)=>{Ut(this,cs,fo).call(this,{type:"failed",failureCount:j,error:S})},onPause:()=>{Ut(this,cs,fo).call(this,{type:"pause"})},onContinue:()=>{Ut(this,cs,fo).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const j=await Y(this,Wn).start();if(j===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(j),(p=(h=Y(this,Ti).config).onSuccess)==null||p.call(h,j,this),(m=(y=Y(this,Ti).config).onSettled)==null||m.call(y,j,this.state.error,this),j}catch(j){if(j instanceof i1){if(j.silent)return Y(this,Wn).promise;if(j.revert){if(this.state.data===void 0)throw j;return this.state.data}}throw Ut(this,cs,fo).call(this,{type:"error",error:j}),(x=(v=Y(this,Ti).config).onError)==null||x.call(v,j,this),(w=(b=Y(this,Ti).config).onSettled)==null||w.call(b,this.state.data,j,this),j}finally{this.scheduleGc()}}},tu=new WeakMap,Xd=new WeakMap,Ti=new WeakMap,ru=new WeakMap,Wn=new WeakMap,tv=new WeakMap,nu=new WeakMap,cs=new WeakSet,fo=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...tB(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Re(this,Xd,t.manual?a:void 0),a;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Fn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),Y(this,Ti).notify({query:this,type:"updated",action:t})})},QM);function tB(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:J3(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function S2(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var $a,ar,rv,ba,au,Qd,go,wl,nv,Jd,Zd,iu,su,jl,ef,Pr,lp,s1,o1,l1,c1,u1,d1,f1,rB,JM,uJ=(JM=class extends ah{constructor(t,r){super();at(this,Pr);at(this,$a);at(this,ar);at(this,rv);at(this,ba);at(this,au);at(this,Qd);at(this,go);at(this,wl);at(this,nv);at(this,Jd);at(this,Zd);at(this,iu);at(this,su);at(this,jl);at(this,ef,new Set);this.options=r,Re(this,$a,t),Re(this,wl,null),Re(this,go,a1()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Y(this,ar).addObserver(this),_2(Y(this,ar),this.options)?Ut(this,Pr,lp).call(this):this.updateResult(),Ut(this,Pr,c1).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return h1(Y(this,ar),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return h1(Y(this,ar),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ut(this,Pr,u1).call(this),Ut(this,Pr,d1).call(this),Y(this,ar).removeObserver(this)}setOptions(t){const r=this.options,n=Y(this,ar);if(this.options=Y(this,$a).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Di(this.options.enabled,Y(this,ar))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ut(this,Pr,f1).call(this),Y(this,ar).setOptions(this.options),r._defaulted&&!ux(this.options,r)&&Y(this,$a).getQueryCache().notify({type:"observerOptionsUpdated",query:Y(this,ar),observer:this});const a=this.hasListeners();a&&N2(Y(this,ar),n,this.options,r)&&Ut(this,Pr,lp).call(this),this.updateResult(),a&&(Y(this,ar)!==n||Di(this.options.enabled,Y(this,ar))!==Di(r.enabled,Y(this,ar))||Bl(this.options.staleTime,Y(this,ar))!==Bl(r.staleTime,Y(this,ar)))&&Ut(this,Pr,s1).call(this);const i=Ut(this,Pr,o1).call(this);a&&(Y(this,ar)!==n||Di(this.options.enabled,Y(this,ar))!==Di(r.enabled,Y(this,ar))||i!==Y(this,jl))&&Ut(this,Pr,l1).call(this,i)}getOptimisticResult(t){const r=Y(this,$a).getQueryCache().build(Y(this,$a),t),n=this.createResult(r,t);return fJ(this,n)&&(Re(this,ba,n),Re(this,Qd,this.options),Re(this,au,Y(this,ar).state)),n}getCurrentResult(){return Y(this,ba)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&Y(this,go).status==="pending"&&Y(this,go).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,a))})}trackProp(t){Y(this,ef).add(t)}getCurrentQuery(){return Y(this,ar)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=Y(this,$a).defaultQueryOptions(t),n=Y(this,$a).getQueryCache().build(Y(this,$a),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Ut(this,Pr,lp).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),Y(this,ba)))}createResult(t,r){var E;const n=Y(this,ar),a=this.options,i=Y(this,ba),o=Y(this,au),l=Y(this,Qd),u=t!==n?t.state:Y(this,rv),{state:d}=t;let f={...d},h=!1,p;if(r._optimisticResults){const A=this.hasListeners(),O=!A&&_2(t,r),P=A&&N2(t,n,r,a);(O||P)&&(f={...f,...tB(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:y,errorUpdatedAt:m,status:v}=f;p=f.data;let x=!1;if(r.placeholderData!==void 0&&p===void 0&&v==="pending"){let A;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(A=i.data,x=!0):A=typeof r.placeholderData=="function"?r.placeholderData((E=Y(this,Zd))==null?void 0:E.state.data,Y(this,Zd)):r.placeholderData,A!==void 0&&(v="success",p=n1(i==null?void 0:i.data,A,r),h=!0)}if(r.select&&p!==void 0&&!x)if(i&&p===(o==null?void 0:o.data)&&r.select===Y(this,nv))p=Y(this,Jd);else try{Re(this,nv,r.select),p=r.select(p),p=n1(i==null?void 0:i.data,p,r),Re(this,Jd,p),Re(this,wl,null)}catch(A){Re(this,wl,A)}Y(this,wl)&&(y=Y(this,wl),p=Y(this,Jd),m=Date.now(),v="error");const b=f.fetchStatus==="fetching",w=v==="pending",j=v==="error",S=w&&b,_=p!==void 0,C={status:v,fetchStatus:f.fetchStatus,isPending:w,isSuccess:v==="success",isError:j,isInitialLoading:S,isLoading:S,data:p,dataUpdatedAt:f.dataUpdatedAt,error:y,errorUpdatedAt:m,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:b,isRefetching:b&&!w,isLoadingError:j&&!_,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:j&&_,isStale:XE(t,r),refetch:this.refetch,promise:Y(this,go),isEnabled:Di(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const A=k=>{C.status==="error"?k.reject(C.error):C.data!==void 0&&k.resolve(C.data)},O=()=>{const k=Re(this,go,C.promise=a1());A(k)},P=Y(this,go);switch(P.status){case"pending":t.queryHash===n.queryHash&&A(P);break;case"fulfilled":(C.status==="error"||C.data!==P.value)&&O();break;case"rejected":(C.status!=="error"||C.error!==P.reason)&&O();break}}return C}updateResult(){const t=Y(this,ba),r=this.createResult(Y(this,ar),this.options);if(Re(this,au,Y(this,ar).state),Re(this,Qd,this.options),Y(this,au).data!==void 0&&Re(this,Zd,Y(this,ar)),ux(r,t))return;Re(this,ba,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!Y(this,ef).size)return!0;const o=new Set(i??Y(this,ef));return this.options.throwOnError&&o.add("error"),Object.keys(Y(this,ba)).some(l=>{const c=l;return Y(this,ba)[c]!==t[c]&&o.has(c)})};Ut(this,Pr,rB).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ut(this,Pr,c1).call(this)}},$a=new WeakMap,ar=new WeakMap,rv=new WeakMap,ba=new WeakMap,au=new WeakMap,Qd=new WeakMap,go=new WeakMap,wl=new WeakMap,nv=new WeakMap,Jd=new WeakMap,Zd=new WeakMap,iu=new WeakMap,su=new WeakMap,jl=new WeakMap,ef=new WeakMap,Pr=new WeakSet,lp=function(t){Ut(this,Pr,f1).call(this);let r=Y(this,ar).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Sa)),r},s1=function(){Ut(this,Pr,u1).call(this);const t=Bl(this.options.staleTime,Y(this,ar));if(Nu||Y(this,ba).isStale||!t1(t))return;const n=K3(Y(this,ba).dataUpdatedAt,t)+1;Re(this,iu,Gc.setTimeout(()=>{Y(this,ba).isStale||this.updateResult()},n))},o1=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Y(this,ar)):this.options.refetchInterval)??!1},l1=function(t){Ut(this,Pr,d1).call(this),Re(this,jl,t),!(Nu||Di(this.options.enabled,Y(this,ar))===!1||!t1(Y(this,jl))||Y(this,jl)===0)&&Re(this,su,Gc.setInterval(()=>{(this.options.refetchIntervalInBackground||YE.isFocused())&&Ut(this,Pr,lp).call(this)},Y(this,jl)))},c1=function(){Ut(this,Pr,s1).call(this),Ut(this,Pr,l1).call(this,Ut(this,Pr,o1).call(this))},u1=function(){Y(this,iu)&&(Gc.clearTimeout(Y(this,iu)),Re(this,iu,void 0))},d1=function(){Y(this,su)&&(Gc.clearInterval(Y(this,su)),Re(this,su,void 0))},f1=function(){const t=Y(this,$a).getQueryCache().build(Y(this,$a),this.options);if(t===Y(this,ar))return;const r=Y(this,ar);Re(this,ar,t),Re(this,rv,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},rB=function(t){Fn.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(Y(this,ba))}),Y(this,$a).getQueryCache().notify({query:Y(this,ar),type:"observerResultsUpdated"})})},JM);function dJ(e,t){return Di(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function _2(e,t){return dJ(e,t)||e.state.data!==void 0&&h1(e,t,t.refetchOnMount)}function h1(e,t,r){if(Di(t.enabled,e)!==!1&&Bl(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&XE(e,t)}return!1}function N2(e,t,r,n){return(e!==t||Di(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&XE(e,r)}function XE(e,t){return Di(t.enabled,e)!==!1&&e.isStaleByTime(Bl(t.staleTime,e))}function fJ(e,t){return!ux(e.getCurrentResult(),t)}function C2(e){return{onFetch:(t,r)=>{var d,f,h,p,y;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],o=((y=t.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const v=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},x=X3(t.options,t.fetchOptions),b=async(w,j,S)=>{if(m)return Promise.reject();if(j==null&&w.pages.length)return Promise.resolve(w);const N=(()=>{const O={client:t.client,queryKey:t.queryKey,pageParam:j,direction:S?"backward":"forward",meta:t.options.meta};return v(O),O})(),C=await x(N),{maxPages:E}=t.options,A=S?nJ:rJ;return{pages:A(w.pages,C,E),pageParams:A(w.pageParams,j,E)}};if(a&&i.length){const w=a==="backward",j=w?hJ:E2,S={pages:i,pageParams:o},_=j(n,S);l=await b(S,_,w)}else{const w=e??i.length;do{const j=c===0?o[0]??n.initialPageParam:E2(n,l);if(c>0&&j==null)break;l=await b(l,j),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var m,v;return(v=(m=t.options).persister)==null?void 0:v.call(m,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function E2(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function hJ(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var av,$s,wa,ou,Ms,ll,ZM,pJ=(ZM=class extends eB{constructor(t){super();at(this,Ms);at(this,av);at(this,$s);at(this,wa);at(this,ou);Re(this,av,t.client),this.mutationId=t.mutationId,Re(this,wa,t.mutationCache),Re(this,$s,[]),this.state=t.state||nB(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Y(this,$s).includes(t)||(Y(this,$s).push(t),this.clearGcTimeout(),Y(this,wa).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Re(this,$s,Y(this,$s).filter(r=>r!==t)),this.scheduleGc(),Y(this,wa).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Y(this,$s).length||(this.state.status==="pending"?this.scheduleGc():Y(this,wa).remove(this))}continue(){var t;return((t=Y(this,ou))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,d,f,h,p,y,m,v,x,b,w,j,S,_,N,C,E;const r=()=>{Ut(this,Ms,ll).call(this,{type:"continue"})},n={client:Y(this,av),meta:this.options.meta,mutationKey:this.options.mutationKey};Re(this,ou,Z3({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(A,O)=>{Ut(this,Ms,ll).call(this,{type:"failed",failureCount:A,error:O})},onPause:()=>{Ut(this,Ms,ll).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Y(this,wa).canRun(this)}));const a=this.state.status==="pending",i=!Y(this,ou).canStart();try{if(a)r();else{Ut(this,Ms,ll).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(o=Y(this,wa).config).onMutate)==null?void 0:l.call(o,t,this,n));const O=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,n));O!==this.state.context&&Ut(this,Ms,ll).call(this,{type:"pending",context:O,variables:t,isPaused:i})}const A=await Y(this,ou).start();return await((f=(d=Y(this,wa).config).onSuccess)==null?void 0:f.call(d,A,t,this.state.context,this,n)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,A,t,this.state.context,n)),await((m=(y=Y(this,wa).config).onSettled)==null?void 0:m.call(y,A,null,this.state.variables,this.state.context,this,n)),await((x=(v=this.options).onSettled)==null?void 0:x.call(v,A,null,t,this.state.context,n)),Ut(this,Ms,ll).call(this,{type:"success",data:A}),A}catch(A){try{throw await((w=(b=Y(this,wa).config).onError)==null?void 0:w.call(b,A,t,this.state.context,this,n)),await((S=(j=this.options).onError)==null?void 0:S.call(j,A,t,this.state.context,n)),await((N=(_=Y(this,wa).config).onSettled)==null?void 0:N.call(_,void 0,A,this.state.variables,this.state.context,this,n)),await((E=(C=this.options).onSettled)==null?void 0:E.call(C,void 0,A,t,this.state.context,n)),A}finally{Ut(this,Ms,ll).call(this,{type:"error",error:A})}}finally{Y(this,wa).runNext(this)}}},av=new WeakMap,$s=new WeakMap,wa=new WeakMap,ou=new WeakMap,Ms=new WeakSet,ll=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Fn.batch(()=>{Y(this,$s).forEach(n=>{n.onMutationUpdate(t)}),Y(this,wa).notify({mutation:this,type:"updated",action:t})})},ZM);function nB(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var yo,us,iv,eL,mJ=(eL=class extends ah{constructor(t={}){super();at(this,yo);at(this,us);at(this,iv);this.config=t,Re(this,yo,new Set),Re(this,us,new Map),Re(this,iv,0)}build(t,r,n){const a=new pJ({client:t,mutationCache:this,mutationId:++ig(this,iv)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){Y(this,yo).add(t);const r=Pg(t);if(typeof r=="string"){const n=Y(this,us).get(r);n?n.push(t):Y(this,us).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Y(this,yo).delete(t)){const r=Pg(t);if(typeof r=="string"){const n=Y(this,us).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&Y(this,us).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Pg(t);if(typeof r=="string"){const n=Y(this,us).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=Pg(t);if(typeof r=="string"){const a=(n=Y(this,us).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Fn.batch(()=>{Y(this,yo).forEach(t=>{this.notify({type:"removed",mutation:t})}),Y(this,yo).clear(),Y(this,us).clear()})}getAll(){return Array.from(Y(this,yo))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>b2(r,n))}findAll(t={}){return this.getAll().filter(r=>b2(t,r))}notify(t){Fn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Fn.batch(()=>Promise.all(t.map(r=>r.continue().catch(Sa))))}},yo=new WeakMap,us=new WeakMap,iv=new WeakMap,eL);function Pg(e){var t;return(t=e.options.scope)==null?void 0:t.id}var xo,Sl,Ma,bo,Do,Py,p1,tL,vJ=(tL=class extends ah{constructor(r,n){super();at(this,Do);at(this,xo);at(this,Sl);at(this,Ma);at(this,bo);Re(this,xo,r),this.setOptions(n),this.bindMethods(),Ut(this,Do,Py).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=Y(this,xo).defaultMutationOptions(r),ux(this.options,n)||Y(this,xo).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Y(this,Ma),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Cu(n.mutationKey)!==Cu(this.options.mutationKey)?this.reset():((a=Y(this,Ma))==null?void 0:a.state.status)==="pending"&&Y(this,Ma).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=Y(this,Ma))==null||r.removeObserver(this)}onMutationUpdate(r){Ut(this,Do,Py).call(this),Ut(this,Do,p1).call(this,r)}getCurrentResult(){return Y(this,Sl)}reset(){var r;(r=Y(this,Ma))==null||r.removeObserver(this),Re(this,Ma,void 0),Ut(this,Do,Py).call(this),Ut(this,Do,p1).call(this)}mutate(r,n){var a;return Re(this,bo,n),(a=Y(this,Ma))==null||a.removeObserver(this),Re(this,Ma,Y(this,xo).getMutationCache().build(Y(this,xo),this.options)),Y(this,Ma).addObserver(this),Y(this,Ma).execute(r)}},xo=new WeakMap,Sl=new WeakMap,Ma=new WeakMap,bo=new WeakMap,Do=new WeakSet,Py=function(){var n;const r=((n=Y(this,Ma))==null?void 0:n.state)??nB();Re(this,Sl,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},p1=function(r){Fn.batch(()=>{var n,a,i,o,l,c,u,d;if(Y(this,bo)&&this.hasListeners()){const f=Y(this,Sl).variables,h=Y(this,Sl).context,p={client:Y(this,xo),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((a=(n=Y(this,bo)).onSuccess)==null||a.call(n,r.data,f,h,p),(o=(i=Y(this,bo)).onSettled)==null||o.call(i,r.data,null,f,h,p)):(r==null?void 0:r.type)==="error"&&((c=(l=Y(this,bo)).onError)==null||c.call(l,r.error,f,h,p),(d=(u=Y(this,bo)).onSettled)==null||d.call(u,void 0,r.error,f,h,p))}this.listeners.forEach(f=>{f(Y(this,Sl))})})},tL),Ls,rL,gJ=(rL=class extends ah{constructor(t={}){super();at(this,Ls);this.config=t,Re(this,Ls,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??GE(a,r);let o=this.get(i);return o||(o=new cJ({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){Y(this,Ls).has(t.queryHash)||(Y(this,Ls).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=Y(this,Ls).get(t.queryHash);r&&(t.destroy(),r===t&&Y(this,Ls).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Fn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Y(this,Ls).get(t)}getAll(){return[...Y(this,Ls).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>x2(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>x2(t,n)):r}notify(t){Fn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Fn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Fn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ls=new WeakMap,rL),vn,_l,Nl,tf,rf,Cl,nf,af,nL,yJ=(nL=class{constructor(e={}){at(this,vn);at(this,_l);at(this,Nl);at(this,tf);at(this,rf);at(this,Cl);at(this,nf);at(this,af);Re(this,vn,e.queryCache||new gJ),Re(this,_l,e.mutationCache||new mJ),Re(this,Nl,e.defaultOptions||{}),Re(this,tf,new Map),Re(this,rf,new Map),Re(this,Cl,0)}mount(){ig(this,Cl)._++,Y(this,Cl)===1&&(Re(this,nf,YE.subscribe(async e=>{e&&(await this.resumePausedMutations(),Y(this,vn).onFocus())})),Re(this,af,dx.subscribe(async e=>{e&&(await this.resumePausedMutations(),Y(this,vn).onOnline())})))}unmount(){var e,t;ig(this,Cl)._--,Y(this,Cl)===0&&((e=Y(this,nf))==null||e.call(this),Re(this,nf,void 0),(t=Y(this,af))==null||t.call(this),Re(this,af,void 0))}isFetching(e){return Y(this,vn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Y(this,_l).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Y(this,vn).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=Y(this,vn).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Bl(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return Y(this,vn).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=Y(this,vn).get(n.queryHash),i=a==null?void 0:a.state.data,o=ZQ(t,i);if(o!==void 0)return Y(this,vn).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Fn.batch(()=>Y(this,vn).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Y(this,vn).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=Y(this,vn);Fn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=Y(this,vn);return Fn.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Fn.batch(()=>Y(this,vn).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Sa).catch(Sa)}invalidateQueries(e,t={}){return Fn.batch(()=>(Y(this,vn).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Fn.batch(()=>Y(this,vn).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(Sa)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Sa)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=Y(this,vn).build(this,t);return r.isStaleByTime(Bl(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Sa).catch(Sa)}fetchInfiniteQuery(e){return e.behavior=C2(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Sa).catch(Sa)}ensureInfiniteQueryData(e){return e.behavior=C2(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return dx.isOnline()?Y(this,_l).resumePausedMutations():Promise.resolve()}getQueryCache(){return Y(this,vn)}getMutationCache(){return Y(this,_l)}getDefaultOptions(){return Y(this,Nl)}setDefaultOptions(e){Re(this,Nl,e)}setQueryDefaults(e,t){Y(this,tf).set(Cu(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Y(this,tf).values()],r={};return t.forEach(n=>{am(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){Y(this,rf).set(Cu(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Y(this,rf).values()],r={};return t.forEach(n=>{am(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Y(this,Nl).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=GE(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===KE&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Y(this,Nl).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Y(this,vn).clear(),Y(this,_l).clear()}},vn=new WeakMap,_l=new WeakMap,Nl=new WeakMap,tf=new WeakMap,rf=new WeakMap,Cl=new WeakMap,nf=new WeakMap,af=new WeakMap,nL),aB=g.createContext(void 0),Go=e=>{const t=g.useContext(aB);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},xJ=({client:e,children:t})=>(g.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(aB.Provider,{value:e,children:t})),iB=g.createContext(!1),bJ=()=>g.useContext(iB);iB.Provider;function wJ(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var jJ=g.createContext(wJ()),SJ=()=>g.useContext(jJ),_J=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},NJ=e=>{g.useEffect(()=>{e.clearReset()},[e])},CJ=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||Q3(r,[e.error,n])),EJ=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},PJ=(e,t)=>e.isLoading&&e.isFetching&&!t,OJ=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,P2=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function AJ(e,t,r){var f,h,p,y,m;const n=bJ(),a=SJ(),i=Go(),o=i.defaultQueryOptions(e);(h=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,o),o._optimisticResults=n?"isRestoring":"optimistic",EJ(o),_J(o,a),NJ(a);const l=!i.getQueryCache().get(o.queryHash),[c]=g.useState(()=>new t(i,o)),u=c.getOptimisticResult(o),d=!n&&e.subscribed!==!1;if(g.useSyncExternalStore(g.useCallback(v=>{const x=d?c.subscribe(Fn.batchCalls(v)):Sa;return c.updateResult(),x},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),g.useEffect(()=>{c.setOptions(o)},[o,c]),OJ(o,u))throw P2(o,c,a);if(CJ({result:u,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((y=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||y.call(p,o,u),o.experimental_prefetchInRender&&!Nu&&PJ(u,n)){const v=l?P2(o,c,a):(m=i.getQueryCache().get(o.queryHash))==null?void 0:m.promise;v==null||v.catch(Sa).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function Ko(e,t){return AJ(e,uJ)}function xn(e,t){const r=Go(),[n]=g.useState(()=>new vJ(r,e));g.useEffect(()=>{n.setOptions(e)},[n,e]);const a=g.useSyncExternalStore(g.useCallback(o=>n.subscribe(Fn.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=g.useCallback((o,l)=>{n.mutate(o,l).catch(Sa)},[n]);if(a.error&&Q3(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function im(){return im=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},im.apply(this,arguments)}var Ol;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ol||(Ol={}));const O2="popstate";function kJ(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return m1("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:fx(a)}return DJ(t,r,null,e)}function _n(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function sB(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function TJ(){return Math.random().toString(36).substr(2,8)}function A2(e,t){return{usr:e.state,key:e.key,idx:t}}function m1(e,t,r,n){return r===void 0&&(r=null),im({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ih(t):t,{state:r,key:t&&t.key||n||TJ()})}function fx(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ih(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function DJ(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=Ol.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(im({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=Ol.Pop;let v=d(),x=v==null?null:v-u;u=v,c&&c({action:l,location:m.location,delta:x})}function h(v,x){l=Ol.Push;let b=m1(m.location,v,x);u=d()+1;let w=A2(b,u),j=m.createHref(b);try{o.pushState(w,"",j)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(j)}i&&c&&c({action:l,location:m.location,delta:1})}function p(v,x){l=Ol.Replace;let b=m1(m.location,v,x);u=d();let w=A2(b,u),j=m.createHref(b);o.replaceState(w,"",j),i&&c&&c({action:l,location:m.location,delta:0})}function y(v){let x=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof v=="string"?v:fx(v);return b=b.replace(/ $/,"%20"),_n(x,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,x)}let m={get action(){return l},get location(){return e(a,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(O2,f),c=v,()=>{a.removeEventListener(O2,f),c=null}},createHref(v){return t(a,v)},createURL:y,encodeLocation(v){let x=y(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:p,go(v){return o.go(v)}};return m}var k2;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(k2||(k2={}));function IJ(e,t,r){return r===void 0&&(r="/"),RJ(e,t,r)}function RJ(e,t,r,n){let a=typeof t=="string"?ih(t):t,i=QE(a.pathname||"/",r);if(i==null)return null;let o=oB(e);$J(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=KJ(i);l=VJ(o[c],u)}return l}function oB(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(_n(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=ql([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(_n(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),oB(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:zJ(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of lB(i.path))a(i,o,c)}),t}function lB(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=lB(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function $J(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:WJ(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const MJ=/^:[\w-]+$/,LJ=3,FJ=2,BJ=1,qJ=10,UJ=-2,T2=e=>e==="*";function zJ(e,t){let r=e.split("/"),n=r.length;return r.some(T2)&&(n+=UJ),t&&(n+=FJ),r.filter(a=>!T2(a)).reduce((a,i)=>a+(MJ.test(i)?LJ:i===""?BJ:qJ),n)}function WJ(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function VJ(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=HJ({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:ql([i,f.pathname]),pathnameBase:JJ(ql([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=ql([i,f.pathnameBase]))}return o}function HJ(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=GJ(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let m=l[f]||"";o=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const y=l[f];return p&&!y?u[h]=void 0:u[h]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function GJ(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),sB(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function KJ(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return sB(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function QE(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function YJ(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?ih(e):e;return{pathname:r?r.startsWith("/")?r:XJ(r,t):t,search:ZJ(n),hash:eZ(a)}}function XJ(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Dj(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function QJ(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function JE(e,t){let r=QJ(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function ZE(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=ih(e):(a=im({},e),_n(!a.pathname||!a.pathname.includes("?"),Dj("?","pathname","search",a)),_n(!a.pathname||!a.pathname.includes("#"),Dj("#","pathname","hash",a)),_n(!a.search||!a.search.includes("#"),Dj("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=YJ(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const ql=e=>e.join("/").replace(/\/\/+/g,"/"),JJ=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ZJ=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,eZ=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function tZ(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const cB=["post","put","patch","delete"];new Set(cB);const rZ=["get",...cB];new Set(rZ);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sm(){return sm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sm.apply(this,arguments)}const eP=g.createContext(null),nZ=g.createContext(null),cc=g.createContext(null),d0=g.createContext(null),Yo=g.createContext({outlet:null,matches:[],isDataRoute:!1}),uB=g.createContext(null);function aZ(e,t){let{relative:r}=t===void 0?{}:t;sh()||_n(!1);let{basename:n,navigator:a}=g.useContext(cc),{hash:i,pathname:o,search:l}=fB(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:ql([n,o])),a.createHref({pathname:c,search:l,hash:i})}function sh(){return g.useContext(d0)!=null}function uc(){return sh()||_n(!1),g.useContext(d0).location}function dB(e){g.useContext(cc).static||g.useLayoutEffect(e)}function Xi(){let{isDataRoute:e}=g.useContext(Yo);return e?gZ():iZ()}function iZ(){sh()||_n(!1);let e=g.useContext(eP),{basename:t,future:r,navigator:n}=g.useContext(cc),{matches:a}=g.useContext(Yo),{pathname:i}=uc(),o=JSON.stringify(JE(a,r.v7_relativeSplatPath)),l=g.useRef(!1);return dB(()=>{l.current=!0}),g.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=ZE(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ql([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}function tP(){let{matches:e}=g.useContext(Yo),t=e[e.length-1];return t?t.params:{}}function fB(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=g.useContext(cc),{matches:a}=g.useContext(Yo),{pathname:i}=uc(),o=JSON.stringify(JE(a,n.v7_relativeSplatPath));return g.useMemo(()=>ZE(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function sZ(e,t){return oZ(e,t)}function oZ(e,t,r,n){sh()||_n(!1);let{navigator:a}=g.useContext(cc),{matches:i}=g.useContext(Yo),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=uc(),d;if(t){var f;let v=typeof t=="string"?ih(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||_n(!1),d=v}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let y=IJ(e,{pathname:p}),m=fZ(y&&y.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:ql([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:ql([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r,n);return t&&m?g.createElement(d0.Provider,{value:{location:sm({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ol.Pop}},m):m}function lZ(){let e=vZ(),t=tZ(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),r?g.createElement("pre",{style:a},r):null,null)}const cZ=g.createElement(lZ,null);class uZ extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?g.createElement(Yo.Provider,{value:this.props.routeContext},g.createElement(uB.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function dZ(e){let{routeContext:t,match:r,children:n}=e,a=g.useContext(eP);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),g.createElement(Yo.Provider,{value:t},n)}function fZ(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||_n(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,y=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||y){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let p,y=!1,m=null,v=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,m=f.route.errorElement||cZ,c&&(u<0&&h===0?(yZ("route-fallback"),y=!0,v=null):u===h&&(y=!0,v=f.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,h+1)),b=()=>{let w;return p?w=m:y?w=v:f.route.Component?w=g.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,g.createElement(dZ,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?g.createElement(uZ,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}var hB=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(hB||{}),pB=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(pB||{});function hZ(e){let t=g.useContext(eP);return t||_n(!1),t}function pZ(e){let t=g.useContext(nZ);return t||_n(!1),t}function mZ(e){let t=g.useContext(Yo);return t||_n(!1),t}function mB(e){let t=mZ(),r=t.matches[t.matches.length-1];return r.route.id||_n(!1),r.route.id}function vZ(){var e;let t=g.useContext(uB),r=pZ(),n=mB();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function gZ(){let{router:e}=hZ(hB.UseNavigateStable),t=mB(pB.UseNavigateStable),r=g.useRef(!1);return dB(()=>{r.current=!0}),g.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,sm({fromRouteId:t},i)))},[e,t])}const D2={};function yZ(e,t,r){D2[e]||(D2[e]=!0)}function xZ(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function vB(e){let{to:t,replace:r,state:n,relative:a}=e;sh()||_n(!1);let{future:i,static:o}=g.useContext(cc),{matches:l}=g.useContext(Yo),{pathname:c}=uc(),u=Xi(),d=ZE(t,JE(l,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return g.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function $r(e){_n(!1)}function bZ(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Ol.Pop,navigator:i,static:o=!1,future:l}=e;sh()&&_n(!1);let c=t.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:c,navigator:i,static:o,future:sm({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=ih(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:y="default"}=n,m=g.useMemo(()=>{let v=QE(d,c);return v==null?null:{location:{pathname:v,search:f,hash:h,state:p,key:y},navigationType:a}},[c,d,f,h,p,y,a]);return m==null?null:g.createElement(cc.Provider,{value:u},g.createElement(d0.Provider,{children:r,value:m}))}function wZ(e){let{children:t,location:r}=e;return sZ(v1(t),r)}new Promise(()=>{});function v1(e,t){t===void 0&&(t=[]);let r=[];return g.Children.forEach(e,(n,a)=>{if(!g.isValidElement(n))return;let i=[...t,a];if(n.type===g.Fragment){r.push.apply(r,v1(n.props.children,i));return}n.type!==$r&&_n(!1),!n.props.index||!n.props.children||_n(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=v1(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function g1(){return g1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g1.apply(this,arguments)}function jZ(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function SZ(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function _Z(e,t){return e.button===0&&(!t||t==="_self")&&!SZ(e)}const NZ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],CZ="6";try{window.__reactRouterVersion=CZ}catch{}const EZ="startTransition",I2=TC[EZ];function PZ(e){let{basename:t,children:r,future:n,window:a}=e,i=g.useRef();i.current==null&&(i.current=kJ({window:a,v5Compat:!0}));let o=i.current,[l,c]=g.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=g.useCallback(f=>{u&&I2?I2(()=>c(f)):c(f)},[c,u]);return g.useLayoutEffect(()=>o.listen(d),[o,d]),g.useEffect(()=>xZ(n),[n]),g.createElement(bZ,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const OZ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",AZ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kZ=g.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=jZ(t,NZ),{basename:p}=g.useContext(cc),y,m=!1;if(typeof u=="string"&&AZ.test(u)&&(y=u,OZ))try{let w=new URL(window.location.href),j=u.startsWith("//")?new URL(w.protocol+u):new URL(u),S=QE(j.pathname,p);j.origin===w.origin&&S!=null?u=S+j.search+j.hash:m=!0}catch{}let v=aZ(u,{relative:a}),x=TZ(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function b(w){n&&n(w),w.defaultPrevented||x(w)}return g.createElement("a",g1({},h,{href:y||v,onClick:m||i?n:b,ref:r,target:c}))});var R2;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(R2||(R2={}));var $2;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})($2||($2={}));function TZ(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=Xi(),u=uc(),d=fB(e,{relative:o});return g.useCallback(f=>{if(_Z(f,r)){f.preventDefault();let h=n!==void 0?n:fx(u)===fx(d);c(e,{replace:h,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,a,r,e,i,o,l])}const y1=hv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),B=g.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?OG:"button";return s.jsx(o,{className:Ee(y1({variant:t,size:r,className:e})),ref:i,...a})});B.displayName="Button";var DZ="Separator",M2="horizontal",IZ=["horizontal","vertical"],gB=g.forwardRef((e,t)=>{const{decorative:r,orientation:n=M2,...a}=e,i=RZ(n)?n:M2,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(Ze.div,{"data-orientation":i,...l,...a,ref:t})});gB.displayName=DZ;function RZ(e){return IZ.includes(e)}var yB=gB;const So=g.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>s.jsx(yB,{ref:a,decorative:r,orientation:t,className:Ee("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));So.displayName=yB.displayName;var x1=function(e,t){return x1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},x1(e,t)};function xB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");x1(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var $i=function(){return $i=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},$i.apply(this,arguments)};function dc(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function bB(e,t,r,n){var a=arguments.length,i=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i}function wB(e,t){return function(r,n){t(r,n,e)}}function jB(e,t,r,n,a,i){function o(x){if(x!==void 0&&typeof x!="function")throw new TypeError("Function expected");return x}for(var l=n.kind,c=l==="getter"?"get":l==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),f,h=!1,p=r.length-1;p>=0;p--){var y={};for(var m in n)y[m]=m==="access"?{}:n[m];for(var m in n.access)y.access[m]=n.access[m];y.addInitializer=function(x){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(x||null))};var v=(0,r[p])(l==="accessor"?{get:d.get,set:d.set}:d[c],y);if(l==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(f=o(v.get))&&(d.get=f),(f=o(v.set))&&(d.set=f),(f=o(v.init))&&a.unshift(f)}else(f=o(v))&&(l==="field"?a.unshift(f):d[c]=f)}u&&Object.defineProperty(u,n.name,d),h=!0}function SB(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function _B(e){return typeof e=="symbol"?e:"".concat(e)}function NB(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function CB(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Xe(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function EB(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var f0=Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function PB(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&f0(t,e,r)}function hx(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function rP(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){o={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function OB(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(rP(arguments[t]));return e}function AB(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var i=arguments[t],o=0,l=i.length;o<l;o++,a++)n[a]=i[o];return n}function nP(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function gf(e){return this instanceof gf?(this.v=e,this):new gf(e)}function kB(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,i=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),a[Symbol.asyncIterator]=function(){return this},a;function o(p){return function(y){return Promise.resolve(y).then(p,f)}}function l(p,y){n[p]&&(a[p]=function(m){return new Promise(function(v,x){i.push([p,m,v,x])>1||c(p,m)})},y&&(a[p]=y(a[p])))}function c(p,y){try{u(n[p](y))}catch(m){h(i[0][3],m)}}function u(p){p.value instanceof gf?Promise.resolve(p.value.v).then(d,f):h(i[0][2],p)}function d(p){c("next",p)}function f(p){c("throw",p)}function h(p,y){p(y),i.shift(),i.length&&c(i[0][0],i[0][1])}}function TB(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,i){t[a]=e[a]?function(o){return(r=!r)?{value:gf(e[a](o)),done:!1}:i?i(o):o}:i}}function DB(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof hx=="function"?hx(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(l,c){o=e[i](o),a(l,c,o.done,o.value)})}}function a(i,o,l,c){Promise.resolve(c).then(function(u){i({value:u,done:l})},o)}}function IB(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var $Z=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},b1=function(e){return b1=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},b1(e)};function RB(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=b1(e),n=0;n<r.length;n++)r[n]!=="default"&&f0(t,e,r[n]);return $Z(t,e),t}function $B(e){return e&&e.__esModule?e:{default:e}}function MB(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function LB(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function FB(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function BB(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var MZ=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function qB(e){function t(i){e.error=e.hasError?new MZ(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(a,function(o){return t(o),a()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function UB(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,i,o){return n?t?".jsx":".js":a&&(!i||!o)?r:a+i+"."+o.toLowerCase()+"js"}):e}const LZ={__extends:xB,__assign:$i,__rest:dc,__decorate:bB,__param:wB,__esDecorate:jB,__runInitializers:SB,__propKey:_B,__setFunctionName:NB,__metadata:CB,__awaiter:Xe,__generator:EB,__createBinding:f0,__exportStar:PB,__values:hx,__read:rP,__spread:OB,__spreadArrays:AB,__spreadArray:nP,__await:gf,__asyncGenerator:kB,__asyncDelegator:TB,__asyncValues:DB,__makeTemplateObject:IB,__importStar:RB,__importDefault:$B,__classPrivateFieldGet:MB,__classPrivateFieldSet:LB,__classPrivateFieldIn:FB,__addDisposableResource:BB,__disposeResources:qB,__rewriteRelativeImportExtension:UB},FZ=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:BB,get __assign(){return $i},__asyncDelegator:TB,__asyncGenerator:kB,__asyncValues:DB,__await:gf,__awaiter:Xe,__classPrivateFieldGet:MB,__classPrivateFieldIn:FB,__classPrivateFieldSet:LB,__createBinding:f0,__decorate:bB,__disposeResources:qB,__esDecorate:jB,__exportStar:PB,__extends:xB,__generator:EB,__importDefault:$B,__importStar:RB,__makeTemplateObject:IB,__metadata:CB,__param:wB,__propKey:_B,__read:rP,__rest:dc,__rewriteRelativeImportExtension:UB,__runInitializers:SB,__setFunctionName:NB,__spread:OB,__spreadArray:nP,__spreadArrays:AB,__values:hx,default:LZ},Symbol.toStringTag,{value:"Module"})),BZ="modulepreload",qZ=function(e){return"/"+e},L2={},oh=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=qZ(c),c in L2)return;L2[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":BZ,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},UZ=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>oh(async()=>{const{default:n}=await Promise.resolve().then(()=>Uu);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class aP extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class F2 extends aP{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class B2 extends aP{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class q2 extends aP{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var w1;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(w1||(w1={}));class zZ{constructor(t,{headers:r={},customFetch:n,region:a=w1.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=UZ(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Xe(this,arguments,void 0,function*(r,n={}){var a;try{const{headers:i,method:o,body:l,signal:c}=n;let u={},{region:d}=n;d||(d=this.region);const f=new URL(`${this.url}/${r}`);d&&d!=="any"&&(u["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let h;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=l):typeof l=="string"?(u["Content-Type"]="text/plain",h=l):typeof FormData<"u"&&l instanceof FormData?h=l:(u["Content-Type"]="application/json",h=JSON.stringify(l)):h=l;const p=yield this.fetch(f.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:h,signal:c}).catch(x=>{throw x.name==="AbortError"?x:new F2(x)}),y=p.headers.get("x-relay-error");if(y&&y==="true")throw new B2(p);if(!p.ok)throw new q2(p);let m=((a=p.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),v;return m==="application/json"?v=yield p.json():m==="application/octet-stream"||m==="application/pdf"?v=yield p.blob():m==="text/event-stream"?v=p:m==="multipart/form-data"?v=yield p.formData():v=yield p.text(),{data:v,error:null,response:p}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new F2(i)}:{data:null,error:i,response:i instanceof q2||i instanceof B2?i.context:void 0}}})}}var _a={};const lh=iL(FZ);var Og={},Ag={},kg={},Tg={},Dg={},WZ=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},yf=WZ();const VZ=yf.fetch,zB=yf.fetch.bind(yf),WB=yf.Headers,HZ=yf.Request,GZ=yf.Response,Uu=Object.freeze(Object.defineProperty({__proto__:null,Headers:WB,Request:HZ,Response:GZ,default:zB,fetch:VZ},Symbol.toStringTag,{value:"Module"})),KZ=iL(Uu);var Ig={},U2;function VB(){if(U2)return Ig;U2=1,Object.defineProperty(Ig,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Ig.default=e,Ig}var z2;function HB(){if(z2)return Dg;z2=1,Object.defineProperty(Dg,"__esModule",{value:!0});const e=lh,t=e.__importDefault(KZ),r=e.__importDefault(VB());class n{constructor(i){var o,l;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(l=i.isMaybeSingle)!==null&&l!==void 0?l:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,f,h,p;let y=null,m=null,v=null,x=u.status,b=u.statusText;if(u.ok){if(this.method!=="HEAD"){const _=await u.text();_===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?m=_:m=JSON.parse(_))}const j=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),S=(h=u.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");j&&S&&S.length>1&&(v=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(y={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,v=null,x=406,b="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{const j=await u.text();try{y=JSON.parse(j),Array.isArray(y)&&u.status===404&&(m=[],y=null,x=200,b="OK")}catch{u.status===404&&j===""?(x=204,b="No Content"):y={message:j}}if(y&&this.isMaybeSingle&&(!((p=y==null?void 0:y.details)===null||p===void 0)&&p.includes("0 rows"))&&(y=null,x=200,b="OK"),y&&this.shouldThrowOnError)throw new r.default(y)}return{error:y,data:m,count:v,status:x,statusText:b}});return this.shouldThrowOnError||(c=c.catch(u=>{var d,f,h;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(f=u==null?void 0:u.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(h=u==null?void 0:u.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),c.then(i,o)}returns(){return this}overrideTypes(){return this}}return Dg.default=n,Dg}var W2;function GB(){if(W2)return Tg;W2=1,Object.defineProperty(Tg,"__esModule",{value:!0});const t=lh.__importDefault(HB());class r extends t.default{select(a){let i=!1;const o=(a??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${a}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:o=i}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${a}`),this}range(a,i,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${a}`),this.url.searchParams.set(u,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const f=[a?"analyze":null,i?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return Tg.default=r,Tg}var V2;function iP(){if(V2)return kg;V2=1,Object.defineProperty(kg,"__esModule",{value:!0});const t=lh.__importDefault(GB()),r=new RegExp("[,()]");class n extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const l=Array.from(new Set(o)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:l,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${u}fts${d}.${o}`),this}match(i){return Object.entries(i).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(i,o,l){return this.url.searchParams.append(i,`not.${o}.${l}`),this}or(i,{foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,o,l){return this.url.searchParams.append(i,`${o}.${l}`),this}}return kg.default=n,kg}var H2;function KB(){if(H2)return Ag;H2=1,Object.defineProperty(Ag,"__esModule",{value:!0});const t=lh.__importDefault(iP());class r{constructor(a,{headers:i={},schema:o,fetch:l}){this.url=a,this.headers=new Headers(i),this.schema=o,this.fetch=l}select(a,i){const{head:o=!1,count:l}=i??{},c=o?"HEAD":"GET";let u=!1;const d=(a??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:o=!0}={}){var l;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const u=a.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(f.length>0){const h=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(a,{count:i}={}){var o;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:a}={}){var i;const o="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Ag.default=r,Ag}var G2;function YZ(){if(G2)return Og;G2=1,Object.defineProperty(Og,"__esModule",{value:!0});const e=lh,t=e.__importDefault(KB()),r=e.__importDefault(iP());class n{constructor(i,{headers:o={},schema:l,fetch:c}={}){this.url=i,this.headers=new Headers(o),this.schemaName=l,this.fetch=c}from(i){const o=new URL(`${this.url}/${i}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:l=!1,get:c=!1,count:u}={}){var d;let f;const h=new URL(`${this.url}/rpc/${i}`);let p;l||c?(f=l?"HEAD":"GET",Object.entries(o).filter(([m,v])=>v!==void 0).map(([m,v])=>[m,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([m,v])=>{h.searchParams.append(m,v)})):(f="POST",p=o);const y=new Headers(this.headers);return u&&y.set("Prefer",`count=${u}`),new r.default({method:f,url:h,headers:y,schema:this.schemaName,body:p,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Og.default=n,Og}Object.defineProperty(_a,"__esModule",{value:!0});var YB=_a.PostgrestError=i5=_a.PostgrestBuilder=n5=_a.PostgrestTransformBuilder=t5=_a.PostgrestFilterBuilder=ZB=_a.PostgrestQueryBuilder=QB=_a.PostgrestClient=void 0;const ch=lh,XB=ch.__importDefault(YZ());var QB=_a.PostgrestClient=XB.default;const JB=ch.__importDefault(KB());var ZB=_a.PostgrestQueryBuilder=JB.default;const e5=ch.__importDefault(iP());var t5=_a.PostgrestFilterBuilder=e5.default;const r5=ch.__importDefault(GB());var n5=_a.PostgrestTransformBuilder=r5.default;const a5=ch.__importDefault(HB());var i5=_a.PostgrestBuilder=a5.default;const s5=ch.__importDefault(VB());YB=_a.PostgrestError=s5.default;var o5=_a.default={PostgrestClient:XB.default,PostgrestQueryBuilder:JB.default,PostgrestFilterBuilder:e5.default,PostgrestTransformBuilder:r5.default,PostgrestBuilder:a5.default,PostgrestError:s5.default};const XZ=aL({__proto__:null,get PostgrestBuilder(){return i5},get PostgrestClient(){return QB},get PostgrestError(){return YB},get PostgrestFilterBuilder(){return t5},get PostgrestQueryBuilder(){return ZB},get PostgrestTransformBuilder(){return n5},default:o5},[_a]),{PostgrestClient:QZ,PostgrestQueryBuilder:H3e,PostgrestFilterBuilder:G3e,PostgrestTransformBuilder:K3e,PostgrestBuilder:Y3e,PostgrestError:X3e}=o5||XZ;class JZ{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const ZZ="2.77.0",eee=`realtime-js/${ZZ}`,tee="1.0.0",j1=1e4,ree=1e3,nee=100;var Sp;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Sp||(Sp={}));var Mn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Mn||(Mn={}));var fs;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(fs||(fs={}));var S1;(function(e){e.websocket="websocket"})(S1||(S1={}));var qc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(qc||(qc={}));class aee{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+a));o=o+a;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class l5{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Vr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Vr||(Vr={}));const K2=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=iee(o,e,t,a),i),{}):{}},iee=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?c5(i,o):_1(o)},c5=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return cee(t,r)}switch(e){case Vr.bool:return see(t);case Vr.float4:case Vr.float8:case Vr.int2:case Vr.int4:case Vr.int8:case Vr.numeric:case Vr.oid:return oee(t);case Vr.json:case Vr.jsonb:return lee(t);case Vr.timestamp:return uee(t);case Vr.abstime:case Vr.date:case Vr.daterange:case Vr.int4range:case Vr.int8range:case Vr.money:case Vr.reltime:case Vr.text:case Vr.time:case Vr.timestamptz:case Vr.timetz:case Vr.tsrange:case Vr.tstzrange:return _1(t);default:return _1(t)}},_1=e=>e,see=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},oee=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},lee=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},cee=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>c5(t,l))}return e},uee=e=>typeof e=="string"?e.replace(" ","T"):e,u5=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Ij{constructor(t,r,n={},a=j1){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Y2;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Y2||(Y2={}));class _p{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=_p.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=_p.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=_p.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(v=>v.presence_ref),p=f.map(v=>v.presence_ref),y=d.filter(v=>p.indexOf(v.presence_ref)<0),m=f.filter(v=>h.indexOf(v.presence_ref)<0);y.length>0&&(l[u]=y),m.length>0&&(c[u]=m)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var X2;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(X2||(X2={}));var Np;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Np||(Np={}));var po;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(po||(po={}));class sP{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Mn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ij(this,fs.join,this.params,this.timeout),this.rejoinTimer=new l5(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Mn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Mn.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Mn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Mn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Mn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(fs.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new _p(this),this.broadcastEndpointURL=u5(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Mn.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[Np.PRESENCE]&&this.bindings[Np.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(po.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(po.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var y;if(this.socket.setAuth(),p===void 0){t==null||t(po.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,v=(y=m==null?void 0:m.length)!==null&&y!==void 0?y:0,x=[];for(let b=0;b<v;b++){const w=m[b],{filter:{event:j,schema:S,table:_,filter:N}}=w,C=p&&p[b];if(C&&C.event===j&&C.schema===S&&C.table===_&&C.filter===N)x.push(Object.assign(Object.assign({},w),{id:C.id}));else{this.unsubscribe(),this.state=Mn.errored,t==null||t(po.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(po.SUBSCRIBED);return}}).receive("error",p=>{this.state=Mn.errored,t==null||t(po.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(po.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Mn.joined&&t===Np.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Mn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(fs.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Ij(this,fs.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Mn.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Ij(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>nee){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=fs;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var y,m,v;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((v=(m=p.filter)===null||m===void 0?void 0:m.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var y,m,v,x,b,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const j=p.id,S=(y=p.filter)===null||y===void 0?void 0:y.event;return j&&((m=r.ids)===null||m===void 0?void 0:m.includes(j))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const j=(b=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return j==="*"||j===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:m,table:v,commit_timestamp:x,type:b,errors:w}=y;h=Object.assign(Object.assign({},{schema:m,table:v,commit_timestamp:x,eventType:b,new:{},old:{},errors:w}),this._getPayloadRecords(y))}p.callback(h,n)})}_isClosed(){return this.state===Mn.closed}_isJoined(){return this.state===Mn.joined}_isJoining(){return this.state===Mn.joining}_isLeaving(){return this.state===Mn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&sP.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(fs.close,{},t)}_onError(t){this._on(fs.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Mn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=K2(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=K2(t.columns,t.old_record)),r}}const Rj=()=>{},Rg={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},dee=[1e3,2e3,5e3,1e4],fee=1e4,hee=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class pee{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=j1,this.transport=null,this.heartbeatIntervalMs=Rg.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Rj,this.ref=0,this.reconnectTimer=null,this.logger=Rj,this.conn=null,this.sendBuffer=[],this.serializer=new aee,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>oh(async()=>{const{default:l}=await Promise.resolve().then(()=>Uu);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${S1.websocket}`,this.httpEndpoint=u5(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=JZ.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:tee}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Sp.connecting:return qc.Connecting;case Sp.open:return qc.Open;case Sp.closing:return qc.Closing;default:return qc.Closed}}isConnected(){return this.connectionState()===qc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new sP(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(ree,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Rg.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(fs.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([hee],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:eee};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(fs.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new l5(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Rg.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,l,c,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:j1,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:Rg.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Rj,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>dee[f-1]||fee,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,h)=>h(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class oP extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function un(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class mee extends oP{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class N1 extends oP{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const lP=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>oh(async()=>{const{default:n}=await Promise.resolve().then(()=>Uu);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},vee=()=>Xe(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield oh(()=>Promise.resolve().then(()=>Uu),void 0)).Response:Response}),C1=e=>{if(Array.isArray(e))return e.map(r=>C1(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=C1(n)}),t},gee=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},$j=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),yee=(e,t,r)=>Xe(void 0,void 0,void 0,function*(){const n=yield vee();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,o=(a==null?void 0:a.statusCode)||i+"";t(new mee($j(a),i,o))}).catch(a=>{t(new N1($j(a),a))}):t(new N1($j(e),e))}),xee=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(gee(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function vv(e,t,r,n,a,i){return Xe(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,xee(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>yee(c,l,n))})})}function om(e,t,r,n){return Xe(this,void 0,void 0,function*(){return vv(e,"GET",t,r,n)})}function ls(e,t,r,n,a){return Xe(this,void 0,void 0,function*(){return vv(e,"POST",t,n,a,r)})}function E1(e,t,r,n,a){return Xe(this,void 0,void 0,function*(){return vv(e,"PUT",t,n,a,r)})}function bee(e,t,r,n){return Xe(this,void 0,void 0,function*(){return vv(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function cP(e,t,r,n,a){return Xe(this,void 0,void 0,function*(){return vv(e,"DELETE",t,n,a,r)})}class wee{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return Xe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(un(t))return{data:null,error:t};throw t}})}}var d5;class jee{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[d5]="BlobDownloadBuilder",this.promise=null}asStream(){return new wee(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Xe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(un(t))return{data:null,error:t};throw t}})}}d5=Symbol.toStringTag;const See={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Q2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class _ee{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=lP(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return Xe(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Q2),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?E1:ls)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(un(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return Xe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Q2.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield E1(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(un(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Xe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield ls(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new oP("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(un(n))return{data:null,error:n};throw n}})}update(t,r,n){return Xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Xe(this,void 0,void 0,function*(){try{return{data:yield ls(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(un(a))return{data:null,error:a};throw a}})}copy(t,r,n){return Xe(this,void 0,void 0,function*(){try{return{data:{path:(yield ls(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(un(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return Xe(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield ls(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(un(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return Xe(this,void 0,void 0,function*(){try{const a=yield ls(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(un(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",l=this._getFinalPath(t),c=()=>om(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new jee(c,this.shouldThrowOnError)}info(t){return Xe(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield om(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:C1(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(un(n))return{data:null,error:n};throw n}})}exists(t){return Xe(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield bee(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(un(n)&&n instanceof N1){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Xe(this,void 0,void 0,function*(){try{return{data:yield cP(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(un(r))return{data:null,error:r};throw r}})}list(t,r,n){return Xe(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},See),r),{prefix:t||""});return{data:yield ls(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(un(a))return{data:null,error:a};throw a}})}listV2(t,r){return Xe(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield ls(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(un(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const f5="2.77.0",h5={"X-Client-Info":`storage-js/${f5}`};class Nee{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},h5),r),this.fetch=lP(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Xe(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield om(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(un(r))return{data:null,error:r};throw r}})}getBucket(t){return Xe(this,void 0,void 0,function*(){try{return{data:yield om(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(un(r))return{data:null,error:r};throw r}})}createBucket(t){return Xe(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield ls(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(un(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return Xe(this,void 0,void 0,function*(){try{return{data:yield E1(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(un(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Xe(this,void 0,void 0,function*(){try{return{data:yield ls(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(un(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Xe(this,void 0,void 0,function*(){try{return{data:yield cP(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(un(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class Cee{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},h5),r),this.fetch=lP(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Xe(this,void 0,void 0,function*(){try{return{data:yield ls(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(un(r))return{data:null,error:r};throw r}})}listBuckets(t){return Xe(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield om(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(un(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Xe(this,void 0,void 0,function*(){try{return{data:yield cP(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(un(r))return{data:null,error:r};throw r}})}}const uP={"X-Client-Info":`storage-js/${f5}`,"Content-Type":"application/json"};class p5 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ui(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Mj extends p5{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Eee extends p5{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var J2;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(J2||(J2={}));const dP=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>oh(async()=>{const{default:n}=await Promise.resolve().then(()=>Uu);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Pee=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Z2=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Oee=(e,t,r)=>Xe(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||a+"";t(new Mj(Z2(o),a,l))}).catch(()=>{const o=a+"",l=i.statusText||`HTTP ${a} error`;t(new Mj(l,a,o))});else{const o=a+"",l=i.statusText||`HTTP ${a} error`;t(new Mj(l,a,o))}}else t(new Eee(Z2(e),e))}),Aee=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(Pee(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function kee(e,t,r,n,a,i){return Xe(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,Aee(t,n,a,i)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>Oee(c,l,n))})})}function di(e,t,r,n,a){return Xe(this,void 0,void 0,function*(){return kee(e,"POST",t,n,a,r)})}class Tee{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},uP),r),this.fetch=dP(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Xe(this,void 0,void 0,function*(){try{return{data:(yield di(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ui(r))return{data:null,error:r};throw r}})}getIndex(t,r){return Xe(this,void 0,void 0,function*(){try{return{data:yield di(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ui(n))return{data:null,error:n};throw n}})}listIndexes(t){return Xe(this,void 0,void 0,function*(){try{return{data:yield di(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ui(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return Xe(this,void 0,void 0,function*(){try{return{data:(yield di(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ui(n))return{data:null,error:n};throw n}})}}class Dee{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},uP),r),this.fetch=dP(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Xe(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield di(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ui(r))return{data:null,error:r};throw r}})}getVectors(t){return Xe(this,void 0,void 0,function*(){try{return{data:yield di(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ui(r))return{data:null,error:r};throw r}})}listVectors(t){return Xe(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield di(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ui(r))return{data:null,error:r};throw r}})}queryVectors(t){return Xe(this,void 0,void 0,function*(){try{return{data:yield di(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ui(r))return{data:null,error:r};throw r}})}deleteVectors(t){return Xe(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield di(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ui(r))return{data:null,error:r};throw r}})}}class Iee{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},uP),r),this.fetch=dP(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Xe(this,void 0,void 0,function*(){try{return{data:(yield di(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ui(r))return{data:null,error:r};throw r}})}getBucket(t){return Xe(this,void 0,void 0,function*(){try{return{data:yield di(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ui(r))return{data:null,error:r};throw r}})}listBuckets(){return Xe(this,arguments,void 0,function*(t={}){try{return{data:yield di(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ui(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Xe(this,void 0,void 0,function*(){try{return{data:(yield di(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ui(r))return{data:null,error:r};throw r}})}}class Ree extends Iee{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new $ee(this.url,this.headers,t,this.fetch)}}class $ee extends Tee{constructor(t,r,n,a){super(t,r,a),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Xe(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Xe(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Xe(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Xe(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new Mee(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class Mee extends Dee{constructor(t,r,n,a,i){super(t,r,i),this.vectorBucketName=n,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Xe(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Xe(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Xe(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Xe(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Xe(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Lee extends Nee{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new _ee(this.url,this.headers,t,this.fetch)}get vectors(){return new Ree(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Cee(this.url+"/iceberg",this.headers,this.fetch)}}const Fee="2.77.0";let cp="";typeof Deno<"u"?cp="deno":typeof document<"u"?cp="web":typeof navigator<"u"&&navigator.product==="ReactNative"?cp="react-native":cp="node";const Bee={"X-Client-Info":`supabase-js-${cp}/${Fee}`},qee={headers:Bee},Uee={schema:"public"},zee={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Wee={},Vee=e=>{let t;return e?t=e:typeof fetch>"u"?t=zB:t=fetch,(...r)=>t(...r)},Hee=()=>typeof Headers>"u"?WB:Headers,Gee=(e,t,r)=>{const n=Vee(r),a=Hee();return async(i,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))}};function Kee(e){return e.endsWith("/")?e:e+"/"}function Yee(e,t){var r,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function Xee(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Kee(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const m5="2.77.0",fd=30*1e3,P1=3,Lj=P1*fd,Qee="http://localhost:9999",Jee="supabase.auth.token",Zee={"X-Client-Info":`gotrue-js/${m5}`},O1="X-Supabase-Api-Version",v5={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ete=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,tte=10*60*1e3;class lm extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function dt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class rte extends lm{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function nte(e){return dt(e)&&e.name==="AuthApiError"}class Uc extends lm{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class fc extends lm{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class cl extends fc{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ate(e){return dt(e)&&e.name==="AuthSessionMissingError"}class Xu extends fc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class $g extends fc{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Mg extends fc{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ite(e){return dt(e)&&e.name==="AuthImplicitGrantRedirectError"}class eT extends fc{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class A1 extends fc{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Fj(e){return dt(e)&&e.name==="AuthRetryableFetchError"}class tT extends fc{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class k1 extends fc{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const px="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),rT=` 	
\r=`.split(""),ste=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<rT.length;t+=1)e[rT[t].charCodeAt(0)]=-2;for(let t=0;t<px.length;t+=1)e[px[t].charCodeAt(0)]=t;return e})();function nT(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(px[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(px[n]),t.queuedBits-=6}}function g5(e,t,r){const n=ste[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function aT(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{cte(o,n,r)};for(let o=0;o<e.length;o+=1)g5(e.charCodeAt(o),a,i);return t.join("")}function ote(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function lte(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}ote(n,t)}}function cte(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function qd(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)g5(e.charCodeAt(a),r,n);return new Uint8Array(t)}function ute(e){const t=[];return lte(e,r=>t.push(r)),new Uint8Array(t)}function Kc(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>nT(a,r,n)),nT(null,r,n),t.join("")}function dte(e){return Math.round(Date.now()/1e3)+e}function fte(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ai=()=>typeof window<"u"&&typeof document<"u",_c={tested:!1,writable:!1},y5=()=>{if(!ai())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(_c.tested)return _c.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),_c.tested=!0,_c.writable=!0}catch{_c.tested=!0,_c.writable=!1}return _c.writable};function hte(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const x5=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>oh(async()=>{const{default:n}=await Promise.resolve().then(()=>Uu);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},pte=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",hd=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Nc=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},il=async(e,t)=>{await e.removeItem(t)};class h0{constructor(){this.promise=new h0.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}h0.promiseConstructor=Promise;function Bj(e){const t=e.split(".");if(t.length!==3)throw new k1("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!ete.test(t[n]))throw new k1("JWT not in base64url format");return{header:JSON.parse(aT(t[0])),payload:JSON.parse(aT(t[1])),signature:qd(t[2]),raw:{header:t[0],payload:t[1]}}}async function mte(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function vte(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function gte(e){return("0"+e.toString(16)).substr(-2)}function yte(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,gte).join("")}async function xte(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function bte(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await xte(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Qu(e,t,r=!1){const n=yte();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await hd(e,`${t}-code-verifier`,a);const i=await bte(n);return[i,n===i?"plain":"s256"]}const wte=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function jte(e){const t=e.headers.get(O1);if(!t||!t.match(wte))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Ste(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function _te(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Nte=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ju(e){if(!Nte.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function qj(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function iT(e){return JSON.parse(JSON.stringify(e))}const Rc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Cte=[502,503,504];async function sT(e){var t;if(!pte(e))throw new A1(Rc(e),0);if(Cte.includes(e.status))throw new A1(Rc(e),e.status);let r;try{r=await e.json()}catch(i){throw new Uc(Rc(i),i)}let n;const a=jte(e);if(a&&a.getTime()>=v5["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new tT(Rc(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new cl}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new tT(Rc(r),e.status,r.weak_password.reasons);throw new rte(Rc(r),e.status||500,n)}const Ete=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function kt(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[O1]||(i[O1]=v5["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Pte(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Pte(e,t,r,n,a,i){const o=Ete(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new A1(Rc(c),0)}if(l.ok||await sT(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await sT(c)}}function is(e){var t;let r=null;kte(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=dte(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function oT(e){const t=is(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function vl(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Ote(e){return{data:e,error:null}}function Ate(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=dc(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function lT(e){return e}function kte(e){return e.access_token&&e.refresh_token&&e.expires_in}const Uj=["global","local","others"];class Tte{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=x5(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Uj[0]){if(Uj.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Uj.join(", ")}`);try{return await kt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await kt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:vl})}catch(n){if(dt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=dc(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await kt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Ate,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(dt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await kt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:vl})}catch(r){if(dt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await kt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:lT});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(y=>{const m=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);u[`${v}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(dt(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Ju(t);try{return await kt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:vl})}catch(r){if(dt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ju(t);try{return await kt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:vl})}catch(n){if(dt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Ju(t);try{return await kt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:vl})}catch(n){if(dt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ju(t.userId);try{const{data:r,error:n}=await kt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ju(t.userId),Ju(t.id);try{return{data:await kt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await kt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:lT});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(y=>{const m=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);u[`${v}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(dt(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await kt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await kt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await kt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await kt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(dt(r))return{data:null,error:r};throw r}}}function cT(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Zu={debug:!!(globalThis&&y5()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class b5 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Dte extends b5{}async function Ite(e,t,r){Zu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Zu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Zu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Zu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Zu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Dte(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Zu.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Rte(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function w5(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function $te(e){return parseInt(e,16)}function Mte(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function Lte(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=w5(e.address),y=d?`${d}://${n}`:n,m=e.statement?`${e.statement}
`:"",v=`${y} wants you to sign in with your Ethereum account:
${p}

${m}`;let x=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(x+=`
Expiration Time: ${a.toISOString()}`),l&&(x+=`
Not Before: ${l.toISOString()}`),c&&(x+=`
Request ID: ${c}`),u){let b=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);b+=`
- ${w}`}x+=b}return`${v}
${x}`}class Pn extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class mx extends Pn{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function Fte({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Pn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Pn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Pn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Pn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Pn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Pn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Pn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Pn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(j5(o)){if(i.rp.id!==o)return new Pn({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Pn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Pn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Pn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Pn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Bte({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Pn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Pn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(j5(n)){if(r.rpId!==n)return new Pn({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Pn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Pn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Pn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class qte{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Ute=new qte;function zte(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=dc(e,["challenge","user","excludeCredentials"]),i=qd(t).buffer,o=Object.assign(Object.assign({},r),{id:qd(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:qd(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function Wte(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=dc(e,["challenge","allowCredentials"]),a=qd(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:qd(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function Vte(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Kc(new Uint8Array(e.response.attestationObject)),clientDataJSON:Kc(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Hte(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Kc(new Uint8Array(a.authenticatorData)),clientDataJSON:Kc(new Uint8Array(a.clientDataJSON)),signature:Kc(new Uint8Array(a.signature)),userHandle:a.userHandle?Kc(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function j5(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function uT(){var e,t;return!!(ai()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Gte(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new mx("Browser returned unexpected credential type",t)}:{data:null,error:new mx("Empty credential response",t)}}catch(t){return{data:null,error:Fte({error:t,options:e})}}}async function Kte(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new mx("Browser returned unexpected credential type",t)}:{data:null,error:new mx("Empty credential response",t)}}catch(t){return{data:null,error:Bte({error:t,options:e})}}}const Yte={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Xte={userVerification:"preferred",hints:["security-key"]};function vx(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=vx(l,o):n[i]=vx(o)}else n[i]=o}return n}function Qte(e,t){return vx(Yte,e,t||{})}function Jte(e,t){return vx(Xte,e,t||{})}class Zte{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const c=a??Ute.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=Qte(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await Gte({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=Jte(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await Kte(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return dt(o)?{data:null,error:o}:{data:null,error:new Uc("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}},i){if(!r)return{data:null,error:new lm("rpId is required for WebAuthn authentication")};try{if(!uT())return{data:null,error:new Uc("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return dt(o)?{data:null,error:o}:{data:null,error:new Uc("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a},i){if(!r)return{data:null,error:new lm("rpId is required for WebAuthn registration")};try{if(!uT())return{data:null,error:new Uc("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return dt(o)?{data:null,error:o}:{data:null,error:new Uc("Unexpected error in register",o)}}}}Rte();const ere={url:Qee,storageKey:Jee,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Zee,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function dT(e,t,r){return await r()}const ed={};class cm{get jwks(){var t,r;return(r=(t=ed[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){ed[this.storageKey]=Object.assign(Object.assign({},ed[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=ed[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ed[this.storageKey]=Object.assign(Object.assign({},ed[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=cm.nextInstanceID,cm.nextInstanceID+=1,this.instanceID>0&&ai()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},ere),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Tte({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=x5(a.fetch),this.lock=a.lock||dT,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:ai()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Ite:this.lock=dT,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Zte(this)},this.persistSession?(a.storage?this.storage=a.storage:y5()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=cT(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=cT(this.memoryStorage)),ai()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${m5}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=hte(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),ai()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),ite(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return dt(r)?{error:r}:{error:new Uc("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await kt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:is}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(dt(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await Qu(this.storage,this.storageKey)),i=await kt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:y},xform:is})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await kt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:is})}else throw new $g("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(dt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await kt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:oT})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await kt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:oT})}else throw new $g("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Xu}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(dt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,o,l,c,u,d,f,h;let p,y;if("message"in t)p=t.message,y=t.signature;else{const{chain:m,wallet:v,statement:x,options:b}=t;let w;if(ai())if(typeof v=="object")w=v;else{const E=window;if("ethereum"in E&&typeof E.ethereum=="object"&&"request"in E.ethereum&&typeof E.ethereum.request=="function")w=E.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=v}const j=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href),S=await w.request({method:"eth_requestAccounts"}).then(E=>E).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const _=w5(S[0]);let N=(n=b==null?void 0:b.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!N){const E=await w.request({method:"eth_chainId"});N=$te(E)}const C={domain:j.host,address:_,statement:x,uri:j.href,version:"1",chainId:N,nonce:(a=b==null?void 0:b.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=b==null?void 0:b.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=b==null?void 0:b.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=b==null?void 0:b.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=b==null?void 0:b.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=b==null?void 0:b.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=Lte(C),y=await w.request({method:"personal_sign",params:[Mte(p),_]})}try{const{data:m,error:v}=await kt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:y},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:is});if(v)throw v;return!m||!m.session||!m.user?{data:{user:null,session:null},error:new Xu}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:Object.assign({},m),error:v})}catch(m){if(dt(m))return{data:{user:null,session:null},error:m};throw m}}async signInWithSolana(t){var r,n,a,i,o,l,c,u,d,f,h,p;let y,m;if("message"in t)y=t.message,m=t.signature;else{const{chain:v,wallet:x,statement:b,options:w}=t;let j;if(ai())if(typeof x=="object")j=x;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))j=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=x}const S=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const _=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),b?{statement:b}:null));let N;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")N=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)N=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)y=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),m=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${S.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(a=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const _=await j.signMessage(new TextEncoder().encode(y),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=_}}try{const{data:v,error:x}=await kt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Kc(m)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:is});if(x)throw x;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new Xu}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:x})}catch(v){if(dt(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(t){const r=await Nc(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await kt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:is});if(await il(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Xu}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(dt(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await kt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:is}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Xu}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(dt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Qu(this.storage,this.storageKey));const{error:f}=await kt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await kt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new $g("You must provide either an email or phone number.")}catch(l){if(dt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await kt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:is});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(dt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Qu(this.storage,this.storageKey)),await kt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Ote})}catch(i){if(dt(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new cl;const{error:a}=await kt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(dt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await kt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await kt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new $g("You must provide either an email or phone number and a type")}catch(r){if(dt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Nc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Lj:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Nc(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=qj()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await kt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:vl}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new cl}:await kt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:vl})})}catch(r){if(dt(r))return ate(r)&&(await this._removeSession(),await il(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new cl;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Qu(this.storage,this.storageKey));const{data:u,error:d}=await kt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:vl});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(dt(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new cl;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=Bj(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(dt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new cl;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(dt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!ai())throw new Mg("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Mg(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new eT("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Mg("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new eT("No code detected.");const{data:b,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new Mg("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=fd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const y=h-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,d);const{data:m,error:v}=await this._getUser(i);if(v)throw v;const x={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(n){if(dt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Nc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(nte(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await il(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=fte(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Qu(this.storage,this.storageKey,!0));try{return await kt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(dt(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await kt(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return ai()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(dt(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,f=await kt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:is}),{data:h,error:p}=f;return p?{data:{user:null,session:null},error:p}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new Xu}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:p})}catch(a){if(dt(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await kt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await vte(async a=>(a>0&&await mte(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await kt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:is})),(a,i)=>{const o=200*Math.pow(2,a);return i&&Fj(i)&&Date.now()+o-n<fd})}catch(n){if(this._debug(r,"error",n),dt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),ai()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Nc(this.storage,this.storageKey);if(a&&this.userStorage){let o=await Nc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await hd(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:qj()}else if(a&&!a.user&&!a.user){const o=await Nc(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await il(this.storage,this.storageKey+"-user"),await hd(this.storage,this.storageKey,a)):a.user=qj()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Lj;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Lj}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),Fj(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new cl;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new h0;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new cl;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),dt(i)){const o={data:null,error:i};return Fj(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await hd(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=iT(a);await hd(this.storage,this.storageKey,i)}else{const a=iT(r);await hd(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await il(this.storage,this.storageKey),await il(this.storage,this.storageKey+"-code-verifier"),await il(this.storage,this.storageKey+"-user"),this.userStorage&&await il(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ai()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),fd);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/fd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${fd}ms, refresh threshold is ${P1} ticks`),a<=P1&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof b5)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ai()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Qu(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await kt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await kt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&c.type==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Vte(t.webauthn.credential_response):Hte(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await kt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(r){if(dt(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=await kt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:zte(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Wte(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(dt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Bj(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+tte>a)return n;const{data:i,error:o}=await kt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:y}=await this.getSession();if(y||!p.session)return{data:null,error:y};n=p.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=Bj(n);r!=null&&r.allowExpired||Ste(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:a,signature:o},error:null}}const d=_te(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,ute(`${l}.${c}`)))throw new k1("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}}}cm.nextInstanceID=0;const tre=cm;class rre extends tre{constructor(t){super(t)}}class nre{constructor(t,r,n){var a,i,o;this.supabaseUrl=t,this.supabaseKey=r;const l=Xee(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:Uee,realtime:Wee,auth:Object.assign(Object.assign({},zee),{storageKey:c}),global:qee},d=Yee(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Gee(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new QZ(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Lee(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new zZ(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:o,flowType:l,lock:c,debug:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new rre({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:l,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new pee(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const are=(e,t,r)=>new nre(e,t,r);function ire(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}ire()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const sre="https://sfvwxvpnjtwxcbkwqtaj.supabase.co",ore="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNmdnd4dnBuanR3eGNia3dxdGFqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE3MDAzMDQsImV4cCI6MjA3NzI3NjMwNH0.JiXA0Tms5IV8qNxpIpb2f00wGRn9c6ATWCOXZWtmX78",ke=are(sre,ore,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),sl=ke,S5=g.createContext(void 0);function lre({children:e}){const[t,r]=g.useState(null),[n,a]=g.useState(null),[i,o]=g.useState(!0),[l,c]=g.useState(null),[u,d]=g.useState(!1),f=Xi(),{toast:h}=dr();g.useEffect(()=>{const{data:{subscription:x}}=sl.auth.onAuthStateChange((b,w)=>{a(w),r((w==null?void 0:w.user)??null),w!=null&&w.user?setTimeout(()=>{p(w.user.id)},0):(c(null),d(!1))});return sl.auth.getSession().then(({data:{session:b}})=>{a(b),r((b==null?void 0:b.user)??null),o(!1),b!=null&&b.user&&p(b.user.id)}),()=>x.unsubscribe()},[]);const p=async x=>{try{const{data:b}=await sl.from("profiles").select("*").eq("id",x).single();c(b);const{data:w}=await sl.from("user_roles").select("role").eq("user_id",x);d((w==null?void 0:w.some(j=>j.role==="admin"))??!1)}catch(b){console.error("Error loading profile:",b),h({variant:"destructive",title:"Erro ao carregar perfil",description:b.message})}},y=async(x,b,w=!1)=>{w&&await sl.auth.setSession({access_token:"",refresh_token:""});const{error:j}=await sl.auth.signInWithPassword({email:x,password:b,options:{}});if(!j&&w){localStorage.setItem("rememberMe","true");const S=new Date;S.setFullYear(S.getFullYear()+1),localStorage.setItem("sessionExpiry",S.toISOString())}else j||(localStorage.removeItem("rememberMe"),localStorage.removeItem("sessionExpiry"));return j||f("/"),{error:j}},m=async(x,b,w)=>{const{error:j}=await sl.auth.signUp({email:x,password:b,options:{data:{full_name:w},emailRedirectTo:`${window.location.origin}/`}});return{error:j}},v=async()=>{try{const{error:x}=await sl.auth.signOut();localStorage.removeItem("rememberMe"),localStorage.removeItem("sessionExpiry"),x?(console.error("Error during signOut:",x),h({variant:"destructive",title:"Erro ao sair",description:x.message})):h({title:"Deslogado com sucesso!",description:"Voc foi desconectado do sistema."})}catch(x){console.error("Unexpected error during signOut:",x),h({variant:"destructive",title:"Erro inesperado ao sair",description:x.message})}finally{f("/login")}};return s.jsx(S5.Provider,{value:{user:t,session:n,loading:i,signIn:y,signUp:m,signOut:v,profile:l,isAdmin:u},children:e})}function Gt(){const e=g.useContext(S5);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const _5=g.createContext(void 0),cre=({children:e})=>{const[t,r]=g.useState(!1),n=()=>{r(a=>!a)};return s.jsx(_5.Provider,{value:{isCollapsed:t,toggleSidebar:n},children:e})},N5=()=>{const e=g.useContext(_5);if(e===void 0)throw new Error("useSidebar must be used within a SidebarProvider");return e};var zj="focusScope.autoFocusOnMount",Wj="focusScope.autoFocusOnUnmount",fT={bubbles:!1,cancelable:!0},ure="FocusScope",p0=g.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=g.useState(null),u=An(a),d=An(i),f=g.useRef(null),h=Yt(t,m=>c(m)),p=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(n){let m=function(w){if(p.paused||!l)return;const j=w.target;l.contains(j)?f.current=j:ul(f.current,{select:!0})},v=function(w){if(p.paused||!l)return;const j=w.relatedTarget;j!==null&&(l.contains(j)||ul(f.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&ul(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const b=new MutationObserver(x);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),b.disconnect()}}},[n,l,p.paused]),g.useEffect(()=>{if(l){pT.add(p);const m=document.activeElement;if(!l.contains(m)){const x=new CustomEvent(zj,fT);l.addEventListener(zj,u),l.dispatchEvent(x),x.defaultPrevented||(dre(vre(C5(l)),{select:!0}),document.activeElement===m&&ul(l))}return()=>{l.removeEventListener(zj,u),setTimeout(()=>{const x=new CustomEvent(Wj,fT);l.addEventListener(Wj,d),l.dispatchEvent(x),x.defaultPrevented||ul(m??document.body,{select:!0}),l.removeEventListener(Wj,d),pT.remove(p)},0)}}},[l,u,d,p]);const y=g.useCallback(m=>{if(!r&&!n||p.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,x=document.activeElement;if(v&&x){const b=m.currentTarget,[w,j]=fre(b);w&&j?!m.shiftKey&&x===j?(m.preventDefault(),r&&ul(w,{select:!0})):m.shiftKey&&x===w&&(m.preventDefault(),r&&ul(j,{select:!0})):x===b&&m.preventDefault()}},[r,n,p.paused]);return s.jsx(Ze.div,{tabIndex:-1,...o,ref:h,onKeyDown:y})});p0.displayName=ure;function dre(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(ul(n,{select:t}),document.activeElement!==r)return}function fre(e){const t=C5(e),r=hT(t,e),n=hT(t.reverse(),e);return[r,n]}function C5(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function hT(e,t){for(const r of e)if(!hre(r,{upTo:t}))return r}function hre(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function pre(e){return e instanceof HTMLInputElement&&"select"in e}function ul(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&pre(e)&&t&&e.select()}}var pT=mre();function mre(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=mT(e,t),e.unshift(t)},remove(t){var r;e=mT(e,t),(r=e[0])==null||r.resume()}}}function mT(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function vre(e){return e.filter(t=>t.tagName!=="A")}var Vj=0;function fP(){g.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??vT()),document.body.insertAdjacentElement("beforeend",e[1]??vT()),Vj++,()=>{Vj===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Vj--}},[])}function vT(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Oy="right-scroll-bar-position",Ay="width-before-scroll-bar",gre="with-scroll-bars-hidden",yre="--removed-body-scroll-bar-size";function Hj(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function xre(e,t){var r=g.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var bre=typeof window<"u"?g.useLayoutEffect:g.useEffect,gT=new WeakMap;function wre(e,t){var r=xre(null,function(n){return e.forEach(function(a){return Hj(a,n)})});return bre(function(){var n=gT.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||Hj(l,null)}),i.forEach(function(l){a.has(l)||Hj(l,o)})}gT.set(r,e)},[e]),r}function jre(e){return e}function Sre(e,t){t===void 0&&(t=jre);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function _re(e){e===void 0&&(e={});var t=Sre(null);return t.options=$i({async:!0,ssr:!1},e),t}var E5=function(e){var t=e.sideCar,r=dc(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return g.createElement(n,$i({},r))};E5.isSideCarExport=!0;function Nre(e,t){return e.useMedium(t),E5}var P5=_re(),Gj=function(){},m0=g.forwardRef(function(e,t){var r=g.useRef(null),n=g.useState({onScrollCapture:Gj,onWheelCapture:Gj,onTouchMoveCapture:Gj}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noRelative,y=e.noIsolation,m=e.inert,v=e.allowPinchZoom,x=e.as,b=x===void 0?"div":x,w=e.gapMode,j=dc(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,_=wre([r,t]),N=$i($i({},j),a);return g.createElement(g.Fragment,null,d&&g.createElement(S,{sideCar:P5,removeScrollBar:u,shards:f,noRelative:p,noIsolation:y,inert:m,setCallbacks:i,allowPinchZoom:!!v,lockRef:r,gapMode:w}),o?g.cloneElement(g.Children.only(l),$i($i({},N),{ref:_})):g.createElement(b,$i({},N,{className:c,ref:_}),l))});m0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};m0.classNames={fullWidth:Ay,zeroRight:Oy};var Cre=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Ere(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Cre();return t&&e.setAttribute("nonce",t),e}function Pre(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Ore(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Are=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Ere())&&(Pre(t,r),Ore(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},kre=function(){var e=Are();return function(t,r){g.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},O5=function(){var e=kre(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},Tre={left:0,top:0,right:0,gap:0},Kj=function(e){return parseInt(e||"",10)||0},Dre=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Kj(r),Kj(n),Kj(a)]},Ire=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Tre;var t=Dre(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Rre=O5(),Ud="data-scroll-locked",$re=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(gre,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Ud,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Oy,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Ay,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Oy," .").concat(Oy,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Ay," .").concat(Ay,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ud,`] {
    `).concat(yre,": ").concat(l,`px;
  }
`)},yT=function(){var e=parseInt(document.body.getAttribute(Ud)||"0",10);return isFinite(e)?e:0},Mre=function(){g.useEffect(function(){return document.body.setAttribute(Ud,(yT()+1).toString()),function(){var e=yT()-1;e<=0?document.body.removeAttribute(Ud):document.body.setAttribute(Ud,e.toString())}},[])},Lre=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;Mre();var i=g.useMemo(function(){return Ire(a)},[a]);return g.createElement(Rre,{styles:$re(i,!t,a,r?"":"!important")})},T1=!1;if(typeof window<"u")try{var Lg=Object.defineProperty({},"passive",{get:function(){return T1=!0,!0}});window.addEventListener("test",Lg,Lg),window.removeEventListener("test",Lg,Lg)}catch{T1=!1}var td=T1?{passive:!1}:!1,Fre=function(e){return e.tagName==="TEXTAREA"},A5=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Fre(e)&&r[t]==="visible")},Bre=function(e){return A5(e,"overflowY")},qre=function(e){return A5(e,"overflowX")},xT=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=k5(e,n);if(a){var i=T5(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Ure=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},zre=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},k5=function(e,t){return e==="v"?Bre(t):qre(t)},T5=function(e,t){return e==="v"?Ure(t):zre(t)},Wre=function(e,t){return e==="h"&&t==="rtl"?-1:1},Vre=function(e,t,r,n,a){var i=Wre(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var p=T5(e,l),y=p[0],m=p[1],v=p[2],x=m-v-i*y;(y||x)&&k5(e,l)&&(f+=x,h+=y);var b=l.parentNode;l=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},Fg=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},bT=function(e){return[e.deltaX,e.deltaY]},wT=function(e){return e&&"current"in e?e.current:e},Hre=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Gre=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Kre=0,rd=[];function Yre(e){var t=g.useRef([]),r=g.useRef([0,0]),n=g.useRef(),a=g.useState(Kre++)[0],i=g.useState(O5)[0],o=g.useRef(e);g.useEffect(function(){o.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var m=nP([e.lockRef.current],(e.shards||[]).map(wT),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=g.useCallback(function(m,v){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var x=Fg(m),b=r.current,w="deltaX"in m?m.deltaX:b[0]-x[0],j="deltaY"in m?m.deltaY:b[1]-x[1],S,_=m.target,N=Math.abs(w)>Math.abs(j)?"h":"v";if("touches"in m&&N==="h"&&_.type==="range")return!1;var C=xT(N,_);if(!C)return!0;if(C?S=N:(S=N==="v"?"h":"v",C=xT(N,_)),!C)return!1;if(!n.current&&"changedTouches"in m&&(w||j)&&(n.current=S),!S)return!0;var E=n.current||S;return Vre(E,v,m,E==="h"?w:j)},[]),c=g.useCallback(function(m){var v=m;if(!(!rd.length||rd[rd.length-1]!==i)){var x="deltaY"in v?bT(v):Fg(v),b=t.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&Hre(S.delta,x)})[0];if(b&&b.should){v.cancelable&&v.preventDefault();return}if(!b){var w=(o.current.shards||[]).map(wT).filter(Boolean).filter(function(S){return S.contains(v.target)}),j=w.length>0?l(v,w[0]):!o.current.noIsolation;j&&v.cancelable&&v.preventDefault()}}},[]),u=g.useCallback(function(m,v,x,b){var w={name:m,delta:v,target:x,should:b,shadowParent:Xre(x)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(j){return j!==w})},1)},[]),d=g.useCallback(function(m){r.current=Fg(m),n.current=void 0},[]),f=g.useCallback(function(m){u(m.type,bT(m),m.target,l(m,e.lockRef.current))},[]),h=g.useCallback(function(m){u(m.type,Fg(m),m.target,l(m,e.lockRef.current))},[]);g.useEffect(function(){return rd.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,td),document.addEventListener("touchmove",c,td),document.addEventListener("touchstart",d,td),function(){rd=rd.filter(function(m){return m!==i}),document.removeEventListener("wheel",c,td),document.removeEventListener("touchmove",c,td),document.removeEventListener("touchstart",d,td)}},[]);var p=e.removeScrollBar,y=e.inert;return g.createElement(g.Fragment,null,y?g.createElement(i,{styles:Gre(a)}):null,p?g.createElement(Lre,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Xre(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Qre=Nre(P5,Yre);var v0=g.forwardRef(function(e,t){return g.createElement(m0,$i({},e,{ref:t,sideCar:Qre}))});v0.classNames=m0.classNames;var Jre=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},nd=new WeakMap,Bg=new WeakMap,qg={},Yj=0,D5=function(e){return e&&(e.host||D5(e.parentNode))},Zre=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=D5(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},ene=function(e,t,r,n){var a=Zre(t,Array.isArray(e)?e:[e]);qg[r]||(qg[r]=new WeakMap);var i=qg[r],o=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var p=h.getAttribute(n),y=p!==null&&p!=="false",m=(nd.get(h)||0)+1,v=(i.get(h)||0)+1;nd.set(h,m),i.set(h,v),o.push(h),m===1&&y&&Bg.set(h,!0),v===1&&h.setAttribute(r,"true"),y||h.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return d(t),l.clear(),Yj++,function(){o.forEach(function(f){var h=nd.get(f)-1,p=i.get(f)-1;nd.set(f,h),i.set(f,p),h||(Bg.has(f)||f.removeAttribute(n),Bg.delete(f)),p||f.removeAttribute(r)}),Yj--,Yj||(nd=new WeakMap,nd=new WeakMap,Bg=new WeakMap,qg={})}},hP=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=Jre(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),ene(n,a,r,"aria-hidden")):function(){return null}},g0="Dialog",[I5]=Xa(g0),[tne,Ps]=I5(g0),R5=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=g.useRef(null),c=g.useRef(null),[u,d]=Lo({prop:n,defaultProp:a??!1,onChange:i,caller:g0});return s.jsx(tne,{scope:t,triggerRef:l,contentRef:c,contentId:Oo(),titleId:Oo(),descriptionId:Oo(),open:u,onOpenChange:d,onOpenToggle:g.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};R5.displayName=g0;var $5="DialogTrigger",M5=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ps($5,r),i=Yt(t,a.triggerRef);return s.jsx(Ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":vP(a.open),...n,ref:i,onClick:He(e.onClick,a.onOpenToggle)})});M5.displayName=$5;var pP="DialogPortal",[rne,L5]=I5(pP,{forceMount:void 0}),F5=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=Ps(pP,t);return s.jsx(rne,{scope:t,forceMount:r,children:g.Children.map(n,o=>s.jsx(Qa,{present:r||i.open,children:s.jsx(dv,{asChild:!0,container:a,children:o})}))})};F5.displayName=pP;var gx="DialogOverlay",B5=g.forwardRef((e,t)=>{const r=L5(gx,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Ps(gx,e.__scopeDialog);return i.modal?s.jsx(Qa,{present:n||i.open,children:s.jsx(ane,{...a,ref:t})}):null});B5.displayName=gx;var nne=wu("DialogOverlay.RemoveScroll"),ane=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ps(gx,r);return s.jsx(v0,{as:nne,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Ze.div,{"data-state":vP(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Eu="DialogContent",q5=g.forwardRef((e,t)=>{const r=L5(Eu,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Ps(Eu,e.__scopeDialog);return s.jsx(Qa,{present:n||i.open,children:i.modal?s.jsx(ine,{...a,ref:t}):s.jsx(sne,{...a,ref:t})})});q5.displayName=Eu;var ine=g.forwardRef((e,t)=>{const r=Ps(Eu,e.__scopeDialog),n=g.useRef(null),a=Yt(t,r.contentRef,n);return g.useEffect(()=>{const i=n.current;if(i)return hP(i)},[]),s.jsx(U5,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:He(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:He(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:He(e.onFocusOutside,i=>i.preventDefault())})}),sne=g.forwardRef((e,t)=>{const r=Ps(Eu,e.__scopeDialog),n=g.useRef(!1),a=g.useRef(!1);return s.jsx(U5,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),U5=g.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Ps(Eu,r),c=g.useRef(null),u=Yt(t,c);return fP(),s.jsxs(s.Fragment,{children:[s.jsx(p0,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Zf,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":vP(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(one,{titleId:l.titleId}),s.jsx(cne,{contentRef:c,descriptionId:l.descriptionId})]})]})}),mP="DialogTitle",z5=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ps(mP,r);return s.jsx(Ze.h2,{id:a.titleId,...n,ref:t})});z5.displayName=mP;var W5="DialogDescription",V5=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ps(W5,r);return s.jsx(Ze.p,{id:a.descriptionId,...n,ref:t})});V5.displayName=W5;var H5="DialogClose",G5=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ps(H5,r);return s.jsx(Ze.button,{type:"button",...n,ref:t,onClick:He(e.onClick,()=>a.onOpenChange(!1))})});G5.displayName=H5;function vP(e){return e?"open":"closed"}var K5="DialogTitleWarning",[Q3e,Y5]=EG(K5,{contentName:Eu,titleName:mP,docsSlug:"dialog"}),one=({titleId:e})=>{const t=Y5(K5),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return g.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},lne="DialogDescriptionWarning",cne=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Y5(lne).contentName}}.`;return g.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},une=R5,dne=M5,fne=F5,X5=B5,Q5=q5,J5=z5,Z5=V5,hne=G5;const St=une,Ki=dne,pne=fne,eq=g.forwardRef(({className:e,...t},r)=>s.jsx(X5,{ref:r,className:Ee("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));eq.displayName=X5.displayName;const xt=g.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(pne,{children:[s.jsx(eq,{}),s.jsxs(Q5,{ref:n,className:Ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(hne,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsx(DE,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));xt.displayName=Q5.displayName;const bt=({className:e,...t})=>s.jsx("div",{className:Ee("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});bt.displayName="DialogHeader";const Lr=({className:e,...t})=>s.jsx("div",{className:Ee("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Lr.displayName="DialogFooter";const wt=g.forwardRef(({className:e,...t},r)=>s.jsx(J5,{ref:r,className:Ee("text-lg font-semibold leading-none tracking-tight",e),...t}));wt.displayName=J5.displayName;const mne=g.forwardRef(({className:e,...t},r)=>s.jsx(Z5,{ref:r,className:Ee("text-sm text-muted-foreground",e),...t}));mne.displayName=Z5.displayName;var vne=g.createContext(void 0);function y0(e){const t=g.useContext(vne);return e||t||"ltr"}function D1(e,[t,r]){return Math.min(r,Math.max(t,e))}function gne(e,t){return g.useReducer((r,n)=>t[r][n]??r,e)}var gP="ScrollArea",[tq]=Xa(gP),[yne,Qi]=tq(gP),rq=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=g.useState(null),[u,d]=g.useState(null),[f,h]=g.useState(null),[p,y]=g.useState(null),[m,v]=g.useState(null),[x,b]=g.useState(0),[w,j]=g.useState(0),[S,_]=g.useState(!1),[N,C]=g.useState(!1),E=Yt(t,O=>c(O)),A=y0(a);return s.jsx(yne,{scope:r,type:n,dir:A,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:y,scrollbarXEnabled:S,onScrollbarXEnabledChange:_,scrollbarY:m,onScrollbarYChange:v,scrollbarYEnabled:N,onScrollbarYEnabledChange:C,onCornerWidthChange:b,onCornerHeightChange:j,children:s.jsx(Ze.div,{dir:A,...o,ref:E,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});rq.displayName=gP;var nq="ScrollAreaViewport",aq=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,o=Qi(nq,r),l=g.useRef(null),c=Yt(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(Ze.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});aq.displayName=nq;var no="ScrollAreaScrollbar",yP=g.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Qi(no,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return g.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(xne,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(bne,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(iq,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(xP,{...n,ref:t}):null});yP.displayName=no;var xne=g.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Qi(no,e.__scopeScrollArea),[i,o]=g.useState(!1);return g.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(Qa,{present:r||i,children:s.jsx(iq,{"data-state":i?"visible":"hidden",...n,ref:t})})}),bne=g.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Qi(no,e.__scopeScrollArea),i=e.orientation==="horizontal",o=b0(()=>c("SCROLL_END"),100),[l,c]=gne("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return g.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),g.useEffect(()=>{const u=a.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const p=u[d];f!==p&&(c("SCROLL"),o()),f=p};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,i,c,o]),s.jsx(Qa,{present:r||l!=="hidden",children:s.jsx(xP,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:He(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:He(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),iq=g.forwardRef((e,t)=>{const r=Qi(no,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,o]=g.useState(!1),l=e.orientation==="horizontal",c=b0(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return xf(r.viewport,c),xf(r.content,c),s.jsx(Qa,{present:n||i,children:s.jsx(xP,{"data-state":i?"visible":"hidden",...a,ref:t})})}),xP=g.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=Qi(no,e.__scopeScrollArea),i=g.useRef(null),o=g.useRef(0),[l,c]=g.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=uq(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,p){return Cne(h,o.current,l,p)}return r==="horizontal"?s.jsx(wne,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollLeft,p=jT(h,l,a.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):r==="vertical"?s.jsx(jne,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollTop,p=jT(h,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),wne=g.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Qi(no,e.__scopeScrollArea),[o,l]=g.useState(),c=g.useRef(null),u=Yt(t,c,i.onScrollbarXChange);return g.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(oq,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":x0(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),fq(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:xx(o.paddingLeft),paddingEnd:xx(o.paddingRight)}})}})}),jne=g.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Qi(no,e.__scopeScrollArea),[o,l]=g.useState(),c=g.useRef(null),u=Yt(t,c,i.onScrollbarYChange);return g.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(oq,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":x0(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),fq(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:xx(o.paddingTop),paddingEnd:xx(o.paddingBottom)}})}})}),[Sne,sq]=tq(no),oq=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,p=Qi(no,r),[y,m]=g.useState(null),v=Yt(t,E=>m(E)),x=g.useRef(null),b=g.useRef(""),w=p.viewport,j=n.content-n.viewport,S=An(d),_=An(c),N=b0(f,10);function C(E){if(x.current){const A=E.clientX-x.current.left,O=E.clientY-x.current.top;u({x:A,y:O})}}return g.useEffect(()=>{const E=A=>{const O=A.target;(y==null?void 0:y.contains(O))&&S(A,j)};return document.addEventListener("wheel",E,{passive:!1}),()=>document.removeEventListener("wheel",E,{passive:!1})},[w,y,j,S]),g.useEffect(_,[n,_]),xf(y,N),xf(p.content,N),s.jsx(Sne,{scope:r,scrollbar:y,hasThumb:a,onThumbChange:An(i),onThumbPointerUp:An(o),onThumbPositionChange:_,onThumbPointerDown:An(l),children:s.jsx(Ze.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:He(e.onPointerDown,E=>{E.button===0&&(E.target.setPointerCapture(E.pointerId),x.current=y.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),C(E))}),onPointerMove:He(e.onPointerMove,C),onPointerUp:He(e.onPointerUp,E=>{const A=E.target;A.hasPointerCapture(E.pointerId)&&A.releasePointerCapture(E.pointerId),document.body.style.webkitUserSelect=b.current,p.viewport&&(p.viewport.style.scrollBehavior=""),x.current=null})})})}),yx="ScrollAreaThumb",lq=g.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=sq(yx,e.__scopeScrollArea);return s.jsx(Qa,{present:r||a.hasThumb,children:s.jsx(_ne,{ref:t,...n})})}),_ne=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=Qi(yx,r),o=sq(yx,r),{onThumbPositionChange:l}=o,c=Yt(t,f=>o.onThumbChange(f)),u=g.useRef(void 0),d=b0(()=>{u.current&&(u.current(),u.current=void 0)},100);return g.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(d(),!u.current){const p=Ene(f,l);u.current=p,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,d,l]),s.jsx(Ze.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:He(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),y=f.clientX-p.left,m=f.clientY-p.top;o.onThumbPointerDown({x:y,y:m})}),onPointerUp:He(e.onPointerUp,o.onThumbPointerUp)})});lq.displayName=yx;var bP="ScrollAreaCorner",cq=g.forwardRef((e,t)=>{const r=Qi(bP,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(Nne,{...e,ref:t}):null});cq.displayName=bP;var Nne=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=Qi(bP,r),[i,o]=g.useState(0),[l,c]=g.useState(0),u=!!(i&&l);return xf(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),xf(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),o(d)}),u?s.jsx(Ze.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function xx(e){return e?parseInt(e,10):0}function uq(e,t){const r=e/t;return isNaN(r)?0:r}function x0(e){const t=uq(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function Cne(e,t,r,n="ltr"){const a=x0(r),i=a/2,o=t||i,l=a-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return dq([c,u],f)(e)}function jT(e,t,r="ltr"){const n=x0(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],u=D1(e,c);return dq([0,o],[0,l])(u)}function dq(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function fq(e,t){return e>0&&e<t}var Ene=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function b0(e,t){const r=An(e),n=g.useRef(0);return g.useEffect(()=>()=>window.clearTimeout(n.current),[]),g.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function xf(e,t){const r=An(t);Nn(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var hq=rq,Pne=aq,One=cq;const du=g.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(hq,{ref:n,className:Ee("relative overflow-hidden",e),...r,children:[s.jsx(Pne,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(pq,{}),s.jsx(One,{})]}));du.displayName=hq.displayName;const pq=g.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(yP,{ref:n,orientation:t,className:Ee("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(lq,{className:"relative flex-1 rounded-full bg-border"})}));pq.displayName=yP.displayName;function Ht(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Si(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function jn(e,t){const r=Ht(e);return isNaN(t)?Si(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Va(e,t){const r=Ht(e);if(isNaN(t))return Si(e,NaN);if(!t)return r;const n=r.getDate(),a=Si(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const wP=6048e5,Ane=864e5,mq=6e4,vq=36e5;let kne={};function gv(){return kne}function Zs(e,t){var l,c,u,d;const r=gv(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Ht(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Pu(e){return Zs(e,{weekStartsOn:1})}function gq(e){const t=Ht(e),r=t.getFullYear(),n=Si(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=Pu(n),i=Si(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Pu(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function _i(e){const t=Ht(e);return t.setHours(0,0,0,0),t}function bx(e){const t=Ht(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function ys(e,t){const r=_i(e),n=_i(t),a=+r-bx(r),i=+n-bx(n);return Math.round((a-i)/Ane)}function Tne(e){const t=gq(e),r=Si(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Pu(r)}function I1(e,t){const r=t*7;return jn(e,r)}function Dne(e,t){return Va(e,t*12)}function Ine(e){let t;return e.forEach(function(r){const n=Ht(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function Rne(e){let t;return e.forEach(r=>{const n=Ht(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function on(e,t){const r=_i(e),n=_i(t);return+r==+n}function jP(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function $ne(e){if(!jP(e)&&typeof e!="number")return!1;const t=Ht(e);return!isNaN(Number(t))}function um(e,t){const r=Ht(e),n=Ht(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function Mne(e,t,r){const n=Zs(e,r),a=Zs(t,r),i=+n-bx(n),o=+a-bx(a);return Math.round((i-o)/wP)}function Lne(e,t){const r=Ht(e),n=Ht(t),a=ST(r,n),i=Math.abs(ys(r,n));r.setDate(r.getDate()-a*i);const o=+(ST(r,n)===-a),l=a*(i-o);return l===0?0:l}function ST(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function _T(e){const t=Ht(e);return t.setHours(23,59,59,999),t}function SP(e){const t=Ht(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Ha(e){const t=Ht(e);return t.setDate(1),t.setHours(0,0,0,0),t}function yq(e){const t=Ht(e),r=Si(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function _P(e,t){var l,c,u,d;const r=gv(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Ht(e),i=a.getDay(),o=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function xq(e){return _P(e,{weekStartsOn:1})}const Fne={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Bne=(e,t,r)=>{let n;const a=Fne[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function zd(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const qne={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Une={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},zne={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Wne={date:zd({formats:qne,defaultWidth:"full"}),time:zd({formats:Une,defaultWidth:"full"}),dateTime:zd({formats:zne,defaultWidth:"full"})},Vne={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Hne=(e,t,r,n)=>Vne[e];function Bs(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const Gne={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Kne={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Yne={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Xne={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Qne={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Jne={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Zne=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},eae={ordinalNumber:Zne,era:Bs({values:Gne,defaultWidth:"wide"}),quarter:Bs({values:Kne,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Bs({values:Yne,defaultWidth:"wide"}),day:Bs({values:Xne,defaultWidth:"wide"}),dayPeriod:Bs({values:Qne,defaultWidth:"wide",formattingValues:Jne,defaultFormattingWidth:"wide"})};function qs(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?rae(l,f=>f.test(o)):tae(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function tae(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function rae(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function bq(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const nae=/^(\d+)(th|st|nd|rd)?/i,aae=/\d+/i,iae={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},sae={any:[/^b/i,/^(a|c)/i]},oae={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},lae={any:[/1/i,/2/i,/3/i,/4/i]},cae={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},uae={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},dae={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},fae={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},hae={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},pae={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},mae={ordinalNumber:bq({matchPattern:nae,parsePattern:aae,valueCallback:e=>parseInt(e,10)}),era:qs({matchPatterns:iae,defaultMatchWidth:"wide",parsePatterns:sae,defaultParseWidth:"any"}),quarter:qs({matchPatterns:oae,defaultMatchWidth:"wide",parsePatterns:lae,defaultParseWidth:"any",valueCallback:e=>e+1}),month:qs({matchPatterns:cae,defaultMatchWidth:"wide",parsePatterns:uae,defaultParseWidth:"any"}),day:qs({matchPatterns:dae,defaultMatchWidth:"wide",parsePatterns:fae,defaultParseWidth:"any"}),dayPeriod:qs({matchPatterns:hae,defaultMatchWidth:"any",parsePatterns:pae,defaultParseWidth:"any"})},wq={code:"en-US",formatDistance:Bne,formatLong:Wne,formatRelative:Hne,localize:eae,match:mae,options:{weekStartsOn:0,firstWeekContainsDate:1}};function vae(e){const t=Ht(e);return ys(t,yq(t))+1}function jq(e){const t=Ht(e),r=+Pu(t)-+Tne(t);return Math.round(r/wP)+1}function Sq(e,t){var d,f,h,p;const r=Ht(e),n=r.getFullYear(),a=gv(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(h=a.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=Si(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Zs(o,t),c=Si(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=Zs(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function gae(e,t){var l,c,u,d;const r=gv(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=Sq(e,t),i=Si(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Zs(i,t)}function _q(e,t){const r=Ht(e),n=+Zs(r,t)-+gae(r,t);return Math.round(n/wP)+1}function kr(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const ol={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return kr(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):kr(r+1,2)},d(e,t){return kr(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return kr(e.getHours()%12||12,t.length)},H(e,t){return kr(e.getHours(),t.length)},m(e,t){return kr(e.getMinutes(),t.length)},s(e,t){return kr(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return kr(a,t.length)}},ad={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},NT={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return ol.y(e,t)},Y:function(e,t,r,n){const a=Sq(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return kr(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):kr(i,t.length)},R:function(e,t){const r=gq(e);return kr(r,t.length)},u:function(e,t){const r=e.getFullYear();return kr(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return kr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return kr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return ol.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return kr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=_q(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):kr(a,t.length)},I:function(e,t,r){const n=jq(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):kr(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):ol.d(e,t)},D:function(e,t,r){const n=vae(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):kr(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return kr(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return kr(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return kr(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=ad.noon:n===0?a=ad.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=ad.evening:n>=12?a=ad.afternoon:n>=4?a=ad.morning:a=ad.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return ol.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):ol.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):kr(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):kr(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):ol.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):ol.s(e,t)},S:function(e,t){return ol.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return ET(n);case"XXXX":case"XX":return $c(n);case"XXXXX":case"XXX":default:return $c(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return ET(n);case"xxxx":case"xx":return $c(n);case"xxxxx":case"xxx":default:return $c(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+CT(n,":");case"OOOO":default:return"GMT"+$c(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+CT(n,":");case"zzzz":default:return"GMT"+$c(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return kr(n,t.length)},T:function(e,t,r){const n=e.getTime();return kr(n,t.length)}};function CT(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+kr(i,2)}function ET(e,t){return e%60===0?(e>0?"-":"+")+kr(Math.abs(e)/60,2):$c(e,t)}function $c(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=kr(Math.trunc(n/60),2),i=kr(n%60,2);return r+a+t+i}const PT=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Nq=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},yae=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return PT(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",PT(n,t)).replace("{{time}}",Nq(a,t))},xae={p:Nq,P:yae},bae=/^D+$/,wae=/^Y+$/,jae=["D","DD","YY","YYYY"];function Sae(e){return bae.test(e)}function _ae(e){return wae.test(e)}function Nae(e,t,r){const n=Cae(e,t,r);if(console.warn(n),jae.includes(e))throw new RangeError(n)}function Cae(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Eae=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Pae=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Oae=/^'([^]*?)'?$/,Aae=/''/g,kae=/[a-zA-Z]/;function Be(e,t,r){var d,f,h,p,y,m,v,x;const n=gv(),a=(r==null?void 0:r.locale)??n.locale??wq,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((m=(y=r==null?void 0:r.locale)==null?void 0:y.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((x=(v=n.locale)==null?void 0:v.options)==null?void 0:x.weekStartsOn)??0,l=Ht(e);if(!$ne(l))throw new RangeError("Invalid time value");let c=t.match(Pae).map(b=>{const w=b[0];if(w==="p"||w==="P"){const j=xae[w];return j(b,a.formatLong)}return b}).join("").match(Eae).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const w=b[0];if(w==="'")return{isToken:!1,value:Tae(b)};if(NT[w])return{isToken:!0,value:b};if(w.match(kae))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:b}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(b=>{if(!b.isToken)return b.value;const w=b.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&_ae(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Sae(w))&&Nae(w,t,String(e));const j=NT[w[0]];return j(l,w,a.localize,u)}).join("")}function Tae(e){const t=e.match(Oae);return t?t[1].replace(Aae,"'"):e}function wx(e){return Ht(e).getDay()}function Dae(e){const t=Ht(e),r=t.getFullYear(),n=t.getMonth(),a=Si(e,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function Iae(e){return Math.trunc(+Ht(e)/1e3)}function Rae(e){const t=Ht(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function $ae(e,t){return Mne(Rae(e),Ha(e),t)+1}function Zl(e,t){const r=Ht(e),n=Ht(t);return r.getTime()>n.getTime()}function ec(e,t){const r=Ht(e),n=Ht(t);return+r<+n}function NP(e,t){const r=Ht(e),n=Ht(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function Mae(e,t){const r=Ht(e),n=Ht(t);return r.getFullYear()===n.getFullYear()}function ky(e,t){return jn(e,-t)}function Er(e,t){const n=qae(e);let a;if(n.date){const c=Uae(n.date,2);a=zae(c.restDateString,c.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const i=a.getTime();let o=0,l;if(n.time&&(o=Wae(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(l=Vae(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(i+o+l)}const Ug={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Lae=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Fae=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Bae=/^([+-])(\d{2})(?::?(\d{2}))?$/;function qae(e){const t={},r=e.split(Ug.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Ug.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Ug.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=Ug.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function Uae(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function zae(e,t){if(t===null)return new Date(NaN);const r=e.match(Lae);if(!r)return new Date(NaN);const n=!!r[4],a=Uh(r[1]),i=Uh(r[2])-1,o=Uh(r[3]),l=Uh(r[4]),c=Uh(r[5])-1;if(n)return Xae(t,l,c)?Hae(t,l,c):new Date(NaN);{const u=new Date(0);return!Kae(t,i,o)||!Yae(t,a)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(a,o)),u)}}function Uh(e){return e?parseInt(e):1}function Wae(e){const t=e.match(Fae);if(!t)return NaN;const r=Xj(t[1]),n=Xj(t[2]),a=Xj(t[3]);return Qae(r,n,a)?r*vq+n*mq+a*1e3:NaN}function Xj(e){return e&&parseFloat(e.replace(",","."))||0}function Vae(e){if(e==="Z")return 0;const t=e.match(Bae);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return Jae(n,a)?r*(n*vq+a*mq):NaN}function Hae(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const Gae=[31,null,31,30,31,30,31,31,30,31,30,31];function Cq(e){return e%400===0||e%4===0&&e%100!==0}function Kae(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(Gae[t]||(Cq(e)?29:28))}function Yae(e,t){return t>=1&&t<=(Cq(e)?366:365)}function Xae(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function Qae(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Jae(e,t){return t>=0&&t<=59}function Qj(e,t){const r=Ht(e),n=r.getFullYear(),a=r.getDate(),i=Si(e,0);i.setFullYear(n,t,15),i.setHours(0,0,0,0);const o=Dae(i);return r.setMonth(t,Math.min(a,o)),r}function Us(e,t){const r=Ht(e);return r.setHours(t),r}function zs(e,t){const r=Ht(e);return r.setMinutes(t),r}function OT(e,t){const r=Ht(e);return isNaN(+r)?Si(e,NaN):(r.setFullYear(t),r)}const zh=ke;function Zae(){const{toast:e}=dr(),{profile:t}=Gt(),[r,n]=g.useState([]),[a,i]=g.useState(!1),[o,l]=g.useState(null),[c,u]=g.useState(new Set),d=g.useCallback(()=>{const m=localStorage.getItem("task_notifications_enabled");return m?JSON.parse(m):!0},[]),f=g.useCallback(async()=>{if(!(t!=null&&t.store_id))return;const{data:m}=await zh.from("stores").select("ifood_stock_alert_enabled, ifood_stock_alert_threshold").eq("id",t.store_id).single();if(!(m!=null&&m.ifood_stock_alert_enabled))return;const{data:v}=await zh.from("products").select("id, name, stock_quantity").eq("store_id",t.store_id).eq("active",!0).lte("stock_quantity",m.ifood_stock_alert_threshold||0);v&&v.length>0&&v.forEach(x=>{if(!r.find(w=>w.type==="stock"&&w.message.includes(x.name))){const w={id:`stock-${x.id}-${Date.now()}`,message:`Estoque baixo: ${x.name} (${x.stock_quantity} unidades)`,timestamp:new Date().toISOString(),type:"stock",read:!1};n(j=>[w,...j])}})},[t,r]),h=g.useCallback(async()=>{if(!(t!=null&&t.store_id)||!d())return;const{data:m}=await zh.from("tasks").select("id, title, due_date").eq("store_id",t.store_id).not("due_date","is",null);if(m&&m.length>0){const v=_i(new Date);m.forEach(x=>{if(!x.due_date)return;const b=_i(Er(x.due_date)),w=Lne(b,v);if(w===1&&!c.has(`${x.id}-1day`)){const j={id:`task-${x.id}-1day-${Date.now()}`,message:`Tarefa "${x.title}" vence amanh!`,timestamp:new Date().toISOString(),type:"task",read:!1};n(S=>[j,...S]),u(S=>new Set(S).add(`${x.id}-1day`))}if(w===0&&!c.has(`${x.id}-today`)){const j={id:`task-${x.id}-today-${Date.now()}`,message:`Tarefa "${x.title}" vence hoje!`,timestamp:new Date().toISOString(),type:"task",read:!1};n(S=>[j,...S]),u(S=>new Set(S).add(`${x.id}-today`))}})}},[t,d,c]);g.useEffect(()=>{if(!(t!=null&&t.store_id))return;const m=zh.channel("new-orders-notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"orders",filter:`store_id=eq.${t.store_id}`},v=>{const x=v.new,b={id:`order-${x.id}-${Date.now()}`,message:`Novo pedido #${x.order_number} recebido!`,timestamp:x.created_at,type:"order",read:!1};n(w=>[b,...w])}).subscribe();return()=>{zh.removeChannel(m)}},[t==null?void 0:t.store_id]),g.useEffect(()=>{if(!(t!=null&&t.store_id))return;f(),h();const m=setInterval(()=>{f(),h()},5*60*1e3);return()=>clearInterval(m)},[t==null?void 0:t.store_id,f,h]);const p=m=>{n(v=>v.filter(x=>x.id!==m))},y=()=>{n([]),e({title:"Todas as notificaes limpas."}),i(!1)};return s.jsxs(St,{open:a,onOpenChange:i,children:[s.jsx(Ki,{asChild:!0,children:s.jsxs(B,{variant:"outline",size:"sm",className:"relative",children:[s.jsx(PE,{className:"h-4 w-4"}),r.length>0&&s.jsxs("span",{className:"absolute -top-1 -right-1 flex h-3 w-3",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]})]})}),s.jsxs(xt,{className:"sm:max-w-[425px]",children:[s.jsx(bt,{children:s.jsxs(wt,{children:["Notificaes (",r.length,")"]})}),s.jsx(du,{className:"h-[300px] py-4",children:s.jsx("div",{className:"space-y-3 pr-4",children:r.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Nenhuma notificao."}):r.map(m=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-accent rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:m.message}),s.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(m.timestamp).toLocaleString("pt-BR")})]}),s.jsx(B,{variant:"ghost",size:"sm",onClick:()=>p(m.id),children:"OK"})]},m.id))})}),s.jsx(Lr,{children:s.jsx(B,{variant:"outline",onClick:y,disabled:r.length===0,children:"Limpar Tudo"})})]})]})}const eie=[{name:"Dashboard",href:"/dashboard",icon:RK},{name:"PDV",href:"/pdv",icon:uu,hideForAdmin:!0},{name:"Painel de Pedidos",href:"/painel",icon:EK,hideForAdmin:!0},{name:"Fidelidade",href:"/fidelidade",icon:r0,hideForAdmin:!0},{name:"Produtos",href:"/produtos",icon:uu,hideForAdmin:!0},{name:"Estoque",href:"/estoque",icon:Bu,hideForAdmin:!0},{name:"Marketing",href:"/marketing",icon:n3,hideForAdmin:!0},{name:"Tarefas",href:"/tarefas",icon:FK,hideForAdmin:!0},{name:"Cadastros",href:"/cadastros",icon:pv,hideForAdmin:!0},{name:"Minhas Finanas",href:"/financas",icon:Ld,hideForAdmin:!0},{name:"Relatrios",href:"/relatorios",icon:NK},{name:"Minha Loja",href:"/minha-loja",icon:Su,hideForAdmin:!0},{name:"Lojas",href:"/lojas",icon:Su,roles:["admin"]},{name:"Assinaturas",href:"/assinaturas",icon:Fi,roles:["admin"]},{name:"Configuraes",href:"/configuracoes",icon:qu}];function tie(){const e=uc(),{profile:t,isAdmin:r,signOut:n}=Gt(),{isCollapsed:a,toggleSidebar:i}=N5(),o=eie.filter(l=>!(l.roles&&!l.roles.some(c=>r&&c==="admin")||l.hideForAdmin&&r));return s.jsxs("aside",{className:Ee("fixed inset-y-0 left-0 z-30 flex flex-col border-r bg-sidebar transition-all duration-300",a?"w-20":"w-64"),children:[s.jsxs("div",{className:"flex items-center justify-between p-4 h-16",children:[!a&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h2",{className:"text-xl font-bold text-sidebar-primary truncate",children:"Food Flow"}),s.jsx(Zae,{})]}),s.jsx(B,{variant:"ghost",size:"icon",onClick:i,className:"text-sidebar-foreground hover:bg-sidebar-accent",children:a?s.jsx(X4,{className:"h-5 w-5"}):s.jsx(Y4,{className:"h-5 w-5"})})]}),s.jsx(So,{className:"bg-sidebar-border"}),s.jsx("nav",{className:"flex-1 overflow-y-auto p-2",children:s.jsx("ul",{className:"space-y-1",children:o.map(l=>{const c=e.pathname===l.href,u=l.icon;return s.jsx("li",{children:s.jsxs(kZ,{to:l.href,className:Ee("flex items-center rounded-md px-3 py-2 text-sm font-medium transition-colors",c?"bg-sidebar-primary text-sidebar-primary-foreground":"text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",a&&"justify-center"),children:[s.jsx(u,{className:Ee("h-5 w-5",!a&&"mr-3")}),!a&&s.jsx("span",{className:"truncate",children:l.name})]})},l.href)})})}),s.jsxs("div",{className:"mt-auto p-4 text-center text-xs text-sidebar-foreground",children:[!a&&s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"font-semibold",children:(t==null?void 0:t.full_name)||"Usurio"}),s.jsx("p",{className:"text-muted-foreground",children:t==null?void 0:t.email})]}),s.jsxs(B,{variant:"ghost",className:Ee("w-full mt-2 flex items-center",a?"justify-center":"justify-start"),onClick:n,children:[s.jsx(r3,{className:Ee("h-5 w-5",!a&&"mr-3")}),!a&&s.jsx("span",{className:"truncate",children:"Deslogar"})]})]})]})}const ve=g.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Ee("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ve.displayName="Card";const je=g.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Ee("flex flex-col space-y-1.5 p-6",e),...t}));je.displayName="CardHeader";const Se=g.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:Ee("text-2xl font-semibold leading-none tracking-tight",e),...t}));Se.displayName="CardTitle";const Jt=g.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:Ee("text-sm text-muted-foreground",e),...t}));Jt.displayName="CardDescription";const ye=g.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Ee("p-6 pt-0",e),...t}));ye.displayName="CardContent";const rie=g.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Ee("flex items-center p-6 pt-0",e),...t}));rie.displayName="CardFooter";const ne=g.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:Ee("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));ne.displayName="Input";var nie="Label",Eq=g.forwardRef((e,t)=>s.jsx(Ze.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Eq.displayName=nie;var Pq=Eq;const aie=hv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),V=g.forwardRef(({className:e,...t},r)=>s.jsx(Pq,{ref:r,className:Ee(aie(),e),...t}));V.displayName=Pq.displayName;function CP(e){const t=g.useRef({value:e,previous:e});return g.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var w0="Checkbox",[iie]=Xa(w0),[sie,EP]=iie(w0);function oie(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,p]=Lo({prop:r,defaultProp:a??!1,onChange:c,caller:w0}),[y,m]=g.useState(null),[v,x]=g.useState(null),b=g.useRef(!1),w=y?!!o||!!y.closest("form"):!0,j={checked:h,disabled:i,setChecked:p,control:y,setControl:m,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:b,required:u,defaultChecked:Ul(a)?!1:a,isFormControl:w,bubbleInput:v,setBubbleInput:x};return s.jsx(sie,{scope:t,...j,children:lie(f)?f(j):n})}var Oq="CheckboxTrigger",Aq=g.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:y}=EP(Oq,e),m=Yt(a,d),v=g.useRef(c);return g.useEffect(()=>{const x=i==null?void 0:i.form;if(x){const b=()=>f(v.current);return x.addEventListener("reset",b),()=>x.removeEventListener("reset",b)}},[i,f]),s.jsx(Ze.button,{type:"button",role:"checkbox","aria-checked":Ul(c)?"mixed":c,"aria-required":u,"data-state":Rq(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:m,onKeyDown:He(t,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:He(r,x=>{f(b=>Ul(b)?!0:!b),y&&p&&(h.current=x.isPropagationStopped(),h.current||x.stopPropagation())})})});Aq.displayName=Oq;var PP=g.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return s.jsx(oie,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>s.jsxs(s.Fragment,{children:[s.jsx(Aq,{...f,ref:t,__scopeCheckbox:r}),h&&s.jsx(Iq,{__scopeCheckbox:r})]})})});PP.displayName=w0;var kq="CheckboxIndicator",Tq=g.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=EP(kq,r);return s.jsx(Qa,{present:n||Ul(i.checked)||i.checked===!0,children:s.jsx(Ze.span,{"data-state":Rq(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});Tq.displayName=kq;var Dq="CheckboxBubbleInput",Iq=g.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:p}=EP(Dq,e),y=Yt(r,p),m=CP(i),v=qE(n);g.useEffect(()=>{const b=h;if(!b)return;const w=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(w,"checked").set,_=!a.current;if(m!==i&&S){const N=new Event("click",{bubbles:_});b.indeterminate=Ul(i),S.call(b,Ul(i)?!1:i),b.dispatchEvent(N)}},[h,m,i,a]);const x=g.useRef(Ul(i)?!1:i);return s.jsx(Ze.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??x.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:y,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Iq.displayName=Dq;function lie(e){return typeof e=="function"}function Ul(e){return e==="indeterminate"}function Rq(e){return Ul(e)?"indeterminate":e?"checked":"unchecked"}const gi=g.forwardRef(({className:e,...t},r)=>s.jsx(PP,{ref:r,className:Ee("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(Tq,{className:Ee("flex items-center justify-center text-current"),children:s.jsx(e0,{className:"h-4 w-4"})})}));gi.displayName=PP.displayName;const cie={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},uie=(e,t,r)=>{let n;const a=cie[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+n:"h "+n:n},die={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},fie={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},hie={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},pie={date:zd({formats:die,defaultWidth:"full"}),time:zd({formats:fie,defaultWidth:"full"}),dateTime:zd({formats:hie,defaultWidth:"full"})},mie={lastWeek:e=>{const t=e.getDay();return"'"+(t===0||t===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},vie=(e,t,r,n)=>{const a=mie[e];return typeof a=="function"?a(t):a},gie={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},yie={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},xie={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},bie={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},wie={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},jie={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},Sie=(e,t)=>{const r=Number(e);return(t==null?void 0:t.unit)==="week"?r+"":r+""},_ie={ordinalNumber:Sie,era:Bs({values:gie,defaultWidth:"wide"}),quarter:Bs({values:yie,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Bs({values:xie,defaultWidth:"wide"}),day:Bs({values:bie,defaultWidth:"wide"}),dayPeriod:Bs({values:wie,defaultWidth:"wide",formattingValues:jie,defaultFormattingWidth:"wide"})},Nie=/^(\d+)[o]?/i,Cie=/\d+/i,Eie={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},Pie={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},Oie={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},Aie={any:[/1/i,/2/i,/3/i,/4/i]},kie={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},Tie={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},Die={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},Iie={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},Rie={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},$ie={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},Mie={ordinalNumber:bq({matchPattern:Nie,parsePattern:Cie,valueCallback:e=>parseInt(e,10)}),era:qs({matchPatterns:Eie,defaultMatchWidth:"wide",parsePatterns:Pie,defaultParseWidth:"any"}),quarter:qs({matchPatterns:Oie,defaultMatchWidth:"wide",parsePatterns:Aie,defaultParseWidth:"any",valueCallback:e=>e+1}),month:qs({matchPatterns:kie,defaultMatchWidth:"wide",parsePatterns:Tie,defaultParseWidth:"any"}),day:qs({matchPatterns:Die,defaultMatchWidth:"wide",parsePatterns:Iie,defaultParseWidth:"any"}),dayPeriod:qs({matchPatterns:Rie,defaultMatchWidth:"any",parsePatterns:$ie,defaultParseWidth:"any"})},Tt={code:"pt-BR",formatDistance:uie,formatLong:pie,formatRelative:vie,localize:_ie,match:Mie,options:{weekStartsOn:0,firstWeekContainsDate:1}};var Nt=function(){return Nt=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Nt.apply(this,arguments)};function Lie(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function $q(e,t,r){for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function yv(e){return e.mode==="multiple"}function xv(e){return e.mode==="range"}function j0(e){return e.mode==="single"}var Fie={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Bie(e,t){return Be(e,"LLLL y",t)}function qie(e,t){return Be(e,"d",t)}function Uie(e,t){return Be(e,"LLLL",t)}function zie(e){return"".concat(e)}function Wie(e,t){return Be(e,"cccccc",t)}function Vie(e,t){return Be(e,"yyyy",t)}var Hie=Object.freeze({__proto__:null,formatCaption:Bie,formatDay:qie,formatMonthCaption:Uie,formatWeekNumber:zie,formatWeekdayName:Wie,formatYearCaption:Vie}),Gie=function(e,t,r){return Be(e,"do MMMM (EEEE)",r)},Kie=function(){return"Month: "},Yie=function(){return"Go to next month"},Xie=function(){return"Go to previous month"},Qie=function(e,t){return Be(e,"cccc",t)},Jie=function(e){return"Week n. ".concat(e)},Zie=function(){return"Year: "},ese=Object.freeze({__proto__:null,labelDay:Gie,labelMonthDropdown:Kie,labelNext:Yie,labelPrevious:Xie,labelWeekNumber:Jie,labelWeekday:Qie,labelYearDropdown:Zie});function tse(){var e="buttons",t=Fie,r=wq,n={},a={},i=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:Hie,labels:ese,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:i,styles:o,today:l,mode:"default"}}function rse(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,a=e.toMonth,i=e.fromDate,o=e.toDate;return n?i=Ha(n):t&&(i=new Date(t,0,1)),a?o=SP(a):r&&(o=new Date(r,11,31)),{fromDate:i?_i(i):void 0,toDate:o?_i(o):void 0}}var Mq=g.createContext(void 0);function nse(e){var t,r=e.initialProps,n=tse(),a=rse(r),i=a.fromDate,o=a.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var c;(j0(r)||yv(r)||xv(r))&&(c=r.onSelect);var u=Nt(Nt(Nt({},n),r),{captionLayout:l,classNames:Nt(Nt({},n.classNames),r.classNames),components:Nt({},r.components),formatters:Nt(Nt({},n.formatters),r.formatters),fromDate:i,labels:Nt(Nt({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Nt(Nt({},n.modifiers),r.modifiers),modifiersClassNames:Nt(Nt({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:Nt(Nt({},n.styles),r.styles),toDate:o});return s.jsx(Mq.Provider,{value:u,children:e.children})}function Xr(){var e=g.useContext(Mq);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function Lq(e){var t=Xr(),r=t.locale,n=t.classNames,a=t.styles,i=t.formatters.formatCaption;return s.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function ase(e){return s.jsx("svg",Nt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Fq(e){var t,r,n=e.onChange,a=e.value,i=e.children,o=e.caption,l=e.className,c=e.style,u=Xr(),d=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:ase;return s.jsxs("div",{className:l,style:c,children:[s.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:a,onChange:n,children:i}),s.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,s.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function ise(e){var t,r=Xr(),n=r.fromDate,a=r.toDate,i=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});var f=[];if(Mae(n,a))for(var h=Ha(n),p=n.getMonth();p<=a.getMonth();p++)f.push(Qj(h,p));else for(var h=Ha(new Date),p=0;p<=11;p++)f.push(Qj(h,p));var y=function(v){var x=Number(v.target.value),b=Qj(Ha(e.displayMonth),x);e.onChange(b)},m=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:Fq;return s.jsx(m,{name:"months","aria-label":d(),className:c.dropdown_month,style:i.dropdown_month,onChange:y,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:f.map(function(v){return s.jsx("option",{value:v.getMonth(),children:l(v,{locale:o})},v.getMonth())})})}function sse(e){var t,r=e.displayMonth,n=Xr(),a=n.fromDate,i=n.toDate,o=n.locale,l=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,h=[];if(!a)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});for(var p=a.getFullYear(),y=i.getFullYear(),m=p;m<=y;m++)h.push(OT(yq(new Date),m));var v=function(b){var w=OT(Ha(r),Number(b.target.value));e.onChange(w)},x=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:Fq;return s.jsx(x,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:v,value:r.getFullYear(),caption:d(r,{locale:o}),children:h.map(function(b){return s.jsx("option",{value:b.getFullYear(),children:d(b,{locale:o})},b.getFullYear())})})}function ose(e,t){var r=g.useState(e),n=r[0],a=r[1],i=t===void 0?n:t;return[i,a]}function lse(e){var t=e.month,r=e.defaultMonth,n=e.today,a=t||r||n||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&um(i,a)<0){var u=-1*(c-1);a=Va(i,u)}return o&&um(a,o)<0&&(a=o),Ha(a)}function cse(){var e=Xr(),t=lse(e),r=ose(t,e.month),n=r[0],a=r[1],i=function(o){var l;if(!e.disableNavigation){var c=Ha(o);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,i]}function use(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,a=Ha(e),i=Ha(Va(a,n)),o=um(i,a),l=[],c=0;c<o;c++){var u=Va(a,c);l.push(u)}return r&&(l=l.reverse()),l}function dse(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=n?i:1,l=Ha(e);if(!r)return Va(l,o);var c=um(r,e);if(!(c<i))return Va(l,o)}}function fse(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=n?i:1,l=Ha(e);if(!r)return Va(l,-o);var c=um(l,r);if(!(c<=0))return Va(l,-o)}}var Bq=g.createContext(void 0);function hse(e){var t=Xr(),r=cse(),n=r[0],a=r[1],i=use(n,t),o=dse(n,t),l=fse(n,t),c=function(f){return i.some(function(h){return NP(f,h)})},u=function(f,h){c(f)||(h&&ec(f,h)?a(Va(f,1+t.numberOfMonths*-1)):a(f))},d={currentMonth:n,displayMonths:i,goToMonth:a,goToDate:u,previousMonth:l,nextMonth:o,isDateDisplayed:c};return s.jsx(Bq.Provider,{value:d,children:e.children})}function bv(){var e=g.useContext(Bq);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function AT(e){var t,r=Xr(),n=r.classNames,a=r.styles,i=r.components,o=bv().goToMonth,l=function(d){o(Va(d,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:Lq,u=s.jsx(c,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[s.jsx("div",{className:n.vhidden,children:u}),s.jsx(ise,{onChange:l,displayMonth:e.displayMonth}),s.jsx(sse,{onChange:l,displayMonth:e.displayMonth})]})}function pse(e){return s.jsx("svg",Nt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function mse(e){return s.jsx("svg",Nt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var jx=g.forwardRef(function(e,t){var r=Xr(),n=r.classNames,a=r.styles,i=[n.button_reset,n.button];e.className&&i.push(e.className);var o=i.join(" "),l=Nt(Nt({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),s.jsx("button",Nt({},e,{ref:t,type:"button",className:o,style:l}))});function vse(e){var t,r,n=Xr(),a=n.dir,i=n.locale,o=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,f=n.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var h=u(e.previousMonth,{locale:i}),p=[o.nav_button,o.nav_button_previous].join(" "),y=d(e.nextMonth,{locale:i}),m=[o.nav_button,o.nav_button_next].join(" "),v=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:mse,x=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:pse;return s.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&s.jsx(jx,{name:"previous-month","aria-label":h,className:p,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?s.jsx(v,{className:o.nav_icon,style:l.nav_icon}):s.jsx(x,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&s.jsx(jx,{name:"next-month","aria-label":y,className:m,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?s.jsx(x,{className:o.nav_icon,style:l.nav_icon}):s.jsx(v,{className:o.nav_icon,style:l.nav_icon})})]})}function kT(e){var t=Xr().numberOfMonths,r=bv(),n=r.previousMonth,a=r.nextMonth,i=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(y){return NP(e.displayMonth,y)}),c=l===0,u=l===o.length-1,d=t>1&&(c||!u),f=t>1&&(u||!c),h=function(){n&&i(n)},p=function(){a&&i(a)};return s.jsx(vse,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:f,nextMonth:a,previousMonth:n,onPreviousClick:h,onNextClick:p})}function gse(e){var t,r=Xr(),n=r.classNames,a=r.disableNavigation,i=r.styles,o=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:Lq,u;return a?u=s.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?u=s.jsx(AT,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?u=s.jsxs(s.Fragment,{children:[s.jsx(AT,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(kT,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=s.jsxs(s.Fragment,{children:[s.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(kT,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:n.caption,style:i.caption,children:u})}function yse(e){var t=Xr(),r=t.footer,n=t.styles,a=t.classNames.tfoot;return r?s.jsx("tfoot",{className:a,style:n.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:r})})}):s.jsx(s.Fragment,{})}function xse(e,t,r){for(var n=r?Pu(new Date):Zs(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var o=jn(n,i);a.push(o)}return a}function bse(){var e=Xr(),t=e.classNames,r=e.styles,n=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=xse(a,i,o);return s.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&s.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(d,f){return s.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(d,{locale:a}),children:l(d,{locale:a})},f)})]})}function wse(){var e,t=Xr(),r=t.classNames,n=t.styles,a=t.components,i=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:bse;return s.jsx("thead",{style:n.head,className:r.head,children:s.jsx(i,{})})}function jse(e){var t=Xr(),r=t.locale,n=t.formatters.formatDay;return s.jsx(s.Fragment,{children:n(e.date,{locale:r})})}var OP=g.createContext(void 0);function Sse(e){if(!yv(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(OP.Provider,{value:t,children:e.children})}return s.jsx(_se,{initialProps:e.initialProps,children:e.children})}function _se(e){var t=e.initialProps,r=e.children,n=t.selected,a=t.min,i=t.max,o=function(u,d,f){var h,p;(h=t.onDayClick)===null||h===void 0||h.call(t,u,d,f);var y=!!(d.selected&&a&&(n==null?void 0:n.length)===a);if(!y){var m=!!(!d.selected&&i&&(n==null?void 0:n.length)===i);if(!m){var v=n?$q([],n):[];if(d.selected){var x=v.findIndex(function(b){return on(u,b)});v.splice(x,1)}else v.push(u);(p=t.onSelect)===null||p===void 0||p.call(t,v,u,d,f)}}},l={disabled:[]};n&&l.disabled.push(function(u){var d=i&&n.length>i-1,f=n.some(function(h){return on(h,u)});return!!(d&&!f)});var c={selected:n,onDayClick:o,modifiers:l};return s.jsx(OP.Provider,{value:c,children:r})}function AP(){var e=g.useContext(OP);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function Nse(e,t){var r=t||{},n=r.from,a=r.to;return n&&a?on(a,e)&&on(n,e)?void 0:on(a,e)?{from:a,to:void 0}:on(n,e)?void 0:Zl(n,e)?{from:e,to:a}:{from:n,to:e}:a?Zl(e,a)?{from:a,to:e}:{from:e,to:a}:n?ec(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var kP=g.createContext(void 0);function Cse(e){if(!xv(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(kP.Provider,{value:t,children:e.children})}return s.jsx(Ese,{initialProps:e.initialProps,children:e.children})}function Ese(e){var t=e.initialProps,r=e.children,n=t.selected,a=n||{},i=a.from,o=a.to,l=t.min,c=t.max,u=function(p,y,m){var v,x;(v=t.onDayClick)===null||v===void 0||v.call(t,p,y,m);var b=Nse(p,n);(x=t.onSelect)===null||x===void 0||x.call(t,b,p,y,m)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],o?(d.range_end=[o],on(i,o)||(d.range_middle=[{after:i,before:o}])):d.range_end=[i]):o&&(d.range_start=[o],d.range_end=[o]),l&&(i&&!o&&d.disabled.push({after:ky(i,l-1),before:jn(i,l-1)}),i&&o&&d.disabled.push({after:i,before:jn(i,l-1)}),!i&&o&&d.disabled.push({after:ky(o,l-1),before:jn(o,l-1)})),c){if(i&&!o&&(d.disabled.push({before:jn(i,-c+1)}),d.disabled.push({after:jn(i,c-1)})),i&&o){var f=ys(o,i)+1,h=c-f;d.disabled.push({before:ky(i,h)}),d.disabled.push({after:jn(o,h)})}!i&&o&&(d.disabled.push({before:jn(o,-c+1)}),d.disabled.push({after:jn(o,c-1)}))}return s.jsx(kP.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function TP(){var e=g.useContext(kP);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Ty(e){return Array.isArray(e)?$q([],e):e!==void 0?[e]:[]}function Pse(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],a=r[1];t[n]=Ty(a)}),t}var Es;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Es||(Es={}));var Ose=Es.Selected,co=Es.Disabled,Ase=Es.Hidden,kse=Es.Today,Jj=Es.RangeEnd,Zj=Es.RangeMiddle,eS=Es.RangeStart,Tse=Es.Outside;function Dse(e,t,r){var n,a=(n={},n[Ose]=Ty(e.selected),n[co]=Ty(e.disabled),n[Ase]=Ty(e.hidden),n[kse]=[e.today],n[Jj]=[],n[Zj]=[],n[eS]=[],n[Tse]=[],n);return e.fromDate&&a[co].push({before:e.fromDate}),e.toDate&&a[co].push({after:e.toDate}),yv(e)?a[co]=a[co].concat(t.modifiers[co]):xv(e)&&(a[co]=a[co].concat(r.modifiers[co]),a[eS]=r.modifiers[eS],a[Zj]=r.modifiers[Zj],a[Jj]=r.modifiers[Jj]),a}var qq=g.createContext(void 0);function Ise(e){var t=Xr(),r=AP(),n=TP(),a=Dse(t,r,n),i=Pse(t.modifiers),o=Nt(Nt({},a),i);return s.jsx(qq.Provider,{value:o,children:e.children})}function Uq(){var e=g.useContext(qq);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function Rse(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function $se(e){return!!(e&&typeof e=="object"&&"from"in e)}function Mse(e){return!!(e&&typeof e=="object"&&"after"in e)}function Lse(e){return!!(e&&typeof e=="object"&&"before"in e)}function Fse(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Bse(e,t){var r,n=t.from,a=t.to;if(n&&a){var i=ys(a,n)<0;i&&(r=[a,n],n=r[0],a=r[1]);var o=ys(e,n)>=0&&ys(a,e)>=0;return o}return a?on(a,e):n?on(n,e):!1}function qse(e){return jP(e)}function Use(e){return Array.isArray(e)&&e.every(jP)}function zse(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(qse(r))return on(e,r);if(Use(r))return r.includes(e);if($se(r))return Bse(e,r);if(Fse(r))return r.dayOfWeek.includes(e.getDay());if(Rse(r)){var n=ys(r.before,e),a=ys(r.after,e),i=n>0,o=a<0,l=Zl(r.before,r.after);return l?o&&i:i||o}return Mse(r)?ys(e,r.after)>0:Lse(r)?ys(r.before,e)>0:typeof r=="function"?r(e):!1})}function DP(e,t,r){var n=Object.keys(t).reduce(function(i,o){var l=t[o];return zse(e,l)&&i.push(o),i},[]),a={};return n.forEach(function(i){return a[i]=!0}),r&&!NP(e,r)&&(a.outside=!0),a}function Wse(e,t){for(var r=Ha(e[0]),n=SP(e[e.length-1]),a,i,o=r;o<=n;){var l=DP(o,t),c=!l.disabled&&!l.hidden;if(!c){o=jn(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),a||(a=o),o=jn(o,1)}return i||a}var Vse=365;function zq(e,t){var r=t.moveBy,n=t.direction,a=t.context,i=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=a.weekStartsOn,u=a.fromDate,d=a.toDate,f=a.locale,h={day:jn,week:I1,month:Va,year:Dne,startOfWeek:function(v){return a.ISOWeek?Pu(v):Zs(v,{locale:f,weekStartsOn:c})},endOfWeek:function(v){return a.ISOWeek?xq(v):_P(v,{locale:f,weekStartsOn:c})}},p=h[r](e,n==="after"?1:-1);n==="before"&&u?p=Ine([u,p]):n==="after"&&d&&(p=Rne([d,p]));var y=!0;if(i){var m=DP(p,i);y=!m.disabled&&!m.hidden}return y?p:l.count>Vse?l.lastFocused:zq(p,{moveBy:r,direction:n,context:a,modifiers:i,retry:Nt(Nt({},l),{count:l.count+1})})}var Wq=g.createContext(void 0);function Hse(e){var t=bv(),r=Uq(),n=g.useState(),a=n[0],i=n[1],o=g.useState(),l=o[0],c=o[1],u=Wse(t.displayMonths,r),d=a??(l&&t.isDateDisplayed(l))?l:u,f=function(){c(a),i(void 0)},h=function(v){i(v)},p=Xr(),y=function(v,x){if(a){var b=zq(a,{moveBy:v,direction:x,context:p,modifiers:r});on(a,b)||(t.goToDate(b,a),h(b))}},m={focusedDay:a,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return y("day","after")},focusDayBefore:function(){return y("day","before")},focusWeekAfter:function(){return y("week","after")},focusWeekBefore:function(){return y("week","before")},focusMonthBefore:function(){return y("month","before")},focusMonthAfter:function(){return y("month","after")},focusYearBefore:function(){return y("year","before")},focusYearAfter:function(){return y("year","after")},focusStartOfWeek:function(){return y("startOfWeek","before")},focusEndOfWeek:function(){return y("endOfWeek","after")}};return s.jsx(Wq.Provider,{value:m,children:e.children})}function IP(){var e=g.useContext(Wq);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function Gse(e,t){var r=Uq(),n=DP(e,r,t);return n}var RP=g.createContext(void 0);function Kse(e){if(!j0(e.initialProps)){var t={selected:void 0};return s.jsx(RP.Provider,{value:t,children:e.children})}return s.jsx(Yse,{initialProps:e.initialProps,children:e.children})}function Yse(e){var t=e.initialProps,r=e.children,n=function(i,o,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,o,l),o.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,i,o,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,i,i,o,l)},a={selected:t.selected,onDayClick:n};return s.jsx(RP.Provider,{value:a,children:r})}function Vq(){var e=g.useContext(RP);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Xse(e,t){var r=Xr(),n=Vq(),a=AP(),i=TP(),o=IP(),l=o.focusDayAfter,c=o.focusDayBefore,u=o.focusWeekAfter,d=o.focusWeekBefore,f=o.blur,h=o.focus,p=o.focusMonthBefore,y=o.focusMonthAfter,m=o.focusYearBefore,v=o.focusYearAfter,x=o.focusStartOfWeek,b=o.focusEndOfWeek,w=function($){var D,T,H,re;j0(r)?(D=n.onDayClick)===null||D===void 0||D.call(n,e,t,$):yv(r)?(T=a.onDayClick)===null||T===void 0||T.call(a,e,t,$):xv(r)?(H=i.onDayClick)===null||H===void 0||H.call(i,e,t,$):(re=r.onDayClick)===null||re===void 0||re.call(r,e,t,$)},j=function($){var D;h(e),(D=r.onDayFocus)===null||D===void 0||D.call(r,e,t,$)},S=function($){var D;f(),(D=r.onDayBlur)===null||D===void 0||D.call(r,e,t,$)},_=function($){var D;(D=r.onDayMouseEnter)===null||D===void 0||D.call(r,e,t,$)},N=function($){var D;(D=r.onDayMouseLeave)===null||D===void 0||D.call(r,e,t,$)},C=function($){var D;(D=r.onDayPointerEnter)===null||D===void 0||D.call(r,e,t,$)},E=function($){var D;(D=r.onDayPointerLeave)===null||D===void 0||D.call(r,e,t,$)},A=function($){var D;(D=r.onDayTouchCancel)===null||D===void 0||D.call(r,e,t,$)},O=function($){var D;(D=r.onDayTouchEnd)===null||D===void 0||D.call(r,e,t,$)},P=function($){var D;(D=r.onDayTouchMove)===null||D===void 0||D.call(r,e,t,$)},k=function($){var D;(D=r.onDayTouchStart)===null||D===void 0||D.call(r,e,t,$)},I=function($){var D;(D=r.onDayKeyUp)===null||D===void 0||D.call(r,e,t,$)},M=function($){var D;switch($.key){case"ArrowLeft":$.preventDefault(),$.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":$.preventDefault(),$.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":$.preventDefault(),$.stopPropagation(),u();break;case"ArrowUp":$.preventDefault(),$.stopPropagation(),d();break;case"PageUp":$.preventDefault(),$.stopPropagation(),$.shiftKey?m():p();break;case"PageDown":$.preventDefault(),$.stopPropagation(),$.shiftKey?v():y();break;case"Home":$.preventDefault(),$.stopPropagation(),x();break;case"End":$.preventDefault(),$.stopPropagation(),b();break}(D=r.onDayKeyDown)===null||D===void 0||D.call(r,e,t,$)},L={onClick:w,onFocus:j,onBlur:S,onKeyDown:M,onKeyUp:I,onMouseEnter:_,onMouseLeave:N,onPointerEnter:C,onPointerLeave:E,onTouchCancel:A,onTouchEnd:O,onTouchMove:P,onTouchStart:k};return L}function Qse(){var e=Xr(),t=Vq(),r=AP(),n=TP(),a=j0(e)?t.selected:yv(e)?r.selected:xv(e)?n.selected:void 0;return a}function Jse(e){return Object.values(Es).includes(e)}function Zse(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var a=e.modifiersClassNames[n];if(a)r.push(a);else if(Jse(n)){var i=e.classNames["day_".concat(n)];i&&r.push(i)}}),r}function eoe(e,t){var r=Nt({},e.styles.day);return Object.keys(t).forEach(function(n){var a;r=Nt(Nt({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function toe(e,t,r){var n,a,i,o=Xr(),l=IP(),c=Gse(e,t),u=Xse(e,c),d=Qse(),f=!!(o.onDayClick||o.mode!=="default");g.useEffect(function(){var _;c.outside||l.focusedDay&&f&&on(l.focusedDay,e)&&((_=r.current)===null||_===void 0||_.focus())},[l.focusedDay,e,r,f,c.outside]);var h=Zse(o,c).join(" "),p=eoe(o,c),y=!!(c.outside&&!o.showOutsideDays||c.hidden),m=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:jse,v=s.jsx(m,{date:e,displayMonth:t,activeModifiers:c}),x={style:p,className:h,children:v,role:"gridcell"},b=l.focusTarget&&on(l.focusTarget,e)&&!c.outside,w=l.focusedDay&&on(l.focusedDay,e),j=Nt(Nt(Nt({},x),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=w||b?0:-1,n)),u),S={isButton:f,isHidden:y,activeModifiers:c,selectedDays:d,buttonProps:j,divProps:x};return S}function roe(e){var t=g.useRef(null),r=toe(e.date,e.displayMonth,t);return r.isHidden?s.jsx("div",{role:"gridcell"}):r.isButton?s.jsx(jx,Nt({name:"day",ref:t},r.buttonProps)):s.jsx("div",Nt({},r.divProps))}function noe(e){var t=e.number,r=e.dates,n=Xr(),a=n.onWeekNumberClick,i=n.styles,o=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!a)return s.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:d});var f=c(Number(t),{locale:l}),h=function(p){a(t,r,p)};return s.jsx(jx,{name:"week-number","aria-label":f,className:o.weeknumber,style:i.weeknumber,onClick:h,children:d})}function aoe(e){var t,r,n=Xr(),a=n.styles,i=n.classNames,o=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:roe,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:noe,d;return o&&(d=s.jsx("td",{className:i.cell,style:a.cell,children:s.jsx(u,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:i.row,style:a.row,children:[d,e.dates.map(function(f){return s.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:s.jsx(c,{displayMonth:e.displayMonth,date:f})},Iae(f))})]})}function TT(e,t,r){for(var n=r!=null&&r.ISOWeek?xq(t):_P(t,r),a=r!=null&&r.ISOWeek?Pu(e):Zs(e,r),i=ys(n,a),o=[],l=0;l<=i;l++)o.push(jn(a,l));var c=o.reduce(function(u,d){var f=r!=null&&r.ISOWeek?jq(d):_q(d,r),h=u.find(function(p){return p.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function ioe(e,t){var r=TT(Ha(e),SP(e),t);if(t!=null&&t.useFixedWeeks){var n=$ae(e,t);if(n<6){var a=r[r.length-1],i=a.dates[a.dates.length-1],o=I1(i,6-n),l=TT(I1(i,1),o,t);r.push.apply(r,l)}}return r}function soe(e){var t,r,n,a=Xr(),i=a.locale,o=a.classNames,l=a.styles,c=a.hideHead,u=a.fixedWeeks,d=a.components,f=a.weekStartsOn,h=a.firstWeekContainsDate,p=a.ISOWeek,y=ioe(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:p,locale:i,weekStartsOn:f,firstWeekContainsDate:h}),m=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:wse,v=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:aoe,x=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:yse;return s.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&s.jsx(m,{}),s.jsx("tbody",{className:o.tbody,style:l.tbody,children:y.map(function(b){return s.jsx(v,{displayMonth:e.displayMonth,dates:b.dates,weekNumber:b.weekNumber},b.weekNumber)})}),s.jsx(x,{displayMonth:e.displayMonth})]})}function ooe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var loe=ooe()?g.useLayoutEffect:g.useEffect,tS=!1,coe=0;function DT(){return"react-day-picker-".concat(++coe)}function uoe(e){var t,r=e??(tS?DT():null),n=g.useState(r),a=n[0],i=n[1];return loe(function(){a===null&&i(DT())},[]),g.useEffect(function(){tS===!1&&(tS=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function doe(e){var t,r,n=Xr(),a=n.dir,i=n.classNames,o=n.styles,l=n.components,c=bv().displayMonths,u=uoe(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,f=[i.month],h=o.month,p=e.displayIndex===0,y=e.displayIndex===c.length-1,m=!p&&!y;a==="rtl"&&(t=[p,y],y=t[0],p=t[1]),p&&(f.push(i.caption_start),h=Nt(Nt({},h),o.caption_start)),y&&(f.push(i.caption_end),h=Nt(Nt({},h),o.caption_end)),m&&(f.push(i.caption_between),h=Nt(Nt({},h),o.caption_between));var v=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:gse;return s.jsxs("div",{className:f.join(" "),style:h,children:[s.jsx(v,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(soe,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function foe(e){var t=Xr(),r=t.classNames,n=t.styles;return s.jsx("div",{className:r.months,style:n.months,children:e.children})}function hoe(e){var t,r,n=e.initialProps,a=Xr(),i=IP(),o=bv(),l=g.useState(!1),c=l[0],u=l[1];g.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),u(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var d=[a.classNames.root,a.className];a.numberOfMonths>1&&d.push(a.classNames.multiple_months),a.showWeekNumber&&d.push(a.classNames.with_weeknumber);var f=Nt(Nt({},a.styles.root),a.style),h=Object.keys(n).filter(function(y){return y.startsWith("data-")}).reduce(function(y,m){var v;return Nt(Nt({},y),(v={},v[m]=n[m],v))},{}),p=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:foe;return s.jsx("div",Nt({className:d.join(" "),style:f,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:s.jsx(p,{children:o.displayMonths.map(function(y,m){return s.jsx(doe,{displayIndex:m,displayMonth:y},m)})})}))}function poe(e){var t=e.children,r=Lie(e,["children"]);return s.jsx(nse,{initialProps:r,children:s.jsx(hse,{children:s.jsx(Kse,{initialProps:r,children:s.jsx(Sse,{initialProps:r,children:s.jsx(Cse,{initialProps:r,children:s.jsx(Ise,{children:s.jsx(Hse,{children:t})})})})})})})}function moe(e){return s.jsx(poe,Nt({},e,{children:s.jsx(hoe,{initialProps:e})}))}function qo({className:e,classNames:t,showOutsideDays:r=!0,...n}){return s.jsx(moe,{showOutsideDays:r,className:Ee("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Ee(y1({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Ee(y1({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>s.jsx(Y4,{className:"h-4 w-4"}),IconRight:({...a})=>s.jsx(X4,{className:"h-4 w-4"})},...n})}qo.displayName="Calendar";var S0="Popover",[Hq]=Xa(S0,[nh]),wv=nh(),[voe,hc]=Hq(S0),Gq=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=wv(t),c=g.useRef(null),[u,d]=g.useState(!1),[f,h]=Lo({prop:n,defaultProp:a??!1,onChange:i,caller:S0});return s.jsx(F3,{...l,children:s.jsx(voe,{scope:t,contentId:Oo(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:g.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:u,onCustomAnchorAdd:g.useCallback(()=>d(!0),[]),onCustomAnchorRemove:g.useCallback(()=>d(!1),[]),modal:o,children:r})})};Gq.displayName=S0;var Kq="PopoverAnchor",goe=g.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=hc(Kq,r),i=wv(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return g.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(l0,{...i,...n,ref:t})});goe.displayName=Kq;var Yq="PopoverTrigger",Xq=g.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=hc(Yq,r),i=wv(r),o=Yt(t,a.triggerRef),l=s.jsx(Ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":t6(a.open),...n,ref:o,onClick:He(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(l0,{asChild:!0,...i,children:l})});Xq.displayName=Yq;var $P="PopoverPortal",[yoe,xoe]=Hq($P,{forceMount:void 0}),Qq=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=hc($P,t);return s.jsx(yoe,{scope:t,forceMount:r,children:s.jsx(Qa,{present:r||i.open,children:s.jsx(dv,{asChild:!0,container:a,children:n})})})};Qq.displayName=$P;var bf="PopoverContent",Jq=g.forwardRef((e,t)=>{const r=xoe(bf,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=hc(bf,e.__scopePopover);return s.jsx(Qa,{present:n||i.open,children:i.modal?s.jsx(woe,{...a,ref:t}):s.jsx(joe,{...a,ref:t})})});Jq.displayName=bf;var boe=wu("PopoverContent.RemoveScroll"),woe=g.forwardRef((e,t)=>{const r=hc(bf,e.__scopePopover),n=g.useRef(null),a=Yt(t,n),i=g.useRef(!1);return g.useEffect(()=>{const o=n.current;if(o)return hP(o)},[]),s.jsx(v0,{as:boe,allowPinchZoom:!0,children:s.jsx(Zq,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:He(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:He(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:He(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),joe=g.forwardRef((e,t)=>{const r=hc(bf,e.__scopePopover),n=g.useRef(!1),a=g.useRef(!1);return s.jsx(Zq,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),Zq=g.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=hc(bf,r),p=wv(r);return fP(),s.jsx(p0,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Zf,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:s.jsx(WE,{"data-state":t6(h.open),role:"dialog",id:h.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),e6="PopoverClose",Soe=g.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=hc(e6,r);return s.jsx(Ze.button,{type:"button",...n,ref:t,onClick:He(e.onClick,()=>a.onOpenChange(!1))})});Soe.displayName=e6;var _oe="PopoverArrow",Noe=g.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=wv(r);return s.jsx(VE,{...a,...n,ref:t})});Noe.displayName=_oe;function t6(e){return e?"open":"closed"}var Coe=Gq,Eoe=Xq,Poe=Qq,r6=Jq;const tc=Coe,rc=Eoe,Uo=g.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(Poe,{children:s.jsx(r6,{ref:a,align:t,sideOffset:r,className:Ee("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Uo.displayName=r6.displayName;const Ga=g.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:Ee("w-full caption-bottom text-sm",e),...t})}));Ga.displayName="Table";const Ka=g.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:Ee("[&_tr]:border-b",e),...t}));Ka.displayName="TableHeader";const Ya=g.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:Ee("[&_tr:last-child]:border-0",e),...t}));Ya.displayName="TableBody";const Ooe=g.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:Ee("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Ooe.displayName="TableFooter";const ur=g.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:Ee("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));ur.displayName="TableRow";const yt=g.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:Ee("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));yt.displayName="TableHead";const rt=g.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:Ee("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));rt.displayName="TableCell";const Aoe=g.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:Ee("mt-4 text-sm text-muted-foreground",e),...t}));Aoe.displayName="TableCaption";const ti=ke;function koe(){const[e,t]=g.useState(""),[r,n]=g.useState(!1),[a,i]=g.useState(!1),[o,l]=g.useState(null),[c,u]=g.useState({todaySales:0,todayOrders:0,pendingOrders:0}),[d,f]=g.useState({totalStores:0,totalUsers:0}),[h,p]=g.useState(null),{profile:y,user:m,isAdmin:v}=Gt(),{toast:x}=dr(),b=Xi(),[w,j]=g.useState(!1),[S,_]=g.useState([]),[N,C]=g.useState([]),[E,A]=g.useState(null),[O,P]=g.useState([]),[k,I]=g.useState({from:void 0,to:void 0}),[M,L]=g.useState([]),[$,D]=g.useState(!1),[T,H]=g.useState(null);g.useEffect(()=>{v?re():y!=null&&y.store_id&&(J(),le(),te(),Z())},[y,v]),g.useEffect(()=>{y!=null&&y.store_id&&te()},[k,y==null?void 0:y.store_id]);const re=async()=>{const{count:X,error:ee}=await ti.from("stores").select("*",{count:"exact",head:!0});ee&&(console.error("Erro ao carregar lojas:",ee.message),x({variant:"destructive",title:"Erro ao carregar lojas",description:ee.message}));const{count:xe,error:he}=await ti.from("profiles").select("*",{count:"exact",head:!0});he&&(console.error("Erro ao carregar usurios:",he.message),x({variant:"destructive",title:"Erro ao carregar usurios",description:he.message})),f({totalStores:X||0,totalUsers:xe||0})},J=async()=>{const{data:X}=await ti.from("cash_register").select("*").eq("store_id",y.store_id).is("closed_at",null).order("opened_at",{ascending:!1}).limit(1).maybeSingle();l(X)},le=async()=>{const X=new Date().toISOString().split("T")[0],{data:ee}=await ti.from("orders").select("total, status").eq("store_id",y.store_id).gte("created_at",X);ee&&u({todaySales:ee.reduce((xe,he)=>xe+parseFloat(he.total.toString()),0),todayOrders:ee.length,pendingOrders:ee.filter(xe=>xe.status==="pending"||xe.status==="preparing").length})},te=async()=>{if(!(y!=null&&y.store_id))return;let X=ti.from("orders").select(`
        id,
        order_number,
        status,
        total,
        created_at,
        payment_method,
        delivery,
        customers (
          name,
          phone
        ),
        order_items (
          product_name,
          quantity,
          variation_name,
          product_price,
          subtotal
        )
      `).eq("store_id",y.store_id).order("created_at",{ascending:!1});k!=null&&k.from&&(X=X.gte("created_at",Be(k.from,"yyyy-MM-dd"))),k!=null&&k.to&&(X=X.lte("created_at",Be(jn(k.to,1),"yyyy-MM-dd")));const{data:ee,error:xe}=await X;xe?x({variant:"destructive",title:"Erro ao carregar todos os pedidos",description:xe.message}):P(ee||[])},Z=async()=>{if(!(y!=null&&y.store_id))return;const{data:X,error:ee}=await ti.from("cash_register").select("*").eq("store_id",y.store_id).order("opened_at",{ascending:!1});ee?x({variant:"destructive",title:"Erro ao carregar histrico de caixas",description:ee.message}):L(X||[])},we=async X=>{X.preventDefault();const{data:ee,error:xe}=await ti.from("cash_register").insert({store_id:y.store_id,opened_by:m==null?void 0:m.id,initial_amount:parseFloat(e)}).select().single();xe?x({variant:"destructive",title:"Erro ao abrir caixa",description:xe.message}):(x({title:"Caixa aberto com sucesso!"}),t(""),n(!1),A(ee.id),await oe(),j(!0))},oe=async()=>{if(!(y!=null&&y.store_id))return;const{data:X,error:ee}=await ti.from("orders").select(`
        id,
        order_number,
        customer_name,
        created_at,
        pickup_time,
        reservation_date,
        customers (
          name
        )
      `).eq("store_id",y.store_id).is("cash_register_id",null).neq("status","delivered").neq("status","cancelled").order("created_at",{ascending:!1});ee?(console.error("Erro ao carregar reservas disponveis:",ee),x({variant:"destructive",title:"Erro ao carregar reservas",description:ee.message})):_(X||[])},q=async()=>{if(!E||N.length===0){j(!1),J(),Z();return}const{error:X}=await ti.from("orders").update({cash_register_id:E}).in("id",N);X?(console.error("Erro ao associar reservas ao caixa:",X.message),x({variant:"destructive",title:"Erro ao associar reservas",description:X.message})):x({title:"Reservas associadas!",description:`${N.length} reserva(s) foram vinculadas ao caixa.`}),j(!1),C([]),A(null),J(),Z()},U=X=>{C(ee=>ee.includes(X)?ee.filter(xe=>xe!==X):[...ee,X])},ae=async X=>{const{data:ee,error:xe}=await ti.from("orders").select("id, payment_method, total, status, source, order_items (product_name, quantity, variation_name, product_price, subtotal)").eq("cash_register_id",X.id);if(xe)return x({variant:"destructive",title:"Erro ao carregar pedidos do caixa",description:xe.message}),null;const he={dinheiro:0,pix:0,crdito:0,dbito:0},Ae=new Map;let Ce=0,Ct=0;const ht=["dinheiro","pix","crdito","dbito"],Ft=new Map;ee==null||ee.forEach(nt=>{var Ye;if(nt.status==="cancelled")return;const zt=nt.source||"presencial";Ae.set(zt,(Ae.get(zt)||0)+1);const yr=parseFloat(nt.total.toString());Ct+=yr;const or=nt.payment_method?nt.payment_method.toLowerCase():"";if(or.includes("fidelidade")&&Ce++,yr>0){const Rr=ht.find(rr=>or.includes(rr));Rr&&(he[Rr]+=yr)}(Ye=nt.order_items)==null||Ye.forEach(Rr=>{const rr=Rr.variation_name?`${Rr.product_name} (${Rr.variation_name})`:Rr.product_name;Ft.set(rr,(Ft.get(rr)||0)+Rr.quantity)})});const _r=Array.from(Ft.entries()).map(([nt,zt])=>({name:nt,quantity:zt})),Me={dinheiro:"Dinheiro",pix:"PIX",crdito:"Crdito",dbito:"Dbito"},jr=ht.map(nt=>({method:Me[nt],total:he[nt]||0})).filter(nt=>nt.total>0),rn={totem:"Totem",whatsapp:"WhatsApp",loja_online:"Loja Online",presencial:"Presencial",ifood:"Ifood"},jt=Array.from(Ae.entries()).map(([nt,zt])=>({source:rn[nt]||nt,count:zt}));return{productsSold:_r,paymentMethodTotals:jr,totalSales:Ct,initialAmount:X.initial_amount,loyaltyOrdersCount:Ce,openedAt:X.opened_at,closedAt:X.closed_at||void 0,finalAmount:X.final_amount||void 0,ordersBySource:jt}},z=async()=>{if(!o)return;const X=await ae(o);X&&(p(X),i(!0))},W=async()=>{if(!o||!h)return;const X=o.id;try{const{error:ee}=await ti.from("cash_register").update({closed_at:new Date().toISOString(),final_amount:h.totalSales}).eq("id",X);if(ee)throw ee;const{data:xe,error:he}=await ti.from("orders").select("id").eq("cash_register_id",X).neq("status","cancelled");if(he)throw he;if(xe&&xe.length>0){const Ae=xe.map(Ct=>Ct.id),{error:Ce}=await ti.from("orders").update({status:"delivered"}).in("id",Ae);if(Ce)throw Ce}x({title:"Caixa fechado com sucesso!",description:"Todos os pedidos associados foram marcados como entregues."}),i(!1),J(),le(),te(),Z()}catch(ee){console.error("Erro ao fechar caixa:",ee),x({variant:"destructive",title:"Erro ao fechar caixa",description:ee.message||"Ocorreu um erro ao fechar o caixa."})}},ge=async X=>{const ee=await ae(X);ee&&(H(ee),D(!0))},me=X=>{const ee=[];ee.push("Tipo,Nome,Quantidade/Valor"),ee.push("Resumo do Caixa"),ee.push(`Data de Abertura,${Be(Er(X.openedAt),"dd/MM/yyyy HH:mm",{locale:Tt})}`),X.closedAt&&ee.push(`Data de Fechamento,${Be(Er(X.closedAt),"dd/MM/yyyy HH:mm",{locale:Tt})}`),ee.push(`Valor Inicial,R$ ${X.initialAmount.toFixed(2)}`),ee.push(`Total,R$ ${X.totalSales.toFixed(2)}`),X.finalAmount!==void 0&&ee.push(`Valor Final Estimado,R$ ${(X.initialAmount+X.totalSales).toFixed(2)}`),ee.push(`Pedidos com Resgate de Pontos,${X.loyaltyOrdersCount}`),ee.push(""),ee.push("Pedidos por Canal"),X.ordersBySource.forEach(Ce=>{ee.push(`${Ce.source},${Ce.count}`)}),ee.push(""),ee.push("Vendas por Forma de Pagamento"),X.paymentMethodTotals.forEach(Ce=>{ee.push(`${Ce.method},R$ ${Ce.total.toFixed(2)}`)}),ee.push(""),ee.push("Produtos Vendidos"),X.productsSold.forEach(Ce=>{ee.push(`${Ce.name},${Ce.quantity} unidades`)});const xe=ee.map(Ce=>Ce.includes(",")?`"${Ce.replace(/"/g,'""')}"`:Ce).join(`
`),he=new Blob([xe],{type:"text/csv;charset=utf-8;"}),Ae=document.createElement("a");if(Ae.download!==void 0){const Ce=URL.createObjectURL(he);Ae.setAttribute("href",Ce),Ae.setAttribute("download",`resumo_caixa_${Be(Er(X.openedAt),"yyyyMMdd_HHmm")}.csv`),Ae.style.visibility="hidden",document.body.appendChild(Ae),Ae.click(),document.body.removeChild(Ae),x({title:"Exportao concluda!",description:"Resumo do caixa exportado para CSV."})}},be=O.reduce((X,ee)=>{const xe=Be(Er(ee.created_at),"dd/MM/yyyy",{locale:Tt});return X[xe]||(X[xe]=[]),X[xe].push(ee),X},{});return s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Dashboard"}),s.jsx("p",{className:"text-muted-foreground",children:v?"Viso geral do sistema":"Resumo das vendas"})]}),!v&&s.jsx("div",{className:"flex gap-2",children:o?s.jsxs(s.Fragment,{children:[s.jsxs(B,{onClick:()=>b("/pdv"),children:[s.jsx(uu,{className:"h-4 w-4 mr-2"}),"Ir para PDV"]}),s.jsxs(B,{variant:"destructive",onClick:z,children:[s.jsx(Fi,{className:"h-4 w-4 mr-2"}),"Fechar Caixa"]})]}):s.jsxs(St,{open:r,onOpenChange:n,children:[s.jsx(Ki,{asChild:!0,children:s.jsxs(B,{children:[s.jsx(Fi,{className:"h-4 w-4 mr-2"}),"Abrir Caixa"]})}),s.jsxs(xt,{children:[s.jsx(bt,{children:s.jsx(wt,{children:"Abrir Caixa"})}),s.jsxs("form",{onSubmit:we,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"initialAmount",children:"Valor Inicial (R$)"}),s.jsx(ne,{id:"initialAmount",type:"number",step:"0.01",value:e,onChange:X=>t(X.target.value),placeholder:"0.00",required:!0})]}),s.jsx(B,{type:"submit",className:"w-full",children:"Abrir Caixa"})]})]})]})})]}),v?s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs(ve,{className:"shadow-soft hover:shadow-glow transition-shadow",children:[s.jsxs(je,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(Se,{className:"text-sm font-medium text-muted-foreground",children:"Lojas Cadastradas"}),s.jsx(Su,{className:"h-5 w-5 text-primary"})]}),s.jsx(ye,{children:s.jsx("div",{className:"text-2xl font-bold text-foreground",children:d.totalStores})})]}),s.jsxs(ve,{className:"shadow-soft hover:shadow-glow transition-shadow",children:[s.jsxs(je,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(Se,{className:"text-sm font-medium text-muted-foreground",children:"Usurios Cadastrados"}),s.jsx(pv,{className:"h-5 w-5 text-primary"})]}),s.jsx(ye,{children:s.jsx("div",{className:"text-2xl font-bold text-foreground",children:d.totalUsers})})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[s.jsxs(ve,{className:"shadow-soft hover:shadow-glow transition-shadow",children:[s.jsxs(je,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(Se,{className:"text-sm font-medium text-muted-foreground",children:"Vendas Hoje"}),s.jsx(Fi,{className:"h-5 w-5 text-primary"})]}),s.jsx(ye,{children:s.jsxs("div",{className:"text-2xl font-bold text-foreground",children:["R$ ",c.todaySales.toFixed(2)]})})]}),s.jsxs(ve,{className:"shadow-soft hover:shadow-glow transition-shadow",children:[s.jsxs(je,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(Se,{className:"text-sm font-medium text-muted-foreground",children:"Pedidos Hoje"}),s.jsx(uu,{className:"h-5 w-5 text-primary"})]}),s.jsx(ye,{children:s.jsx("div",{className:"text-2xl font-bold text-foreground",children:c.todayOrders})})]}),s.jsxs(ve,{className:"shadow-soft hover:shadow-glow transition-shadow",children:[s.jsxs(je,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(Se,{className:"text-sm font-medium text-muted-foreground",children:"Pedidos Pendentes"}),s.jsx(Bu,{className:"h-5 w-5 text-primary"})]}),s.jsx(ye,{children:s.jsx("div",{className:"text-2xl font-bold text-foreground",children:c.pendingOrders})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(ve,{className:"shadow-soft",children:[s.jsxs(je,{className:"flex flex-row items-center justify-between",children:[s.jsxs(Se,{className:"flex items-center gap-2",children:[s.jsx(BK,{className:"h-5 w-5"}),"Todos os Pedidos"]}),s.jsxs(tc,{children:[s.jsx(rc,{asChild:!0,children:s.jsxs(B,{id:"date",variant:"outline",className:Ee("w-[240px] justify-start text-left font-normal",!(k!=null&&k.from)&&"text-muted-foreground"),children:[s.jsx(Fl,{className:"mr-2 h-4 w-4"}),k!=null&&k.from?k.to?s.jsxs(s.Fragment,{children:[Be(k.from,"dd/MM/yyyy",{locale:Tt})," -"," ",Be(k.to,"dd/MM/yyyy",{locale:Tt})]}):Be(k.from,"dd/MM/yyyy",{locale:Tt}):s.jsx("span",{children:"Filtrar por data"})]})}),s.jsx(Uo,{className:"w-auto p-0",align:"end",children:s.jsx(qo,{initialFocus:!0,mode:"range",defaultMonth:k==null?void 0:k.from,selected:k,onSelect:I,numberOfMonths:2,locale:Tt})})]})]}),s.jsx(ye,{children:s.jsx(du,{className:"h-[400px] pr-4",children:Object.keys(be).length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Nenhum pedido encontrado para o perodo."}):Object.keys(be).map(X=>s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3 border-b pb-2",children:X}),s.jsx("div",{className:"space-y-3",children:be[X].map(ee=>{var xe;return s.jsx(ve,{className:"p-3 shadow-sm",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:["#",ee.order_number]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:((xe=ee.customers)==null?void 0:xe.name)||"Cliente Annimo"})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-bold text-primary",children:["R$ ",ee.total.toFixed(2)]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:ee.status})]})]})},ee.id)})})]},X))})})]}),s.jsxs(ve,{className:"shadow-soft",children:[s.jsxs(je,{children:[s.jsxs(Se,{className:"flex items-center gap-2",children:[s.jsx(DK,{className:"h-5 w-5"}),"Histrico de Caixas"]}),s.jsx(Jt,{children:"Visualize o histrico de abertura e fechamento de caixas."})]}),s.jsx(ye,{children:s.jsx(du,{className:"h-[400px] pr-4",children:M.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Nenhum caixa registrado."}):s.jsx("div",{className:"space-y-3",children:M.map(X=>s.jsx(ve,{className:"p-3 shadow-sm",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:["Aberto em: ",Be(Er(X.opened_at),"dd/MM/yyyy HH:mm",{locale:Tt})]}),X.closed_at?s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Fechado em: ",Be(Er(X.closed_at),"dd/MM/yyyy HH:mm",{locale:Tt})]}):s.jsx("p",{className:"text-sm text-yellow-600",children:"Aberto"})]}),s.jsx(B,{variant:"outline",size:"sm",onClick:()=>ge(X),children:s.jsx(TE,{className:"h-4 w-4"})})]})},X.id))})})})]})]})]}),s.jsx(St,{open:a,onOpenChange:i,children:s.jsxs(xt,{className:"sm:max-w-[425px]",children:[s.jsx(bt,{children:s.jsx(wt,{children:"Resumo de Fechamento de Caixa"})}),h?s.jsxs("div",{className:"space-y-4 py-4 max-h-[70vh] overflow-y-auto",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Pedidos por Canal:"}),h.ordersBySource.length>0?s.jsx("ul",{className:"list-disc pl-5 space-y-1 text-sm text-muted-foreground",children:h.ordersBySource.map((X,ee)=>s.jsxs("li",{children:[X.source,": ",X.count]},ee))}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum pedido registrado neste caixa."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Produtos Vendidos:"}),h.productsSold.length>0?s.jsx("ul",{className:"list-disc pl-5 space-y-1 text-sm text-muted-foreground",children:h.productsSold.map((X,ee)=>s.jsxs("li",{children:[X.name,": ",X.quantity," unidades"]},ee))}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum produto vendido neste caixa."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Vendas por Forma de Pagamento:"}),h.paymentMethodTotals.length>0?s.jsx("ul",{className:"list-disc pl-5 space-y-1 text-sm text-muted-foreground",children:h.paymentMethodTotals.map((X,ee)=>s.jsxs("li",{children:[X.method,": R$ ",X.total.toFixed(2)]},ee))}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhuma venda monetria registrada neste caixa."})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Pedidos Fidelidade:"}),s.jsx("ul",{className:"list-disc pl-5 space-y-1 text-sm text-muted-foreground",children:s.jsxs("li",{children:["Pedidos com Resgate de Pontos: ",s.jsx("span",{className:"font-medium text-primary",children:h.loyaltyOrdersCount})]})})]}),s.jsxs("div",{className:"border-t pt-4 space-y-2",children:[s.jsxs("div",{className:"flex justify-between font-medium",children:[s.jsx("span",{children:"Valor Inicial:"}),s.jsxs("span",{children:["R$ ",h.initialAmount.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between font-medium",children:[s.jsx("span",{children:"Total:"}),s.jsxs("span",{children:["R$ ",h.totalSales.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between font-bold text-lg text-primary",children:[s.jsx("span",{children:"Total Final Estimado:"}),s.jsxs("span",{children:["R$ ",(h.initialAmount+h.totalSales).toFixed(2)]})]})]})]}):s.jsx("p",{className:"text-center text-muted-foreground",children:"Carregando resumo..."}),s.jsxs(Lr,{children:[s.jsxs(B,{variant:"outline",onClick:()=>i(!1),children:[s.jsx(Yl,{className:"h-4 w-4 mr-2"}),"Cancelar"]}),s.jsxs(B,{variant:"destructive",onClick:W,children:[s.jsx(Fi,{className:"h-4 w-4 mr-2"}),"Confirmar Fechamento"]})]})]})}),s.jsx(St,{open:$,onOpenChange:D,children:s.jsxs(xt,{className:"sm:max-w-[425px]",children:[s.jsx(bt,{children:s.jsx(wt,{children:"Detalhes do Caixa"})}),T?s.jsxs("div",{className:"space-y-4 py-4 max-h-[70vh] overflow-y-auto",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[s.jsx("p",{className:"font-medium",children:"Aberto em:"}),s.jsx("p",{children:Be(Er(T.openedAt),"dd/MM/yyyy HH:mm",{locale:Tt})}),T.closedAt&&s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"font-medium",children:"Fechado em:"}),s.jsx("p",{children:Be(Er(T.closedAt),"dd/MM/yyyy HH:mm",{locale:Tt})})]}),s.jsx("p",{className:"font-medium",children:"Valor Inicial:"}),s.jsxs("p",{children:["R$ ",T.initialAmount.toFixed(2)]}),s.jsx("p",{className:"font-medium",children:"Total de Vendas:"}),s.jsxs("p",{children:["R$ ",T.totalSales.toFixed(2)]}),T.finalAmount!==void 0&&s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"font-medium",children:"Valor Final:"}),s.jsxs("p",{children:["R$ ",T.finalAmount.toFixed(2)]})]})]}),s.jsx("h3",{className:"text-lg font-semibold mt-4",children:"Pedidos por Canal:"}),T.ordersBySource.length>0?s.jsxs(Ga,{children:[s.jsx(Ka,{children:s.jsxs(ur,{children:[s.jsx(yt,{children:"Canal"}),s.jsx(yt,{className:"text-right",children:"Contagem"})]})}),s.jsx(Ya,{children:T.ordersBySource.map((X,ee)=>s.jsxs(ur,{children:[s.jsx(rt,{children:X.source}),s.jsx(rt,{className:"text-right",children:X.count})]},ee))})]}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum pedido registrado."}),s.jsx("h3",{className:"text-lg font-semibold mt-4",children:"Vendas por Forma de Pagamento:"}),T.paymentMethodTotals.length>0?s.jsxs(Ga,{children:[s.jsx(Ka,{children:s.jsxs(ur,{children:[s.jsx(yt,{children:"Mtodo"}),s.jsx(yt,{className:"text-right",children:"Valor"})]})}),s.jsx(Ya,{children:T.paymentMethodTotals.map((X,ee)=>s.jsxs(ur,{children:[s.jsx(rt,{children:X.method}),s.jsxs(rt,{className:"text-right",children:["R$ ",X.total.toFixed(2)]})]},ee))})]}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhuma venda monetria registrada."}),s.jsx("h3",{className:"text-lg font-semibold mt-4",children:"Produtos Vendidos:"}),T.productsSold.length>0?s.jsxs(Ga,{children:[s.jsx(Ka,{children:s.jsxs(ur,{children:[s.jsx(yt,{children:"Produto"}),s.jsx(yt,{className:"text-right",children:"Quantidade"})]})}),s.jsx(Ya,{children:T.productsSold.map((X,ee)=>s.jsxs(ur,{children:[s.jsx(rt,{children:X.name}),s.jsxs(rt,{className:"text-right",children:[X.quantity," unidades"]})]},ee))})]}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum produto vendido."})]}):s.jsx("p",{className:"text-center text-muted-foreground",children:"Carregando detalhes..."}),s.jsxs(Lr,{children:[s.jsx(B,{variant:"outline",onClick:()=>D(!1),children:"Fechar"}),T&&s.jsxs(B,{onClick:()=>me(T),children:[s.jsx(t0,{className:"h-4 w-4 mr-2"}),"Exportar CSV"]})]})]})}),s.jsx(St,{open:w,onOpenChange:j,children:s.jsxs(xt,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[s.jsx(bt,{children:s.jsx(wt,{children:"Selecionar Reservas"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Selecione quais reservas deseja vincular a este caixa:"}),S.length>0?s.jsx("div",{className:"space-y-2",children:S.map(X=>{var Ae;const ee=((Ae=X.customers)==null?void 0:Ae.name)||X.customer_name||"Cliente no identificado";let xe="Data no disponvel",he="Horrio no disponvel";try{if(X.reservation_date){const Ce=X.reservation_date.split("-");if(Ce.length===3){const[Ct,ht,Ft]=Ce;xe=`${Ft}/${ht}/${Ct}`}}else X.created_at&&(xe=Be(Er(X.created_at),"dd/MM/yyyy",{locale:Tt}));X.pickup_time?he=Be(Er(X.pickup_time),"HH:mm",{locale:Tt}):X.created_at&&(he=Be(Er(X.created_at),"HH:mm",{locale:Tt}))}catch(Ce){console.error("Erro ao formatar data:",Ce)}return s.jsx("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors cursor-pointer",onClick:()=>U(X.id),children:s.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[s.jsx(gi,{id:`reservation-${X.id}`,checked:N.includes(X.id),onCheckedChange:()=>U(X.id)}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:ee}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Pedido: ",X.order_number]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Data: ",xe,"  Horrio: ",he]})]})]})},X.id)})}):s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Nenhuma reserva disponvel para vincular."})]}),s.jsxs(Lr,{children:[s.jsx(B,{variant:"outline",onClick:()=>{j(!1),C([]),A(null),J(),Z()},children:"Pular"}),s.jsxs(B,{onClick:q,children:["Confirmar Seleo (",N.length,")"]})]})]})})]})}var Toe=[" ","Enter","ArrowUp","ArrowDown"],Doe=[" ","Enter"],Ou="Select",[_0,N0,Ioe]=_E(Ou),[uh]=Xa(Ou,[Ioe,nh]),C0=nh(),[Roe,pc]=uh(Ou),[$oe,Moe]=uh(Ou),n6=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:y}=e,m=C0(t),[v,x]=g.useState(null),[b,w]=g.useState(null),[j,S]=g.useState(!1),_=y0(u),[N,C]=Lo({prop:n,defaultProp:a??!1,onChange:i,caller:Ou}),[E,A]=Lo({prop:o,defaultProp:l,onChange:c,caller:Ou}),O=g.useRef(null),P=v?y||!!v.closest("form"):!0,[k,I]=g.useState(new Set),M=Array.from(k).map(L=>L.props.value).join(";");return s.jsx(F3,{...m,children:s.jsxs(Roe,{required:p,scope:t,trigger:v,onTriggerChange:x,valueNode:b,onValueNodeChange:w,valueNodeHasChildren:j,onValueNodeHasChildrenChange:S,contentId:Oo(),value:E,onValueChange:A,open:N,onOpenChange:C,dir:_,triggerPointerDownPosRef:O,disabled:h,children:[s.jsx(_0.Provider,{scope:t,children:s.jsx($oe,{scope:e.__scopeSelect,onNativeOptionAdd:g.useCallback(L=>{I($=>new Set($).add(L))},[]),onNativeOptionRemove:g.useCallback(L=>{I($=>{const D=new Set($);return D.delete(L),D})},[]),children:r})}),P?s.jsxs(E6,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:E,onChange:L=>A(L.target.value),disabled:h,form:y,children:[E===void 0?s.jsx("option",{value:""}):null,Array.from(k)]},M):null]})})};n6.displayName=Ou;var a6="SelectTrigger",i6=g.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=C0(r),o=pc(a6,r),l=o.disabled||n,c=Yt(t,o.onTriggerChange),u=N0(r),d=g.useRef("touch"),[f,h,p]=O6(m=>{const v=u().filter(w=>!w.disabled),x=v.find(w=>w.value===o.value),b=A6(v,m,x);b!==void 0&&o.onValueChange(b.value)}),y=m=>{l||(o.onOpenChange(!0),p()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return s.jsx(l0,{asChild:!0,...i,children:s.jsx(Ze.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":P6(o.value)?"":void 0,...a,ref:c,onClick:He(a.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&y(m)}),onPointerDown:He(a.onPointerDown,m=>{d.current=m.pointerType;const v=m.target;v.hasPointerCapture(m.pointerId)&&v.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(y(m),m.preventDefault())}),onKeyDown:He(a.onKeyDown,m=>{const v=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(v&&m.key===" ")&&Toe.includes(m.key)&&(y(),m.preventDefault())})})})});i6.displayName=a6;var s6="SelectValue",o6=g.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,c=pc(s6,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=Yt(t,c.onValueNodeChange);return Nn(()=>{u(d)},[u,d]),s.jsx(Ze.span,{...l,ref:f,style:{pointerEvents:"none"},children:P6(c.value)?s.jsx(s.Fragment,{children:o}):i})});o6.displayName=s6;var Loe="SelectIcon",l6=g.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(Ze.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});l6.displayName=Loe;var Foe="SelectPortal",c6=e=>s.jsx(dv,{asChild:!0,...e});c6.displayName=Foe;var Au="SelectContent",u6=g.forwardRef((e,t)=>{const r=pc(Au,e.__scopeSelect),[n,a]=g.useState();if(Nn(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?lc.createPortal(s.jsx(d6,{scope:e.__scopeSelect,children:s.jsx(_0.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(f6,{...e,ref:t})});u6.displayName=Au;var ss=10,[d6,mc]=uh(Au),Boe="SelectContentImpl",qoe=wu("SelectContent.RemoveScroll"),f6=g.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:y,hideWhenDetached:m,avoidCollisions:v,...x}=e,b=pc(Au,r),[w,j]=g.useState(null),[S,_]=g.useState(null),N=Yt(t,oe=>j(oe)),[C,E]=g.useState(null),[A,O]=g.useState(null),P=N0(r),[k,I]=g.useState(!1),M=g.useRef(!1);g.useEffect(()=>{if(w)return hP(w)},[w]),fP();const L=g.useCallback(oe=>{const[q,...U]=P().map(W=>W.ref.current),[ae]=U.slice(-1),z=document.activeElement;for(const W of oe)if(W===z||(W==null||W.scrollIntoView({block:"nearest"}),W===q&&S&&(S.scrollTop=0),W===ae&&S&&(S.scrollTop=S.scrollHeight),W==null||W.focus(),document.activeElement!==z))return},[P,S]),$=g.useCallback(()=>L([C,w]),[L,C,w]);g.useEffect(()=>{k&&$()},[k,$]);const{onOpenChange:D,triggerPointerDownPosRef:T}=b;g.useEffect(()=>{if(w){let oe={x:0,y:0};const q=ae=>{var z,W;oe={x:Math.abs(Math.round(ae.pageX)-(((z=T.current)==null?void 0:z.x)??0)),y:Math.abs(Math.round(ae.pageY)-(((W=T.current)==null?void 0:W.y)??0))}},U=ae=>{oe.x<=10&&oe.y<=10?ae.preventDefault():w.contains(ae.target)||D(!1),document.removeEventListener("pointermove",q),T.current=null};return T.current!==null&&(document.addEventListener("pointermove",q),document.addEventListener("pointerup",U,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",q),document.removeEventListener("pointerup",U,{capture:!0})}}},[w,D,T]),g.useEffect(()=>{const oe=()=>D(!1);return window.addEventListener("blur",oe),window.addEventListener("resize",oe),()=>{window.removeEventListener("blur",oe),window.removeEventListener("resize",oe)}},[D]);const[H,re]=O6(oe=>{const q=P().filter(z=>!z.disabled),U=q.find(z=>z.ref.current===document.activeElement),ae=A6(q,oe,U);ae&&setTimeout(()=>ae.ref.current.focus())}),J=g.useCallback((oe,q,U)=>{const ae=!M.current&&!U;(b.value!==void 0&&b.value===q||ae)&&(E(oe),ae&&(M.current=!0))},[b.value]),le=g.useCallback(()=>w==null?void 0:w.focus(),[w]),te=g.useCallback((oe,q,U)=>{const ae=!M.current&&!U;(b.value!==void 0&&b.value===q||ae)&&O(oe)},[b.value]),Z=n==="popper"?R1:h6,we=Z===R1?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:y,hideWhenDetached:m,avoidCollisions:v}:{};return s.jsx(d6,{scope:r,content:w,viewport:S,onViewportChange:_,itemRefCallback:J,selectedItem:C,onItemLeave:le,itemTextRefCallback:te,focusSelectedItem:$,selectedItemText:A,position:n,isPositioned:k,searchRef:H,children:s.jsx(v0,{as:qoe,allowPinchZoom:!0,children:s.jsx(p0,{asChild:!0,trapped:b.open,onMountAutoFocus:oe=>{oe.preventDefault()},onUnmountAutoFocus:He(a,oe=>{var q;(q=b.trigger)==null||q.focus({preventScroll:!0}),oe.preventDefault()}),children:s.jsx(Zf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:oe=>oe.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:s.jsx(Z,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:oe=>oe.preventDefault(),...x,...we,onPlaced:()=>I(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:He(x.onKeyDown,oe=>{const q=oe.ctrlKey||oe.altKey||oe.metaKey;if(oe.key==="Tab"&&oe.preventDefault(),!q&&oe.key.length===1&&re(oe.key),["ArrowUp","ArrowDown","Home","End"].includes(oe.key)){let ae=P().filter(z=>!z.disabled).map(z=>z.ref.current);if(["ArrowUp","End"].includes(oe.key)&&(ae=ae.slice().reverse()),["ArrowUp","ArrowDown"].includes(oe.key)){const z=oe.target,W=ae.indexOf(z);ae=ae.slice(W+1)}setTimeout(()=>L(ae)),oe.preventDefault()}})})})})})})});f6.displayName=Boe;var Uoe="SelectItemAlignedPosition",h6=g.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=pc(Au,r),o=mc(Au,r),[l,c]=g.useState(null),[u,d]=g.useState(null),f=Yt(t,N=>d(N)),h=N0(r),p=g.useRef(!1),y=g.useRef(!0),{viewport:m,selectedItem:v,selectedItemText:x,focusSelectedItem:b}=o,w=g.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&m&&v&&x){const N=i.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),E=i.valueNode.getBoundingClientRect(),A=x.getBoundingClientRect();if(i.dir!=="rtl"){const z=A.left-C.left,W=E.left-z,ge=N.left-W,me=N.width+ge,be=Math.max(me,C.width),X=window.innerWidth-ss,ee=D1(W,[ss,Math.max(ss,X-be)]);l.style.minWidth=me+"px",l.style.left=ee+"px"}else{const z=C.right-A.right,W=window.innerWidth-E.right-z,ge=window.innerWidth-N.right-W,me=N.width+ge,be=Math.max(me,C.width),X=window.innerWidth-ss,ee=D1(W,[ss,Math.max(ss,X-be)]);l.style.minWidth=me+"px",l.style.right=ee+"px"}const O=h(),P=window.innerHeight-ss*2,k=m.scrollHeight,I=window.getComputedStyle(u),M=parseInt(I.borderTopWidth,10),L=parseInt(I.paddingTop,10),$=parseInt(I.borderBottomWidth,10),D=parseInt(I.paddingBottom,10),T=M+L+k+D+$,H=Math.min(v.offsetHeight*5,T),re=window.getComputedStyle(m),J=parseInt(re.paddingTop,10),le=parseInt(re.paddingBottom,10),te=N.top+N.height/2-ss,Z=P-te,we=v.offsetHeight/2,oe=v.offsetTop+we,q=M+L+oe,U=T-q;if(q<=te){const z=O.length>0&&v===O[O.length-1].ref.current;l.style.bottom="0px";const W=u.clientHeight-m.offsetTop-m.offsetHeight,ge=Math.max(Z,we+(z?le:0)+W+$),me=q+ge;l.style.height=me+"px"}else{const z=O.length>0&&v===O[0].ref.current;l.style.top="0px";const ge=Math.max(te,M+m.offsetTop+(z?J:0)+we)+U;l.style.height=ge+"px",m.scrollTop=q-te+m.offsetTop}l.style.margin=`${ss}px 0`,l.style.minHeight=H+"px",l.style.maxHeight=P+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,i.trigger,i.valueNode,l,u,m,v,x,i.dir,n]);Nn(()=>w(),[w]);const[j,S]=g.useState();Nn(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const _=g.useCallback(N=>{N&&y.current===!0&&(w(),b==null||b(),y.current=!1)},[w,b]);return s.jsx(Woe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:_,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:s.jsx(Ze.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});h6.displayName=Uoe;var zoe="SelectPopperPosition",R1=g.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=ss,...i}=e,o=C0(r);return s.jsx(WE,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});R1.displayName=zoe;var[Woe,MP]=uh(Au,{}),$1="SelectViewport",p6=g.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=mc($1,r),o=MP($1,r),l=Yt(t,i.onViewportChange),c=g.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(_0.Slot,{scope:r,children:s.jsx(Ze.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:He(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const y=window.innerHeight-ss*2,m=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),x=Math.max(m,v);if(x<y){const b=x+p,w=Math.min(y,b),j=b-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});p6.displayName=$1;var m6="SelectGroup",[Voe,Hoe]=uh(m6),Goe=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Oo();return s.jsx(Voe,{scope:r,id:a,children:s.jsx(Ze.div,{role:"group","aria-labelledby":a,...n,ref:t})})});Goe.displayName=m6;var v6="SelectLabel",g6=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Hoe(v6,r);return s.jsx(Ze.div,{id:a.id,...n,ref:t})});g6.displayName=v6;var Sx="SelectItem",[Koe,y6]=uh(Sx),x6=g.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=pc(Sx,r),c=mc(Sx,r),u=l.value===n,[d,f]=g.useState(i??""),[h,p]=g.useState(!1),y=Yt(t,b=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,b,n,a)}),m=Oo(),v=g.useRef("touch"),x=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(Koe,{scope:r,value:n,disabled:a,textId:m,isSelected:u,onItemTextChange:g.useCallback(b=>{f(w=>w||((b==null?void 0:b.textContent)??"").trim())},[]),children:s.jsx(_0.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:s.jsx(Ze.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:y,onFocus:He(o.onFocus,()=>p(!0)),onBlur:He(o.onBlur,()=>p(!1)),onClick:He(o.onClick,()=>{v.current!=="mouse"&&x()}),onPointerUp:He(o.onPointerUp,()=>{v.current==="mouse"&&x()}),onPointerDown:He(o.onPointerDown,b=>{v.current=b.pointerType}),onPointerMove:He(o.onPointerMove,b=>{var w;v.current=b.pointerType,a?(w=c.onItemLeave)==null||w.call(c):v.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:He(o.onPointerLeave,b=>{var w;b.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:He(o.onKeyDown,b=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&b.key===" "||(Doe.includes(b.key)&&x(),b.key===" "&&b.preventDefault())})})})})});x6.displayName=Sx;var up="SelectItemText",b6=g.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=pc(up,r),l=mc(up,r),c=y6(up,r),u=Moe(up,r),[d,f]=g.useState(null),h=Yt(t,x=>f(x),c.onItemTextChange,x=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,x,c.value,c.disabled)}),p=d==null?void 0:d.textContent,y=g.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:v}=u;return Nn(()=>(m(y),()=>v(y)),[m,v,y]),s.jsxs(s.Fragment,{children:[s.jsx(Ze.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?lc.createPortal(i.children,o.valueNode):null]})});b6.displayName=up;var w6="SelectItemIndicator",j6=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return y6(w6,r).isSelected?s.jsx(Ze.span,{"aria-hidden":!0,...n,ref:t}):null});j6.displayName=w6;var M1="SelectScrollUpButton",S6=g.forwardRef((e,t)=>{const r=mc(M1,e.__scopeSelect),n=MP(M1,e.__scopeSelect),[a,i]=g.useState(!1),o=Yt(t,n.onScrollButtonChange);return Nn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(N6,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});S6.displayName=M1;var L1="SelectScrollDownButton",_6=g.forwardRef((e,t)=>{const r=mc(L1,e.__scopeSelect),n=MP(L1,e.__scopeSelect),[a,i]=g.useState(!1),o=Yt(t,n.onScrollButtonChange);return Nn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(N6,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});_6.displayName=L1;var N6=g.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=mc("SelectScrollButton",r),o=g.useRef(null),l=N0(r),c=g.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return g.useEffect(()=>()=>c(),[c]),Nn(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),s.jsx(Ze.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:He(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:He(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:He(a.onPointerLeave,()=>{c()})})}),Yoe="SelectSeparator",C6=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(Ze.div,{"aria-hidden":!0,...n,ref:t})});C6.displayName=Yoe;var F1="SelectArrow",Xoe=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=C0(r),i=pc(F1,r),o=mc(F1,r);return i.open&&o.position==="popper"?s.jsx(VE,{...a,...n,ref:t}):null});Xoe.displayName=F1;var Qoe="SelectBubbleInput",E6=g.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=g.useRef(null),i=Yt(n,a),o=CP(t);return g.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),s.jsx(Ze.select,{...r,style:{...N4,...r.style},ref:i,defaultValue:t})});E6.displayName=Qoe;function P6(e){return e===""||e===void 0}function O6(e){const t=An(e),r=g.useRef(""),n=g.useRef(0),a=g.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=g.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function A6(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Joe(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Joe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Zoe=n6,k6=i6,ele=o6,tle=l6,rle=c6,T6=u6,nle=p6,D6=g6,I6=x6,ale=b6,ile=j6,R6=S6,$6=_6,M6=C6;const ir=Zoe,sr=ele,er=g.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(k6,{ref:n,className:Ee("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(tle,{asChild:!0,children:s.jsx(K4,{className:"h-4 w-4 opacity-50"})})]}));er.displayName=k6.displayName;const L6=g.forwardRef(({className:e,...t},r)=>s.jsx(R6,{ref:r,className:Ee("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(CK,{className:"h-4 w-4"})}));L6.displayName=R6.displayName;const F6=g.forwardRef(({className:e,...t},r)=>s.jsx($6,{ref:r,className:Ee("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(K4,{className:"h-4 w-4"})}));F6.displayName=$6.displayName;const tr=g.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(rle,{children:s.jsxs(T6,{ref:a,className:Ee("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(L6,{}),s.jsx(nle,{className:Ee("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(F6,{})]})}));tr.displayName=T6.displayName;const sle=g.forwardRef(({className:e,...t},r)=>s.jsx(D6,{ref:r,className:Ee("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));sle.displayName=D6.displayName;const $e=g.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(I6,{ref:n,className:Ee("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(ile,{children:s.jsx(e0,{className:"h-4 w-4"})})}),s.jsx(ale,{children:t})]}));$e.displayName=I6.displayName;const ole=g.forwardRef(({className:e,...t},r)=>s.jsx(M6,{ref:r,className:Ee("-mx-1 my-1 h-px bg-muted",e),...t}));ole.displayName=M6.displayName;const zu=g.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:Ee("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));zu.displayName="Textarea";function lle(e){return Object.prototype.toString.call(e)==="[object Object]"}function IT(e){return lle(e)||Array.isArray(e)}function cle(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function LP(e,t){const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;const a=JSON.stringify(Object.keys(e.breakpoints||{})),i=JSON.stringify(Object.keys(t.breakpoints||{}));return a!==i?!1:r.every(o=>{const l=e[o],c=t[o];return typeof l=="function"?`${l}`==`${c}`:!IT(l)||!IT(c)?l===c:LP(l,c)})}function RT(e){return e.concat().sort((t,r)=>t.name>r.name?1:-1).map(t=>t.options)}function ule(e,t){if(e.length!==t.length)return!1;const r=RT(e),n=RT(t);return r.every((a,i)=>{const o=n[i];return LP(a,o)})}function FP(e){return typeof e=="number"}function B1(e){return typeof e=="string"}function E0(e){return typeof e=="boolean"}function $T(e){return Object.prototype.toString.call(e)==="[object Object]"}function fn(e){return Math.abs(e)}function BP(e){return Math.sign(e)}function Cp(e,t){return fn(e-t)}function dle(e,t){if(e===0||t===0||fn(e)<=fn(t))return 0;const r=Cp(fn(e),fn(t));return fn(r/e)}function fle(e){return Math.round(e*100)/100}function dm(e){return fm(e).map(Number)}function js(e){return e[jv(e)]}function jv(e){return Math.max(0,e.length-1)}function qP(e,t){return t===jv(e)}function MT(e,t=0){return Array.from(Array(e),(r,n)=>t+n)}function fm(e){return Object.keys(e)}function B6(e,t){return[e,t].reduce((r,n)=>(fm(n).forEach(a=>{const i=r[a],o=n[a],l=$T(i)&&$T(o);r[a]=l?B6(i,o):o}),r),{})}function q1(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function hle(e,t){const r={start:n,center:a,end:i};function n(){return 0}function a(c){return i(c)/2}function i(c){return t-c}function o(c,u){return B1(e)?r[e](c):e(t,c,u)}return{measure:o}}function hm(){let e=[];function t(a,i,o,l={passive:!0}){let c;if("addEventListener"in a)a.addEventListener(i,o,l),c=()=>a.removeEventListener(i,o,l);else{const u=a;u.addListener(o),c=()=>u.removeListener(o)}return e.push(c),n}function r(){e=e.filter(a=>a())}const n={add:t,clear:r};return n}function ple(e,t,r,n){const a=hm(),i=1e3/60;let o=null,l=0,c=0;function u(){a.add(e,"visibilitychange",()=>{e.hidden&&y()})}function d(){p(),a.clear()}function f(v){if(!c)return;o||(o=v,r(),r());const x=v-o;for(o=v,l+=x;l>=i;)r(),l-=i;const b=l/i;n(b),c&&(c=t.requestAnimationFrame(f))}function h(){c||(c=t.requestAnimationFrame(f))}function p(){t.cancelAnimationFrame(c),o=null,l=0,c=0}function y(){o=null,l=0}return{init:u,destroy:d,start:h,stop:p,update:r,render:n}}function mle(e,t){const r=t==="rtl",n=e==="y",a=n?"y":"x",i=n?"x":"y",o=!n&&r?-1:1,l=d(),c=f();function u(y){const{height:m,width:v}=y;return n?m:v}function d(){return n?"top":r?"right":"left"}function f(){return n?"bottom":r?"left":"right"}function h(y){return y*o}return{scroll:a,cross:i,startEdge:l,endEdge:c,measureSize:u,direction:h}}function ku(e=0,t=0){const r=fn(e-t);function n(u){return u<e}function a(u){return u>t}function i(u){return n(u)||a(u)}function o(u){return i(u)?n(u)?e:t:u}function l(u){return r?u-r*Math.ceil((u-t)/r):u}return{length:r,max:t,min:e,constrain:o,reachedAny:i,reachedMax:a,reachedMin:n,removeOffset:l}}function q6(e,t,r){const{constrain:n}=ku(0,e),a=e+1;let i=o(t);function o(h){return r?fn((a+h)%a):n(h)}function l(){return i}function c(h){return i=o(h),f}function u(h){return d().set(l()+h)}function d(){return q6(e,l(),r)}const f={get:l,set:c,add:u,clone:d};return f}function vle(e,t,r,n,a,i,o,l,c,u,d,f,h,p,y,m,v,x,b){const{cross:w,direction:j}=e,S=["INPUT","SELECT","TEXTAREA"],_={passive:!1},N=hm(),C=hm(),E=ku(50,225).constrain(p.measure(20)),A={mouse:300,touch:400},O={mouse:500,touch:600},P=y?43:25;let k=!1,I=0,M=0,L=!1,$=!1,D=!1,T=!1;function H(W){if(!b)return;function ge(be){(E0(b)||b(W,be))&&we(be)}const me=t;N.add(me,"dragstart",be=>be.preventDefault(),_).add(me,"touchmove",()=>{},_).add(me,"touchend",()=>{}).add(me,"touchstart",ge).add(me,"mousedown",ge).add(me,"touchcancel",q).add(me,"contextmenu",q).add(me,"click",U,!0)}function re(){N.clear(),C.clear()}function J(){const W=T?r:t;C.add(W,"touchmove",oe,_).add(W,"touchend",q).add(W,"mousemove",oe,_).add(W,"mouseup",q)}function le(W){const ge=W.nodeName||"";return S.includes(ge)}function te(){return(y?O:A)[T?"mouse":"touch"]}function Z(W,ge){const me=f.add(BP(W)*-1),be=d.byDistance(W,!y).distance;return y||fn(W)<E?be:v&&ge?be*.5:d.byIndex(me.get(),0).distance}function we(W){const ge=q1(W,n);T=ge,D=y&&ge&&!W.buttons&&k,k=Cp(a.get(),o.get())>=2,!(ge&&W.button!==0)&&(le(W.target)||(L=!0,i.pointerDown(W),u.useFriction(0).useDuration(0),a.set(o),J(),I=i.readPoint(W),M=i.readPoint(W,w),h.emit("pointerDown")))}function oe(W){if(!q1(W,n)&&W.touches.length>=2)return q(W);const me=i.readPoint(W),be=i.readPoint(W,w),X=Cp(me,I),ee=Cp(be,M);if(!$&&!T&&(!W.cancelable||($=X>ee,!$)))return q(W);const xe=i.pointerMove(W);X>m&&(D=!0),u.useFriction(.3).useDuration(.75),l.start(),a.add(j(xe)),W.preventDefault()}function q(W){const me=d.byDistance(0,!1).index!==f.get(),be=i.pointerUp(W)*te(),X=Z(j(be),me),ee=dle(be,X),xe=P-10*ee,he=x+ee/50;$=!1,L=!1,C.clear(),u.useDuration(xe).useFriction(he),c.distance(X,!y),T=!1,h.emit("pointerUp")}function U(W){D&&(W.stopPropagation(),W.preventDefault(),D=!1)}function ae(){return L}return{init:H,destroy:re,pointerDown:ae}}function gle(e,t){let n,a;function i(f){return f.timeStamp}function o(f,h){const y=`client${(h||e.scroll)==="x"?"X":"Y"}`;return(q1(f,t)?f:f.touches[0])[y]}function l(f){return n=f,a=f,o(f)}function c(f){const h=o(f)-o(a),p=i(f)-i(n)>170;return a=f,p&&(n=f),h}function u(f){if(!n||!a)return 0;const h=o(a)-o(n),p=i(f)-i(n),y=i(f)-i(a)>170,m=h/p;return p&&!y&&fn(m)>.1?m:0}return{pointerDown:l,pointerMove:c,pointerUp:u,readPoint:o}}function yle(){function e(r){const{offsetTop:n,offsetLeft:a,offsetWidth:i,offsetHeight:o}=r;return{top:n,right:a+i,bottom:n+o,left:a,width:i,height:o}}return{measure:e}}function xle(e){function t(n){return e*(n/100)}return{measure:t}}function ble(e,t,r,n,a,i,o){const l=[e].concat(n);let c,u,d=[],f=!1;function h(v){return a.measureSize(o.measure(v))}function p(v){if(!i)return;u=h(e),d=n.map(h);function x(b){for(const w of b){if(f)return;const j=w.target===e,S=n.indexOf(w.target),_=j?u:d[S],N=h(j?e:n[S]);if(fn(N-_)>=.5){v.reInit(),t.emit("resize");break}}}c=new ResizeObserver(b=>{(E0(i)||i(v,b))&&x(b)}),r.requestAnimationFrame(()=>{l.forEach(b=>c.observe(b))})}function y(){f=!0,c&&c.disconnect()}return{init:p,destroy:y}}function wle(e,t,r,n,a,i){let o=0,l=0,c=a,u=i,d=e.get(),f=0;function h(){const _=n.get()-e.get(),N=!c;let C=0;return N?(o=0,r.set(n),e.set(n),C=_):(r.set(e),o+=_/c,o*=u,d+=o,e.add(o),C=d-f),l=BP(C),f=d,S}function p(){const _=n.get()-t.get();return fn(_)<.001}function y(){return c}function m(){return l}function v(){return o}function x(){return w(a)}function b(){return j(i)}function w(_){return c=_,S}function j(_){return u=_,S}const S={direction:m,duration:y,velocity:v,seek:h,settled:p,useBaseFriction:b,useBaseDuration:x,useFriction:j,useDuration:w};return S}function jle(e,t,r,n,a){const i=a.measure(10),o=a.measure(50),l=ku(.1,.99);let c=!1;function u(){return!(c||!e.reachedAny(r.get())||!e.reachedAny(t.get()))}function d(p){if(!u())return;const y=e.reachedMin(t.get())?"min":"max",m=fn(e[y]-t.get()),v=r.get()-t.get(),x=l.constrain(m/o);r.subtract(v*x),!p&&fn(v)<i&&(r.set(e.constrain(r.get())),n.useDuration(25).useBaseFriction())}function f(p){c=!p}return{shouldConstrain:u,constrain:d,toggleActive:f}}function Sle(e,t,r,n,a){const i=ku(-t+e,0),o=f(),l=d(),c=h();function u(y,m){return Cp(y,m)<=1}function d(){const y=o[0],m=js(o),v=o.lastIndexOf(y),x=o.indexOf(m)+1;return ku(v,x)}function f(){return r.map((y,m)=>{const{min:v,max:x}=i,b=i.constrain(y),w=!m,j=qP(r,m);return w?x:j||u(v,b)?v:u(x,b)?x:b}).map(y=>parseFloat(y.toFixed(3)))}function h(){if(t<=e+a)return[i.max];if(n==="keepSnaps")return o;const{min:y,max:m}=l;return o.slice(y,m)}return{snapsContained:c,scrollContainLimit:l}}function _le(e,t,r){const n=t[0],a=r?n-e:js(t);return{limit:ku(a,n)}}function Nle(e,t,r,n){const i=t.min+.1,o=t.max+.1,{reachedMin:l,reachedMax:c}=ku(i,o);function u(h){return h===1?c(r.get()):h===-1?l(r.get()):!1}function d(h){if(!u(h))return;const p=e*(h*-1);n.forEach(y=>y.add(p))}return{loop:d}}function Cle(e){const{max:t,length:r}=e;function n(i){const o=i-t;return r?o/-r:0}return{get:n}}function Ele(e,t,r,n,a){const{startEdge:i,endEdge:o}=e,{groupSlides:l}=a,c=f().map(t.measure),u=h(),d=p();function f(){return l(n).map(m=>js(m)[o]-m[0][i]).map(fn)}function h(){return n.map(m=>r[i]-m[i]).map(m=>-fn(m))}function p(){return l(u).map(m=>m[0]).map((m,v)=>m+c[v])}return{snaps:u,snapsAligned:d}}function Ple(e,t,r,n,a,i){const{groupSlides:o}=a,{min:l,max:c}=n,u=d();function d(){const h=o(i),p=!e||t==="keepSnaps";return r.length===1?[i]:p?h:h.slice(l,c).map((y,m,v)=>{const x=!m,b=qP(v,m);if(x){const w=js(v[0])+1;return MT(w)}if(b){const w=jv(i)-js(v)[0]+1;return MT(w,js(v)[0])}return y})}return{slideRegistry:u}}function Ole(e,t,r,n,a){const{reachedAny:i,removeOffset:o,constrain:l}=n;function c(y){return y.concat().sort((m,v)=>fn(m)-fn(v))[0]}function u(y){const m=e?o(y):l(y),v=t.map((b,w)=>({diff:d(b-m,0),index:w})).sort((b,w)=>fn(b.diff)-fn(w.diff)),{index:x}=v[0];return{index:x,distance:m}}function d(y,m){const v=[y,y+r,y-r];if(!e)return y;if(!m)return c(v);const x=v.filter(b=>BP(b)===m);return x.length?c(x):js(v)-r}function f(y,m){const v=t[y]-a.get(),x=d(v,m);return{index:y,distance:x}}function h(y,m){const v=a.get()+y,{index:x,distance:b}=u(v),w=!e&&i(v);if(!m||w)return{index:x,distance:y};const j=t[x]-b,S=y+d(j,0);return{index:x,distance:S}}return{byDistance:h,byIndex:f,shortcut:d}}function Ale(e,t,r,n,a,i,o){function l(f){const h=f.distance,p=f.index!==t.get();i.add(h),h&&(n.duration()?e.start():(e.update(),e.render(1),e.update())),p&&(r.set(t.get()),t.set(f.index),o.emit("select"))}function c(f,h){const p=a.byDistance(f,h);l(p)}function u(f,h){const p=t.clone().set(f),y=a.byIndex(p.get(),h);l(y)}return{distance:c,index:u}}function kle(e,t,r,n,a,i,o,l){const c={passive:!0,capture:!0};let u=0;function d(p){if(!l)return;function y(m){if(new Date().getTime()-u>10)return;o.emit("slideFocusStart"),e.scrollLeft=0;const b=r.findIndex(w=>w.includes(m));FP(b)&&(a.useDuration(0),n.index(b,0),o.emit("slideFocus"))}i.add(document,"keydown",f,!1),t.forEach((m,v)=>{i.add(m,"focus",x=>{(E0(l)||l(p,x))&&y(v)},c)})}function f(p){p.code==="Tab"&&(u=new Date().getTime())}return{init:d}}function dp(e){let t=e;function r(){return t}function n(c){t=o(c)}function a(c){t+=o(c)}function i(c){t-=o(c)}function o(c){return FP(c)?c:c.get()}return{get:r,set:n,add:a,subtract:i}}function U6(e,t){const r=e.scroll==="x"?o:l,n=t.style;let a=null,i=!1;function o(h){return`translate3d(${h}px,0px,0px)`}function l(h){return`translate3d(0px,${h}px,0px)`}function c(h){if(i)return;const p=fle(e.direction(h));p!==a&&(n.transform=r(p),a=p)}function u(h){i=!h}function d(){i||(n.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:d,to:c,toggleActive:u}}function Tle(e,t,r,n,a,i,o,l,c){const d=dm(a),f=dm(a).reverse(),h=x().concat(b());function p(N,C){return N.reduce((E,A)=>E-a[A],C)}function y(N,C){return N.reduce((E,A)=>p(E,C)>0?E.concat([A]):E,[])}function m(N){return i.map((C,E)=>({start:C-n[E]+.5+N,end:C+t-.5+N}))}function v(N,C,E){const A=m(C);return N.map(O=>{const P=E?0:-r,k=E?r:0,I=E?"end":"start",M=A[O][I];return{index:O,loopPoint:M,slideLocation:dp(-1),translate:U6(e,c[O]),target:()=>l.get()>M?P:k}})}function x(){const N=o[0],C=y(f,N);return v(C,r,!1)}function b(){const N=t-o[0]-1,C=y(d,N);return v(C,-r,!0)}function w(){return h.every(({index:N})=>{const C=d.filter(E=>E!==N);return p(C,t)<=.1})}function j(){h.forEach(N=>{const{target:C,translate:E,slideLocation:A}=N,O=C();O!==A.get()&&(E.to(O),A.set(O))})}function S(){h.forEach(N=>N.translate.clear())}return{canLoop:w,clear:S,loop:j,loopPoints:h}}function Dle(e,t,r){let n,a=!1;function i(c){if(!r)return;function u(d){for(const f of d)if(f.type==="childList"){c.reInit(),t.emit("slidesChanged");break}}n=new MutationObserver(d=>{a||(E0(r)||r(c,d))&&u(d)}),n.observe(e,{childList:!0})}function o(){n&&n.disconnect(),a=!0}return{init:i,destroy:o}}function Ile(e,t,r,n){const a={};let i=null,o=null,l,c=!1;function u(){l=new IntersectionObserver(y=>{c||(y.forEach(m=>{const v=t.indexOf(m.target);a[v]=m}),i=null,o=null,r.emit("slidesInView"))},{root:e.parentElement,threshold:n}),t.forEach(y=>l.observe(y))}function d(){l&&l.disconnect(),c=!0}function f(y){return fm(a).reduce((m,v)=>{const x=parseInt(v),{isIntersecting:b}=a[x];return(y&&b||!y&&!b)&&m.push(x),m},[])}function h(y=!0){if(y&&i)return i;if(!y&&o)return o;const m=f(y);return y&&(i=m),y||(o=m),m}return{init:u,destroy:d,get:h}}function Rle(e,t,r,n,a,i){const{measureSize:o,startEdge:l,endEdge:c}=e,u=r[0]&&a,d=y(),f=m(),h=r.map(o),p=v();function y(){if(!u)return 0;const b=r[0];return fn(t[l]-b[l])}function m(){if(!u)return 0;const b=i.getComputedStyle(js(n));return parseFloat(b.getPropertyValue(`margin-${c}`))}function v(){return r.map((b,w,j)=>{const S=!w,_=qP(j,w);return S?h[w]+d:_?h[w]+f:j[w+1][l]-b[l]}).map(fn)}return{slideSizes:h,slideSizesWithGaps:p,startGap:d,endGap:f}}function $le(e,t,r,n,a,i,o,l,c){const{startEdge:u,endEdge:d,direction:f}=e,h=FP(r);function p(x,b){return dm(x).filter(w=>w%b===0).map(w=>x.slice(w,w+b))}function y(x){return x.length?dm(x).reduce((b,w,j)=>{const S=js(b)||0,_=S===0,N=w===jv(x),C=a[u]-i[S][u],E=a[u]-i[w][d],A=!n&&_?f(o):0,O=!n&&N?f(l):0,P=fn(E-O-(C+A));return j&&P>t+c&&b.push(w),N&&b.push(x.length),b},[]).map((b,w,j)=>{const S=Math.max(j[w-1]||0);return x.slice(S,b)}):[]}function m(x){return h?p(x,r):y(x)}return{groupSlides:m}}function Mle(e,t,r,n,a,i,o){const{align:l,axis:c,direction:u,startIndex:d,loop:f,duration:h,dragFree:p,dragThreshold:y,inViewThreshold:m,slidesToScroll:v,skipSnaps:x,containScroll:b,watchResize:w,watchSlides:j,watchDrag:S,watchFocus:_}=i,N=2,C=yle(),E=C.measure(t),A=r.map(C.measure),O=mle(c,u),P=O.measureSize(E),k=xle(P),I=hle(l,P),M=!f&&!!b,L=f||!!b,{slideSizes:$,slideSizesWithGaps:D,startGap:T,endGap:H}=Rle(O,E,A,r,L,a),re=$le(O,P,v,f,E,A,T,H,N),{snaps:J,snapsAligned:le}=Ele(O,I,E,A,re),te=-js(J)+js(D),{snapsContained:Z,scrollContainLimit:we}=Sle(P,te,le,b,N),oe=M?Z:le,{limit:q}=_le(te,oe,f),U=q6(jv(oe),d,f),ae=U.clone(),z=dm(r),W=({dragHandler:nt,scrollBody:zt,scrollBounds:yr,options:{loop:or}})=>{or||yr.constrain(nt.pointerDown()),zt.seek()},ge=({scrollBody:nt,translate:zt,location:yr,offsetLocation:or,previousLocation:Ye,scrollLooper:Rr,slideLooper:rr,dragHandler:nn,animation:ce,eventHandler:Le,scrollBounds:Je,options:{loop:Bt}},fr)=>{const de=nt.settled(),De=!Je.shouldConstrain(),Te=Bt?de:de&&De,et=Te&&!nn.pointerDown();et&&ce.stop();const tt=yr.get()*fr+Ye.get()*(1-fr);or.set(tt),Bt&&(Rr.loop(nt.direction()),rr.loop()),zt.to(or.get()),et&&Le.emit("settle"),Te||Le.emit("scroll")},me=ple(n,a,()=>W(jt),nt=>ge(jt,nt)),be=.68,X=oe[U.get()],ee=dp(X),xe=dp(X),he=dp(X),Ae=dp(X),Ce=wle(ee,he,xe,Ae,h,be),Ct=Ole(f,oe,te,q,Ae),ht=Ale(me,U,ae,Ce,Ct,Ae,o),Ft=Cle(q),_r=hm(),Me=Ile(t,r,o,m),{slideRegistry:jr}=Ple(M,b,oe,we,re,z),rn=kle(e,r,jr,ht,Ce,_r,o,_),jt={ownerDocument:n,ownerWindow:a,eventHandler:o,containerRect:E,slideRects:A,animation:me,axis:O,dragHandler:vle(O,e,n,a,Ae,gle(O,a),ee,me,ht,Ce,Ct,U,o,k,p,y,x,be,S),eventStore:_r,percentOfView:k,index:U,indexPrevious:ae,limit:q,location:ee,offsetLocation:he,previousLocation:xe,options:i,resizeHandler:ble(t,o,a,r,O,w,C),scrollBody:Ce,scrollBounds:jle(q,he,Ae,Ce,k),scrollLooper:Nle(te,q,he,[ee,he,xe,Ae]),scrollProgress:Ft,scrollSnapList:oe.map(Ft.get),scrollSnaps:oe,scrollTarget:Ct,scrollTo:ht,slideLooper:Tle(O,P,te,$,D,J,oe,he,r),slideFocus:rn,slidesHandler:Dle(t,o,j),slidesInView:Me,slideIndexes:z,slideRegistry:jr,slidesToScroll:re,target:Ae,translate:U6(O,t)};return jt}function Lle(){let e={},t;function r(u){t=u}function n(u){return e[u]||[]}function a(u){return n(u).forEach(d=>d(t,u)),c}function i(u,d){return e[u]=n(u).concat([d]),c}function o(u,d){return e[u]=n(u).filter(f=>f!==d),c}function l(){e={}}const c={init:r,emit:a,off:o,on:i,clear:l};return c}const Fle={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function Ble(e){function t(i,o){return B6(i,o||{})}function r(i){const o=i.breakpoints||{},l=fm(o).filter(c=>e.matchMedia(c).matches).map(c=>o[c]).reduce((c,u)=>t(c,u),{});return t(i,l)}function n(i){return i.map(o=>fm(o.breakpoints||{})).reduce((o,l)=>o.concat(l),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:r,optionsMediaQueries:n}}function qle(e){let t=[];function r(i,o){return t=o.filter(({options:l})=>e.optionsAtMedia(l).active!==!1),t.forEach(l=>l.init(i,e)),o.reduce((l,c)=>Object.assign(l,{[c.name]:c}),{})}function n(){t=t.filter(i=>i.destroy())}return{init:r,destroy:n}}function _x(e,t,r){const n=e.ownerDocument,a=n.defaultView,i=Ble(a),o=qle(i),l=hm(),c=Lle(),{mergeOptions:u,optionsAtMedia:d,optionsMediaQueries:f}=i,{on:h,off:p,emit:y}=c,m=O;let v=!1,x,b=u(Fle,_x.globalOptions),w=u(b),j=[],S,_,N;function C(){const{container:z,slides:W}=w;_=(B1(z)?e.querySelector(z):z)||e.children[0];const me=B1(W)?_.querySelectorAll(W):W;N=[].slice.call(me||_.children)}function E(z){const W=Mle(e,_,N,n,a,z,c);if(z.loop&&!W.slideLooper.canLoop()){const ge=Object.assign({},z,{loop:!1});return E(ge)}return W}function A(z,W){v||(b=u(b,z),w=d(b),j=W||j,C(),x=E(w),f([b,...j.map(({options:ge})=>ge)]).forEach(ge=>l.add(ge,"change",O)),w.active&&(x.translate.to(x.location.get()),x.animation.init(),x.slidesInView.init(),x.slideFocus.init(ae),x.eventHandler.init(ae),x.resizeHandler.init(ae),x.slidesHandler.init(ae),x.options.loop&&x.slideLooper.loop(),_.offsetParent&&N.length&&x.dragHandler.init(ae),S=o.init(ae,j)))}function O(z,W){const ge=re();P(),A(u({startIndex:ge},z),W),c.emit("reInit")}function P(){x.dragHandler.destroy(),x.eventStore.clear(),x.translate.clear(),x.slideLooper.clear(),x.resizeHandler.destroy(),x.slidesHandler.destroy(),x.slidesInView.destroy(),x.animation.destroy(),o.destroy(),l.clear()}function k(){v||(v=!0,l.clear(),P(),c.emit("destroy"),c.clear())}function I(z,W,ge){!w.active||v||(x.scrollBody.useBaseFriction().useDuration(W===!0?0:w.duration),x.scrollTo.index(z,ge||0))}function M(z){const W=x.index.add(1).get();I(W,z,-1)}function L(z){const W=x.index.add(-1).get();I(W,z,1)}function $(){return x.index.add(1).get()!==re()}function D(){return x.index.add(-1).get()!==re()}function T(){return x.scrollSnapList}function H(){return x.scrollProgress.get(x.offsetLocation.get())}function re(){return x.index.get()}function J(){return x.indexPrevious.get()}function le(){return x.slidesInView.get()}function te(){return x.slidesInView.get(!1)}function Z(){return S}function we(){return x}function oe(){return e}function q(){return _}function U(){return N}const ae={canScrollNext:$,canScrollPrev:D,containerNode:q,internalEngine:we,destroy:k,off:p,on:h,emit:y,plugins:Z,previousScrollSnap:J,reInit:m,rootNode:oe,scrollNext:M,scrollPrev:L,scrollProgress:H,scrollSnapList:T,scrollTo:I,selectedScrollSnap:re,slideNodes:U,slidesInView:le,slidesNotInView:te};return A(t,r),setTimeout(()=>c.emit("init"),0),ae}_x.globalOptions=void 0;function vc(e={},t=[]){const r=g.useRef(e),n=g.useRef(t),[a,i]=g.useState(),[o,l]=g.useState(),c=g.useCallback(()=>{a&&a.reInit(r.current,n.current)},[a]);return g.useEffect(()=>{LP(r.current,e)||(r.current=e,c())},[e,c]),g.useEffect(()=>{ule(n.current,t)||(n.current=t,c())},[t,c]),g.useEffect(()=>{if(cle()&&o){_x.globalOptions=vc.globalOptions;const u=_x(o,r.current,n.current);return i(u),()=>u.destroy()}else i(void 0)},[o,i]),[l,a]}vc.globalOptions=void 0;const Ule=()=>{try{const e=new Audio("/click.mp3");e.volume=.5,e.play().catch(t=>console.warn("Audio playback failed:",t))}catch(e){console.error("Error playing click sound:",e)}};function UP(){return{playClick:g.useCallback(()=>{Ule()},[])}}const LT={is_pending_active:!0,is_preparing_active:!0};function Sv(){const{profile:e,loading:t}=Gt(),{toast:r}=dr(),[n,a]=g.useState(LT),[i,o]=g.useState(!0),l=g.useCallback(async()=>{if(!(e!=null&&e.store_id)){o(!1);return}const{data:d,error:f}=await ke.from("order_flow_settings").select("is_pending_active, is_preparing_active").eq("store_id",e.store_id).maybeSingle();f&&(console.error("Error loading order flow settings:",f),r({variant:"destructive",title:"Erro de Configurao",description:"No foi possvel carregar as configuraes de fluxo de pedidos. Usando padro."})),a(d||LT),o(!1)},[e,r]);g.useEffect(()=>{t||l()},[t,l]);const c=g.useCallback(()=>n.is_pending_active?"pending":n.is_preparing_active?"preparing":"ready",[n]),u=g.useCallback(d=>{const f=[];n.is_pending_active&&f.push("pending"),n.is_preparing_active&&f.push("preparing"),f.push("ready");const h=f.indexOf(d);return h===-1||h===f.length-1?null:f[h+1]},[n]);return{settings:n,loading:i,getInitialStatus:c,getNextStatus:u,activeFlow:[n.is_pending_active?"pending":null,n.is_preparing_active?"preparing":null,"ready"].filter(d=>d!==null)}}function zle({product:e,productVariations:t,isOutOfStock:r,isFavorite:n,toggleFavorite:a,handleAddToCart:i}){var l,c,u;const[o]=vc({dragFree:!0,containScroll:"trimSnaps"});return s.jsx(ve,{className:Ee("shadow-soft relative transition-all",r&&"opacity-60",n&&"ring-2 ring-yellow-500"),children:s.jsxs(ye,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-lg",children:e.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.has_variations?"Com variaes":`Estoque: ${e.stock_quantity}`})]}),s.jsx(B,{variant:"ghost",size:"icon",onClick:()=>a(e.id),className:"h-8 w-8",children:s.jsx(Kn,{className:Ee("h-5 w-5 transition-colors",n?"fill-yellow-500 text-yellow-500":"text-muted-foreground")})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-2xl font-bold text-primary",children:e.has_variations?e.min_variation_price===e.max_variation_price?`R$ ${(l=e.min_variation_price)==null?void 0:l.toFixed(2)}`:`R$ ${(c=e.min_variation_price)==null?void 0:c.toFixed(2)} - ${(u=e.max_variation_price)==null?void 0:u.toFixed(2)}`:`R$ ${e.price.toFixed(2)}`}),e.has_variations?s.jsx("div",{className:"embla overflow-hidden w-fit max-w-[150px]",ref:o,children:s.jsx("div",{className:"embla__container flex gap-1",children:t.map(d=>{const f=d.stock_quantity===0&&!d.is_composite;return s.jsx(B,{onClick:()=>i(e,d),className:"embla__slide flex-shrink-0 h-10 w-10 p-0 text-sm font-bold",variant:"outline",disabled:f,children:d.name.charAt(0).toUpperCase()},d.id)})})}):s.jsxs(B,{onClick:()=>i(e),className:"shadow-soft",disabled:r,children:[s.jsx(xr,{className:"h-4 w-4 mr-2"}),r?"Sem Estoque":"Adicionar"]})]})]})},e.id)}const Ar=ke;function Wle(){const[e,t]=g.useState([]),[r,n]=g.useState([]),[a,i]=g.useState([]),[o,l]=g.useState([]),[c,u]=g.useState(null),[d,f]=g.useState(""),[h,p]=g.useState([]),[y,m]=g.useState(!1),[v,x]=g.useState([]),[b,w]=g.useState(!0),[j]=vc({loop:!1,align:"start"}),[S,_]=g.useState(""),[N,C]=g.useState(""),[E,A]=g.useState(null),[O,P]=g.useState("presencial"),[k,I]=g.useState(!1),[M,L]=g.useState(!1),[$,D]=g.useState(null),[T,H]=g.useState(null),[re,J]=g.useState(!1),[le,te]=g.useState(null),[Z,we]=g.useState(null),[oe,q]=g.useState(!1),[U,ae]=g.useState(""),[z,W]=g.useState(""),[ge,me]=g.useState(""),[be,X]=g.useState(!1),[ee,xe]=g.useState(""),[he,Ae]=g.useState(""),[Ce,Ct]=g.useState(""),[ht,Ft]=g.useState(""),[_r,Me]=g.useState(""),[jr,rn]=g.useState(""),[jt,nt]=g.useState(!1),[zt,yr]=g.useState(!1),[or,Ye]=g.useState([]),[Rr,rr]=g.useState(null),[nn,ce]=g.useState(!1),[Le,Je]=g.useState(null),[Bt,fr]=g.useState(""),[de,De]=g.useState(""),[Te,et]=g.useState(""),[tt,hr]=g.useState(""),[pr,Wr]=g.useState(""),[se,G]=g.useState(""),[ie,Ge]=g.useState(!1),[lt,qt]=g.useState(!1),[Ve,ut]=g.useState(!1),[Qe,Xt]=g.useState(0),{profile:Wt,user:vt}=Gt(),{toast:Ie}=dr(),{playClick:ka}=UP(),{getInitialStatus:es}=Sv();g.useEffect(()=>{const K=localStorage.getItem("pdv_favorites"),fe=localStorage.getItem("pdv_search_history"),ct=localStorage.getItem("pdv_print_enabled");K&&x(JSON.parse(K)),fe&&p(JSON.parse(fe)),ct!==null&&w(JSON.parse(ct))},[]),g.useEffect(()=>{Wt!=null&&Wt.store_id&&(ts(),ks(),Ta())},[Wt]),g.useEffect(()=>{E!=null&&E.id?tl():(Ye([]),rr(null))},[E]);const Ta=async()=>{if(!(Wt!=null&&Wt.store_id))return;const{data:K,error:fe}=await Ar.from("stores").select("ifood_stock_alert_enabled, ifood_stock_alert_threshold").eq("id",Wt.store_id).single();fe?console.error("Erro ao carregar configuraes do iFood:",fe):K&&(ut(K.ifood_stock_alert_enabled??!1),Xt(K.ifood_stock_alert_threshold??0))},ks=async()=>{if(!(Wt!=null&&Wt.store_id))return;const{data:K,error:fe}=await Ar.from("categories").select("id, name").eq("store_id",Wt.store_id).order("name");fe?console.error("Erro ao carregar categorias:",fe):l(K||[])},ts=async()=>{const{data:K,error:fe}=await Ar.from("products").select("id, name, price, stock_quantity, has_variations, earns_loyalty_points, loyalty_points_value, can_be_redeemed_with_points, redemption_points_cost, category_id").eq("store_id",Wt.store_id).eq("active",!0).order("name");if(fe){Ie({variant:"destructive",title:"Erro ao carregar produtos",description:fe.message});return}const ct=(K||[]).filter(At=>At.has_variations).map(At=>At.id);let Pt=[];if(ct.length>0){const{data:At,error:Rt}=await Ar.from("product_variations").select("*").in("product_id",ct).order("name");if(Rt){Ie({variant:"destructive",title:"Erro ao carregar variaes",description:Rt.message});return}Pt=At||[]}n(Pt);const Qt=new Map;Pt.forEach(At=>{const Rt=Qt.get(At.product_id)||[];Rt.push(At),Qt.set(At.product_id,Rt)});const Kt=(K||[]).map(At=>{if(At.has_variations){const Rt=Qt.get(At.id)||[];if(Rt.length>0){const Br=Rt.map(mn=>At.price+mn.price_adjustment);At.min_variation_price=Math.min(...Br),At.max_variation_price=Math.max(...Br)}else At.min_variation_price=0,At.max_variation_price=0}return At});t(Kt)},so=async K=>{const{data:fe}=await Ar.from("customers").select("*").eq("store_id",Wt.store_id).eq("phone",K).maybeSingle();return fe},Ts=K=>{const fe=v.includes(K)?v.filter(ct=>ct!==K):[...v,K];x(fe),localStorage.setItem("pdv_favorites",JSON.stringify(fe)),Ie({title:v.includes(K)?"Removido dos favoritos":"Adicionado aos favoritos",duration:2e3})},nr=K=>{f(K),K.length>0&&m(!1)},Or=K=>{if(!K.trim())return;const fe=[K,...h.filter(ct=>ct!==K)].slice(0,5);p(fe),localStorage.setItem("pdv_search_history",JSON.stringify(fe))},st=K=>{f(K),m(!1),Or(K)},Gv=()=>{p([]),localStorage.removeItem("pdv_search_history")},Eh=()=>{const K=!b;w(K),localStorage.setItem("pdv_print_enabled",JSON.stringify(K)),Ie({title:K?"Impresso ativada":"Impresso desativada",description:K?"Pedidos sero impressos automaticamente":"Pedidos no sero impressos",duration:3e3})},Ph=()=>{let K=e;return d&&(K=K.filter(fe=>fe.name.toLowerCase().includes(d.toLowerCase()))),c&&(K=K.filter(fe=>fe.category_id===c)),K},Oh=()=>{const K=Ph(),fe={},ct=K.filter(Qt=>v.includes(Qt.id)),Pt=K.filter(Qt=>!v.includes(Qt.id));return ct.length>0&&(fe[" Favoritos"]=ct),Pt.forEach(Qt=>{var At;const Kt=((At=o.find(Rt=>Rt.id===Qt.category_id))==null?void 0:At.name)||"Sem Categoria";fe[Kt]||(fe[Kt]=[]),fe[Kt].push(Qt)}),fe},jc=async()=>{if(!S)return;const K=await so(S);K&&"id"in K?(A(K),Ie({title:"Cliente encontrado!",description:`Bem-vindo ${K.name}`})):I(!0)},Ah=async K=>{if(K.preventDefault(),!S){Ie({variant:"destructive",title:"Telefone  obrigatrio."});return}let fe=E;if(!fe){const ct=await so(S);if(ct)fe=ct;else if(N){const{data:Pt,error:Qt}=await Ar.from("customers").insert({phone:S,name:N,points:0,store_id:Wt.store_id}).select().single();if(Qt){Ie({variant:"destructive",title:"Erro ao cadastrar cliente",description:Qt.message});return}fe=Pt,Ie({title:"Cliente cadastrado!",description:`Bem-vindo, ${N}!`})}else Ie({title:"Aviso",description:"Pedido ser registrado sem nome de cliente para pontos de fidelidade."})}A(fe),I(!1),le&&(await Q(le),te(null))},el=async(K,fe)=>{if((O==="whatsapp"||O==="ifood")&&!S){te(K),I(!0);return}K.has_variations&&!fe?(D(K),L(!0)):await Q(K,fe)},oo=async(K,fe)=>{if(!K.is_composite)return!0;const{raw_material_product_id:ct,raw_material_variation_id:Pt,yield_quantity:Qt}=K;if(!ct&&!Pt)return!0;const Kt=!!Pt,At=Kt?Pt:ct,Rt=Kt?"product_variations":"products";try{const{data:Br,error:mn}=await Ar.from(Rt).select("stock_quantity, name").eq("id",At).single();if(mn||!Br)return console.error("Erro ao verificar estoque da matria-prima:",mn),!1;const la=Math.ceil(fe/(Qt||1));return Br.stock_quantity>=la}catch(Br){return console.error("Erro ao verificar estoque da matria-prima:",Br),!1}},Q=async(K,fe)=>{ka();const ct=fe?K.price+fe.price_adjustment:K.price,Pt=fe?fe.stock_quantity??0:K.stock_quantity??0;fe?`${K.id}${fe.id}`:K.id;const Qt=(fe==null?void 0:fe.is_composite)||!1,Kt=a.find(At=>{var Rt;return At.id===K.id&&((Rt=At.selectedVariation)==null?void 0:Rt.id)===(fe==null?void 0:fe.id)});if(Kt){const At=Kt.quantity+1;if(!Qt&&At>Pt){Ie({variant:"destructive",title:"Estoque insuficiente",description:`Apenas ${Pt} unidades disponveis para ${K.name} ${fe!=null&&fe.name?`(${fe.name})`:""}.`});return}if(Qt&&At>Pt&&fe){const Rt=At-Pt;if(!await oo(fe,Rt)){Ie({variant:"destructive",title:"Matria-prima insuficiente",description:`No h matria-prima suficiente para produzir ${K.name} ${fe!=null&&fe.name?`(${fe.name})`:""}.`});return}}i(a.map(Rt=>{var Br;return Rt.id===K.id&&((Br=Rt.selectedVariation)==null?void 0:Br.id)===(fe==null?void 0:fe.id)?{...Rt,quantity:Rt.quantity+1}:Rt}))}else{if(!Qt&&Pt<1){Ie({variant:"destructive",title:"Estoque insuficiente",description:`Apenas ${Pt} unidades disponveis para ${K.name} ${fe!=null&&fe.name?`(${fe.name})`:""}.`});return}if(Qt&&Pt<1&&fe&&!await oo(fe,1)){Ie({variant:"destructive",title:"Matria-prima insuficiente",description:`No h matria-prima suficiente para produzir ${K.name} ${fe!=null&&fe.name?`(${fe.name})`:""}.`});return}i([...a,{...K,stock_quantity:Pt,id:K.id,quantity:1,price:ct,selectedVariation:fe,isRedeemedWithPoints:!1}])}},Fe=async()=>{if(!$||!T){Ie({variant:"destructive",title:"Erro",description:"Selecione uma variao vlida."});return}await Q($,T),L(!1),D(null),H(null)},Et=async(K,fe,ct)=>{var At,Rt,Br;const Pt=a.find(mn=>{var la;return mn.id===K&&((la=mn.selectedVariation)==null?void 0:la.id)===fe});if(!Pt)return;const Qt=Pt.selectedVariation?Pt.selectedVariation.stock_quantity:Pt.stock_quantity,Kt=((At=Pt.selectedVariation)==null?void 0:At.is_composite)||!1;if(!Kt&&ct>Qt){Ie({variant:"destructive",title:"Estoque insuficiente",description:`Apenas ${Qt} unidades disponveis para ${Pt.name} ${(Rt=Pt.selectedVariation)!=null&&Rt.name?`(${Pt.selectedVariation.name})`:""}.`});return}if(Kt&&ct>Qt&&Pt.selectedVariation){const mn=ct-Qt;if(!await oo(Pt.selectedVariation,mn)){Ie({variant:"destructive",title:"Matria-prima insuficiente",description:`No h matria-prima suficiente para produzir ${Pt.name} ${(Br=Pt.selectedVariation)!=null&&Br.name?`(${Pt.selectedVariation.name})`:""}.`});return}}i(ct===0?a.filter(mn=>{var la;return!(mn.id===K&&((la=mn.selectedVariation)==null?void 0:la.id)===fe)}):a.map(mn=>{var la;return mn.id===K&&((la=mn.selectedVariation)==null?void 0:la.id)===fe?{...mn,quantity:ct}:mn}))},Fr=(K,fe,ct)=>{if(!E){Ie({variant:"destructive",title:"Cliente no identificado",description:"Identifique o cliente para usar pontos de fidelidade."});return}i(Pt=>Pt.map(Kt=>{var At;if(Kt.id===K&&((At=Kt.selectedVariation)==null?void 0:At.id)===fe)if(ct){const Rt=Kt.redemption_points_cost*Kt.quantity;return E.points<Rt?(Ie({variant:"destructive",title:"Pontos insuficientes",description:`Voc precisa de ${Rt} pontos para resgatar ${Kt.name} (${Kt.quantity}x).`}),Kt):{...Kt,isRedeemedWithPoints:!0}}else return{...Kt,isRedeemedWithPoints:!1};return Kt}))},Da=()=>{i([]),_(""),C(""),A(null),we(null),q(!1),ae(""),W(""),Ae(""),Ct(""),Ft(""),Me(""),rn(""),nt(!1),yr(!1),rr(null),X(!1),xe("")},Za=g.useMemo(()=>a.reduce((K,fe)=>K+(fe.isRedeemedWithPoints?0:fe.price*fe.quantity),0),[a]),ei=g.useMemo(()=>a.reduce((K,fe)=>K+(fe.isRedeemedWithPoints?fe.redemption_points_cost*fe.quantity:0),0),[a]),oa=g.useMemo(()=>{if(!oe||!U)return 0;const K=parseFloat(U);return isNaN(K)?0:K},[oe,U]),Kv=g.useMemo(()=>Za+oa,[Za,oa]),kh=K=>{if(!b){console.log("Impresso desativada. Pedido no ser impresso.");return}const fe=window.open("","_blank");if(!fe){Ie({variant:"destructive",title:"Erro ao imprimir",description:"No foi possvel abrir a janela de impresso. Verifique se o bloqueador de pop-ups est desativado."});return}const ct=(E==null?void 0:E.name)||N||"Cliente Annimo",Pt=S||"N/A",Qt=new Date().toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});let Kt="";be&&ee&&(Kt=ee);let At=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Pedido #${K}</title>
          <style>
            body {
              font-family: 'Courier New', monospace;
              max-width: 300px;
              margin: 20px auto;
              padding: 0;
              font-size: 12px;
            }
            .header {
              text-align: center;
              background-color: #2a2a2a !important;
              color: white;
              padding: 15px 10px;
              margin-bottom: 10px;
              -webkit-print-color-adjust: exact;
              print-color-adjust: exact;
              color-adjust: exact;
            }
            .header h1 {
              margin: 0;
              font-size: 18px;
              font-weight: bold;
              text-transform: uppercase;
              letter-spacing: 0.5px;
            }
            .header .datetime {
              margin-top: 5px;
              font-size: 13px;
              opacity: 0.95;
            }
            .content {
              padding: 10px;
            }
            .order-info {
              margin-bottom: 5px;
            }
            .order-info div {
              margin: 2px 0;
              font-size: 12px;
            }
            .section {
              margin: 5px 0;
              padding: 5px 0;
            }
            .section-title {
              font-weight: bold;
              margin-bottom: 3px;
              font-size: 12px;
            }
            .section div {
              font-size: 12px;
            }
            .item {
              display: flex;
              justify-content: space-between;
              margin: 3px 0;
            }
            .divider {
              border-top: 1px dashed #333;
              margin: 8px 0;
            }
            .total {
              font-size: 14px;
              font-weight: bold;
              margin-top: 8px;
            }
            .footer {
              text-align: center;
              margin-top: 10px;
              font-size: 11px;
            }
            @media print {
              body {
                margin: 0;
                padding: 0;
              }
              .header {
                background-color: #2a2a2a !important;
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
              }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <h1>${ct.toUpperCase()}</h1>
            ${Kt?`<div class="datetime">${Kt}</div>`:""}
          </div>

          <div class="content">
            <div class="order-info">
              <div>Pedido #${K}</div>
              ${Pt!=="N/A"?`<div>N: ${Pt}</div>`:""}
              <div>${Qt}</div>
            </div>

            ${oe?`
              <div class="divider"></div>
              <div class="section">
                <div class="section-title">ENTREGA</div>
                <div>${he}, ${Ce}</div>
                ${ht?`<div>${ht}</div>`:""}
                ${_r?`<div>Ref: ${_r}</div>`:""}
                ${jr&&!jt?`<div>CEP: ${jr}</div>`:""}
              </div>
            `:""}

            <div class="divider"></div>

            <div class="section">
              <div class="section-title">ITENS DO PEDIDO</div>
              ${a.map(Rt=>{const Br=Rt.isRedeemedWithPoints;return`
                  <div class="item">
                    <span>${Rt.quantity}x ${Rt.name}${Rt.selectedVariation?` (${Rt.selectedVariation.name})`:""}${Br?" ":""}</span>
                    <span>${Br?"RESGATADO":`R$ ${(Rt.price*Rt.quantity).toFixed(2)}`}</span>
                  </div>
                `}).join("")}
            </div>

            ${oe&&oa>0?`
              <div class="divider"></div>
              <div class="section">
                <div>Taxa de Entrega: R$ ${oa.toFixed(2)}</div>
              </div>
            `:""}

            <div class="divider"></div>

            ${ge?`
              <div class="section">
                <div class="section-title">OBSERVAO</div>
                <div>${ge}</div>
              </div>
              <div class="divider"></div>
            `:""}

            <div class="section">
              <div><strong>Pagamento:</strong> ${(Z==null?void 0:Z.charAt(0).toUpperCase())+(Z==null?void 0:Z.slice(1))}</div>
              ${Z==="dinheiro"&&z?`<div><strong>Troco para:</strong> R$ ${parseFloat(z).toFixed(2)}</div>`:""}
            </div>

            <div className="total">
              TOTAL: R$ ${Kv.toFixed(2)}
            </div>

            ${ei>0?`
              <div className="total">
                PONTOS RESGATADOS: ${ei} pts
              </div>
            `:""}

            <div className="footer">
              Obrigado pela preferncia!
            </div>
          </div>

          <script>
            window.onload = function() {
              setTimeout(function() {
                window.print();
              }, 250);
            };
            
            // Fecha a janela automaticamente aps imprimir ou cancelar
            window.onafterprint = function() {
              setTimeout(function() {
                window.close();
              }, 100);
            };
          <\/script>
        </body>
      </html>
    `;fe.document.write(At),fe.document.close()},tl=async()=>{if(!(E!=null&&E.id))return;const{data:K,error:fe}=await Ar.from("customer_addresses").select("*").eq("customer_id",E.id).order("name");fe?Ie({variant:"destructive",title:"Erro ao carregar endereos salvos",description:fe.message}):Ye(K||[])},Hw=async()=>{if(!(E!=null&&E.id)||!he||!ht){Ie({variant:"destructive",title:"Erro ao salvar endereo",description:"Preencha Rua e Bairro para salvar o endereo."});return}const{error:K}=await Ar.from("customer_addresses").insert({customer_id:E.id,name:"Endereo Salvo",address:he,number:Ce,neighborhood:ht,reference:_r,cep:jt?null:jr});K?Ie({variant:"destructive",title:"Erro ao salvar endereo",description:K.message}):(Ie({title:"Endereo salvo com sucesso!"}),tl(),yr(!1))},Gw=K=>{const fe=or.find(ct=>ct.id===K);fe&&(Ae(fe.address),Ct(fe.number||""),Ft(fe.neighborhood),Me(fe.reference||""),rn(fe.cep||""),nt(!fe.cep),rr(K))},Kw=async K=>{if(K.preventDefault(),!Le||!(E!=null&&E.id))return;if(!Bt||!de||!tt){Ie({variant:"destructive",title:"Campos obrigatrios",description:"Nome, Rua e Bairro so obrigatrios."});return}const fe={name:Bt,address:de,number:Te||null,neighborhood:tt,reference:pr||null,cep:ie?null:se||null},{error:ct}=await Ar.from("customer_addresses").update(fe).eq("id",Le.id);ct?Ie({variant:"destructive",title:"Erro ao atualizar endereo",description:ct.message}):(Ie({title:"Endereo atualizado!"}),ce(!1),tl())},Yv=async()=>{try{const K=a.reduce((qe,Ue)=>qe+(Ue.isRedeemedWithPoints?0:Ue.price*Ue.quantity),0),fe=a.reduce((qe,Ue)=>qe+(Ue.isRedeemedWithPoints?Ue.redemption_points_cost*Ue.quantity:0),0),ct=oe&&U?parseFloat(U):0,Pt=K+ct;if(a.length===0){Ie({variant:"destructive",title:"Carrinho vazio",description:"Adicione produtos antes de finalizar"});return}if(Pt>0&&!Z){Ie({variant:"destructive",title:"Selecione forma de pagamento"});return}if(fe>0&&Z==="fidelidade"){Ie({variant:"destructive",title:"Forma de pagamento invlida",description:"Selecione uma forma de pagamento monetria para o restante do pedido."});return}if(oe&&(!he||!ht)){Ie({variant:"destructive",title:"Endereo e Bairro obrigatrios para entrega"});return}if(be&&!ee){Ie({variant:"destructive",title:"Horrio de retirada obrigatrio",description:"Selecione o horrio para retirada da reserva"});return}const{data:Qt}=await Ar.from("cash_register").select("id").eq("store_id",Wt.store_id).is("closed_at",null).maybeSingle();if(!Qt||!("id"in Qt)){Ie({variant:"destructive",title:"Caixa fechado",description:"Abra o caixa antes de fazer vendas"});return}const Kt=Qt.id,At=`PED-${Date.now().toString().slice(-6)}`;let Rt=(E==null?void 0:E.id)||null;const Br=[];fe>0&&Br.push("Fidelidade"),Pt>0&&Z&&Br.push(Qv[Z]);const mn=Br.join(" + "),la=es(),{data:F,error:ue}=await Ar.from("orders").insert({store_id:Wt.store_id,order_number:At,customer_id:Rt,customer_name:N||null,source:O,total:Pt,payment_method:mn,delivery:oe,delivery_fee:ct,change_for:Z==="dinheiro"&&z?parseFloat(z):null,cash_register_id:Kt,created_by:vt==null?void 0:vt.id,delivery_address:oe?he:null,delivery_number:oe?Ce:null,delivery_neighborhood:oe?ht:null,delivery_reference:oe?_r:null,delivery_cep:oe&&!jt?jr:null,notes:ge||null,pickup_time:be?ee:null,status:la}).select().single();if(ue||!F||!("id"in F)){Ie({variant:"destructive",title:"Erro ao criar pedido",description:(ue==null?void 0:ue.message)||"Erro desconhecido"});return}const Ke=F==null?void 0:F.id,ot=a.map(qe=>{var Ue,lr;return{order_id:Ke,product_id:qe.id,product_name:qe.name,product_price:qe.isRedeemedWithPoints?0:qe.price,quantity:qe.quantity,subtotal:qe.isRedeemedWithPoints?0:qe.price*qe.quantity,product_variation_id:((Ue=qe.selectedVariation)==null?void 0:Ue.id)||null,variation_name:((lr=qe.selectedVariation)==null?void 0:lr.name)||null}}),{error:Vt}=await Ar.from("order_items").insert(ot);if(Vt){Ie({variant:"destructive",title:"Erro ao adicionar itens",description:Vt.message});return}const _t=a.map(async qe=>{let Ue=0,lr="",an="";if(qe.selectedVariation){lr="product_variations",an=qe.selectedVariation.id;const{data:mr,error:bn}=await Ar.from(lr).select("stock_quantity, is_composite").eq("id",an).single();if(bn){console.error(`Erro ao buscar estoque da variao ${qe.selectedVariation.name}:`,bn.message);return}Ue=(mr==null?void 0:mr.stock_quantity)??0;const Mt=(mr==null?void 0:mr.is_composite)||!1?Ue-qe.quantity:Math.max(0,Ue-qe.quantity);if(Ve&&Mt>=0&&Mt<=Qe){const Sc=qe.name+(qe.selectedVariation?` (${qe.selectedVariation.name})`:"");Ie({variant:"destructive",title:" Alerta IFOOD",description:`O produto "${Sc}" atingiu o limite de estoque (${Mt} unidades). Lembre-se de paus-lo no iFood!`,duration:15e3,action:s.jsx(Y_,{altText:"Fechar alerta",children:"OK"})})}const{error:Nr}=await Ar.from(lr).update({stock_quantity:Mt}).eq("id",an);Nr&&console.error(`Erro ao atualizar estoque de ${qe.name}:`,Nr.message)}else{lr="products",an=qe.id;const{data:mr,error:bn}=await Ar.from(lr).select("stock_quantity").eq("id",an).single();if(bn){console.error(`Erro ao buscar estoque do produto ${qe.name}:`,bn.message);return}Ue=(mr==null?void 0:mr.stock_quantity)??0;const Ia=Math.max(0,Ue-qe.quantity);if(Ve&&Ia>=0&&Ia<=Qe){const Nr=qe.name;Ie({variant:"destructive",title:" Alerta IFOOD",description:`O produto "${Nr}" atingiu o limite de estoque (${Ia} unidades). Lembre-se de paus-lo no iFood!`,duration:15e3,action:s.jsx(Y_,{altText:"Fechar alerta",children:"OK"})})}const{error:Mt}=await Ar.from(lr).update({stock_quantity:Ia}).eq("id",an);Mt&&console.error(`Erro ao atualizar estoque de ${qe.name}:`,Mt.message)}});await Promise.all(_t);const $t=a.map(async qe=>{if(!qe.selectedVariation)return;const{data:Ue,error:lr}=await Ar.from("product_variations").select("is_composite, raw_material_product_id, raw_material_variation_id, yield_quantity").eq("id",qe.selectedVariation.id).single();if(lr||!Ue||!Ue.is_composite)return;const{is_composite:an,raw_material_product_id:mr,raw_material_variation_id:bn,yield_quantity:Ia}=Ue;if(!an||!mr&&!bn)return;const Mt=qe.stock_quantity||0;if(Mt>=qe.quantity){console.log(`Produto composto ${qe.name} tinha estoque suficiente (${Mt}). No consumindo matria-prima.`);return}const Nr=qe.quantity-Mt,Sc=!!bn,TA=Sc?bn:mr,DA=Sc?"product_variations":"products",{data:Xw,error:eg}=await Ar.from(DA).select("stock_quantity, name").eq("id",TA).single();if(eg||!Xw){console.error(`Erro ao buscar matria-prima para ${qe.name}:`,eg==null?void 0:eg.message);return}const tg=Math.ceil(Nr/Ia),YH=Math.max(0,Xw.stock_quantity-tg),{error:IA}=await Ar.from(DA).update({stock_quantity:YH}).eq("id",TA);if(IA){console.error(`Erro ao atualizar estoque da matria-prima ${Xw.name}:`,IA.message);return}const rg=tg*Ia,{data:ng,error:ag}=await Ar.from("product_variations").select("stock_quantity").eq("id",qe.selectedVariation.id).single();if(ag||!ng){console.error("Erro ao buscar estoque atual da variao:",ag==null?void 0:ag.message);return}const RA=(ng==null?void 0:ng.stock_quantity)??0,Qw=RA+rg;console.log(`DEBUG: Produto composto ${qe.name}: estoque atual = ${RA}, gerando ${rg}, novo = ${Qw}`);const{error:$A}=await Ar.from("product_variations").update({stock_quantity:Qw}).eq("id",qe.selectedVariation.id);if($A){console.error("Erro ao atualizar estoque do produto composto:",$A.message);return}console.log(`Produto composto ${qe.name}: Consumiu ${tg} matria-prima, gerou ${rg} unidades, estoque final = ${Qw}.`);const{data:Jw,error:XH}=await Ar.from("order_items").select("id").eq("order_id",Ke).eq("product_id",qe.id).eq("variation_id",qe.selectedVariation.id);!XH&&Jw&&Jw.length>0&&await Ar.from("composite_item_transactions").insert({order_id:Ke,order_item_id:Jw[0].id,variation_id:qe.selectedVariation.id,raw_material_product_id:mr,raw_material_consumed:tg,variations_generated:rg})});await Promise.all($t);const pt=a.map(async qe=>{const{data:Ue,error:lr}=await Ar.from("product_packaging_links").select("packaging_id, quantity").eq("product_id",qe.id).eq("store_id",Wt.store_id);if(lr){console.error(`Erro ao buscar embalagens para ${qe.name}:`,lr.message);return}if(!(!Ue||Ue.length===0))for(const an of Ue){const{data:mr,error:bn}=await Ar.from("products").select("stock_quantity, name").eq("id",an.packaging_id).single();if(bn||!mr){console.error(`Erro ao buscar embalagem ${an.packaging_id}:`,bn==null?void 0:bn.message);continue}const Ia=an.quantity*qe.quantity,Mt=Math.max(0,mr.stock_quantity-Ia),{error:Nr}=await Ar.from("products").update({stock_quantity:Mt}).eq("id",an.packaging_id);Nr&&console.error(`Erro ao atualizar estoque da embalagem ${mr.name}:`,Nr.message)}});await Promise.all(pt),fe>0&&E&&"id"in E&&(await Ar.from("customers").update({points:E.points-fe}).eq("id",E.id),await Ar.from("loyalty_transactions").insert({customer_id:E.id,order_id:Ke,points:-fe,transaction_type:"redeem",store_id:Wt.store_id,description:`Resgate de ${fe} pontos no pedido ${At}`})),zt&&(E!=null&&E.id)&&he&&ht&&await Hw(),qt(!0),setTimeout(()=>qt(!1),1500),kh(At),Da(),J(!1),ts()}catch(K){console.error("Erro ao finalizar pedido:",K),Ie({variant:"destructive",title:"Erro ao finalizar pedido",description:(K==null?void 0:K.message)||"Ocorreu um erro inesperado. O pedido pode ter sido criado parcialmente."})}},Yw={totem:a3,whatsapp:KK,loja_online:uu,presencial:ix,ifood:uu},Xv={pix:n0,credito:ju,debito:ju,dinheiro:hf,fidelidade:Kn,reserva:Qs},Qv={pix:"PIX",credito:"Crdito",debito:"Dbito",dinheiro:"Dinheiro",fidelidade:"Fidelidade",reserva:"Reserva"},Jv=Oh(),Zv=Object.keys(Jv).sort((K,fe)=>K===" Favoritos"?-1:fe===" Favoritos"||K==="Sem Categoria"?1:fe==="Sem Categoria"?-1:K.localeCompare(fe));return s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-[calc(100vh-2rem)]",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"PDV - Ponto de Venda"}),s.jsx("p",{className:"text-muted-foreground",children:"Selecione os produtos para adicionar ao pedido"})]}),s.jsxs(B,{variant:b?"default":"destructive",size:"sm",onClick:Eh,className:"flex items-center gap-2",children:[s.jsx(i3,{className:"h-4 w-4 mr-2"}),b?"Impresso Ativa":"Impresso Desativada"]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Xl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ne,{placeholder:"Buscar produtos...",value:d,onChange:K=>nr(K.target.value),onFocus:()=>h.length>0&&m(!0),onKeyDown:K=>{K.key==="Enter"&&d&&(Or(d),m(!1))},className:"pl-10 pr-10"}),d&&s.jsx(B,{variant:"ghost",size:"sm",onClick:()=>f(""),className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-6 px-2",children:""}),y&&h.length>0&&s.jsx(ve,{className:"absolute top-full mt-2 w-full z-50 shadow-lg",children:s.jsxs(ye,{className:"p-2",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("span",{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Qs,{className:"h-4 w-4"}),"Buscas Recentes"]}),s.jsx(B,{variant:"ghost",size:"sm",onClick:Gv,className:"h-6 text-xs",children:"Limpar"})]}),h.map((K,fe)=>s.jsx(B,{variant:"ghost",size:"sm",onClick:()=>st(K),className:"w-full justify-start text-left mb-1",children:K},fe))]})})]}),s.jsx("div",{className:"embla overflow-hidden w-full",ref:j,children:s.jsxs("div",{className:"embla__container flex gap-2 pb-2",children:[s.jsx(B,{variant:c===null?"default":"outline",onClick:()=>u(null),className:"embla__slide flex-shrink-0",children:"Todas"}),o.map(K=>s.jsx(B,{variant:c===K.id?"default":"outline",onClick:()=>u(K.id),className:"embla__slide flex-shrink-0",children:K.name},K.id))]})}),s.jsx("div",{className:"overflow-y-auto max-h-[calc(100vh-18rem)]",children:Zv.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Nenhum produto encontrado."}):Zv.map(K=>s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:Ee("text-xl font-bold mb-3 sticky top-0 py-2 z-10","bg-background"),children:K}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Jv[K].map(fe=>{const ct=r.filter(Kt=>Kt.product_id===fe.id),Pt=fe.has_variations?ct.every(Kt=>Kt.stock_quantity===0&&!Kt.is_composite):fe.stock_quantity===0,Qt=v.includes(fe.id);return s.jsx(zle,{product:fe,productVariations:ct,isOutOfStock:Pt,isFavorite:Qt,toggleFavorite:Ts,handleAddToCart:el},fe.id)})})]},K))})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs(ve,{className:"shadow-soft",children:[s.jsx(je,{children:s.jsx(Se,{children:"Identificao"})}),s.jsxs(ye,{className:"space-y-4",children:[s.jsx("div",{className:"space-y-2",children:s.jsx("div",{className:"flex gap-2",children:s.jsx(ne,{id:"customer-name-input",type:"text",placeholder:"Nome do cliente (opcional)",value:N,onChange:K=>C(K.target.value)})})}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ne,{id:"customer-phone-input",type:"tel",placeholder:"Celular do cliente",value:S,onChange:K=>_(K.target.value.replace(/\D/g,"")),onKeyDown:K=>{K.key==="Enter"&&(K.preventDefault(),jc())},inputMode:"numeric",pattern:"[0-9]*"}),s.jsx(B,{onClick:jc,size:"sm",children:"OK"})]}),E&&s.jsxs("div",{className:"p-3 bg-primary/10 rounded-lg",children:[s.jsx("p",{className:"font-medium",children:E.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[E.points," pontos"]})]})]})]})]}),s.jsxs(ve,{className:"shadow-soft",children:[s.jsx(je,{children:s.jsxs(Se,{className:"flex items-center gap-2",children:[s.jsx(uu,{className:"h-5 w-5"}),"Carrinho"]})}),s.jsxs(ye,{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-2 flex-wrap items-center",children:[s.jsxs("div",{className:"text-lg font-bold text-primary mr-auto","data-testid":"cart-total",children:["TOTAL: R$ ",Kv.toFixed(2)]}),ei>0&&s.jsxs("div",{className:"flex items-center justify-between text-sm text-purple-600 font-medium",children:[s.jsx("span",{children:"Pontos a Resgatar:"}),s.jsxs("span",{children:[ei," pts"]})]}),["presencial","whatsapp","ifood"].map(K=>{const fe=Yw[K];return s.jsxs(B,{variant:O===K?"default":"outline",onClick:()=>P(K),size:"sm",children:[s.jsx(fe,{className:"h-4 w-4 mr-2"}),K.charAt(0).toUpperCase()+K.slice(1)]},K)})]}),a.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Carrinho vazio"}):s.jsx("div",{className:"space-y-3",children:a.map(K=>{var fe;return s.jsxs("div",{className:"flex items-center justify-between p-3 bg-accent rounded-lg",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("p",{className:"font-medium",children:[K.name," ",K.selectedVariation&&`(${K.selectedVariation.name})`]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:K.isRedeemedWithPoints?s.jsxs("span",{className:"text-purple-600",children:[K.redemption_points_cost.toFixed(0)," pts cada"]}):`R$ ${K.price.toFixed(2)} cada`})]}),s.jsxs("div",{className:"flex items-center gap-2 justify-end flex-col",children:[" ",K.can_be_redeemed_with_points&&E&&s.jsxs(B,{variant:"ghost",size:"sm",className:"h-8 px-2 flex items-center gap-1",onClick:()=>{var ct;return Fr(K.id,(ct=K.selectedVariation)==null?void 0:ct.id,!K.isRedeemedWithPoints)},children:[s.jsx(Kn,{className:Ee("h-4 w-4",K.isRedeemedWithPoints?"fill-primary text-primary":"text-muted-foreground")}),s.jsx("span",{className:"text-xs",children:"Fidelidade?"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(B,{variant:"outline",size:"sm",onClick:()=>{var ct;return Et(K.id,(ct=K.selectedVariation)==null?void 0:ct.id,K.quantity-1)},children:s.jsx(tm,{className:"h-3 w-3"})}),s.jsx("span",{className:"w-8 text-center font-medium",children:K.quantity}),s.jsx(B,{variant:"outline",size:"sm",onClick:()=>{var ct;return Et(K.id,(ct=K.selectedVariation)==null?void 0:ct.id,K.quantity+1)},children:s.jsx(xr,{className:"h-3 w-3"})})]})]})]},`${K.id}-${((fe=K.selectedVariation)==null?void 0:fe.id)||""}`)})}),a.length>0&&s.jsxs(s.Fragment,{children:[s.jsx(So,{}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(V,{htmlFor:"delivery",className:"cursor-pointer",children:"Entrega?"}),s.jsx(gi,{id:"delivery",checked:oe,onCheckedChange:K=>{q(K===!0),K||(Ae(""),Ct(""),Ft(""),Me(""),rn(""),nt(!1),yr(!1),rr(null))}})]}),oe&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"deliveryFee",children:"Taxa de Entrega"}),s.jsx(ne,{id:"deliveryFee",type:"number",step:"0.01",placeholder:"0.00",value:U,onChange:K=>ae(K.target.value)})]}),or.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"savedAddress",children:"Endereos Salvos"}),s.jsxs(ir,{value:Rr||"",onValueChange:Gw,children:[s.jsx(er,{id:"savedAddress",children:s.jsx(sr,{placeholder:"Selecionar endereo salvo"})}),s.jsx(tr,{children:or.map(K=>s.jsxs($e,{value:K.id,children:[K.name," - ",K.address,", ",K.number," (",K.neighborhood,")"]},K.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Rua"}),s.jsx(ne,{value:he,onChange:K=>Ae(K.target.value),required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Nmero"}),s.jsx(ne,{value:Ce,onChange:K=>Ct(K.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Bairro"}),s.jsx(ne,{value:ht,onChange:K=>Ft(K.target.value),required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Referncia"}),s.jsx(ne,{value:_r,onChange:K=>Me(K.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(V,{htmlFor:"cep",children:"CEP"}),s.jsx(B,{type:"button",variant:"link",size:"sm",onClick:()=>nt(!jt),children:jt?"Informar CEP":"No sei o CEP"})]}),!jt&&s.jsx(ne,{id:"cep",value:jr,onChange:K=>rn(K.target.value.replace(/\D/g,"")),placeholder:"00000-000",inputMode:"numeric"})]}),E&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gi,{id:"saveAddress",checked:zt,onCheckedChange:K=>yr(K===!0)}),s.jsx(V,{htmlFor:"saveAddress",children:"Salvar endereo para prxima compra"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(V,{htmlFor:"reserva",className:"cursor-pointer",children:"Reserva?"}),s.jsx(gi,{id:"reserva",checked:be,onCheckedChange:K=>{X(K===!0),K||xe("")}})]}),be&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"reservaPickupTime",children:"Horrio de Retirada"}),s.jsxs(ir,{value:ee,onValueChange:xe,children:[s.jsx(er,{id:"reservaPickupTime",children:s.jsx(sr,{placeholder:"Selecione o horrio"})}),s.jsxs(tr,{children:[s.jsx($e,{value:"10:00",children:"10:00"}),s.jsx($e,{value:"10:30",children:"10:30"}),s.jsx($e,{value:"11:00",children:"11:00"}),s.jsx($e,{value:"11:30",children:"11:30"}),s.jsx($e,{value:"12:00",children:"12:00"}),s.jsx($e,{value:"12:30",children:"12:30"}),s.jsx($e,{value:"13:00",children:"13:00"}),s.jsx($e,{value:"13:30",children:"13:30"}),s.jsx($e,{value:"14:00",children:"14:00"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"notes",children:"Observao"}),s.jsx(zu,{id:"notes",placeholder:"Ex: menos sal, mais assado, ao ponto, entregar no porto...",value:ge,onChange:K=>me(K.target.value),className:"min-h-[80px]"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"paymentMethod",children:"Forma de Pagamento"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:["pix","credito","debito","dinheiro","reserva"].map(K=>{const fe=Xv[K];return s.jsxs(B,{variant:Z===K?"default":"outline",onClick:()=>we(K),className:"flex items-center justify-center gap-2",children:[s.jsx(fe,{className:"h-4 w-4 mr-2"}),Qv[K]]},K)})})]}),Z==="dinheiro"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"changeFor",children:"Troco para quanto?"}),s.jsx(ne,{id:"changeFor",type:"number",step:"0.01",placeholder:"0.00",value:z,onChange:K=>W(K.target.value)})]})]}),s.jsx(So,{}),s.jsxs("div",{className:"space-y-2",children:[ei>0&&s.jsxs("div",{className:"flex items-center justify-between text-sm text-purple-600 font-medium",children:[s.jsx("span",{children:"Pontos a Resgatar:"}),s.jsxs("span",{children:[ei," pts"]})]}),oe&&U&&s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{children:"Subtotal Monetrio:"}),s.jsxs("span",{children:["R$ ",Za.toFixed(2)]})]}),oe&&U&&s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{children:"Taxa de Entrega:"}),s.jsxs("span",{children:["R$ $",oa.toFixed(2)]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs(B,{variant:"outline",onClick:Da,children:[s.jsx(qr,{className:"h-4 w-4 mr-2"}),"Limpar"]}),s.jsxs(B,{onClick:Yv,className:"shadow-soft",children:[s.jsx(TK,{className:"h-4 w-4 mr-2"}),"Finalizar"]})]})]})]})]})]})]}),s.jsx(St,{open:k,onOpenChange:I,children:s.jsxs(xt,{children:[s.jsx(bt,{children:s.jsx(wt,{children:"Informaes do Cliente"})}),s.jsxs("form",{onSubmit:Ah,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"phone",children:"Telefone"}),s.jsx(ne,{id:"phone",value:S,onChange:K=>_(K.target.value),placeholder:"(11) 99999-9999",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"name",children:"Nome (se for cliente novo)"}),s.jsx(ne,{id:"name",value:N,onChange:K=>C(K.target.value),placeholder:"Nome do cliente"})]}),s.jsx(B,{type:"submit",className:"w-full",children:"Confirmar"})]})]})}),s.jsx(St,{open:M,onOpenChange:L,children:s.jsxs(xt,{children:[s.jsx(bt,{children:s.jsx(wt,{children:"Selecione a Variao"})}),$&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-lg font-semibold",children:$.name}),s.jsxs(ir,{value:(T==null?void 0:T.id)||"",onValueChange:K=>H(r.find(fe=>fe.id===K)||null),children:[s.jsx(er,{children:s.jsx(sr,{placeholder:"Escolha uma variao"})}),s.jsx(tr,{children:r.filter(K=>K.product_id===$.id&&K.stock_quantity>0).map(K=>s.jsxs($e,{value:K.id,children:[K.name," (R$ ",($.price+K.price_adjustment).toFixed(2),") - Estoque: ",K.stock_quantity]},K.id))})]}),T&&T.stock_quantity===0&&!T.is_composite&&s.jsx("p",{className:"text-sm text-destructive",children:"Esta variao est sem estoque."}),T&&T.stock_quantity===0&&T.is_composite&&s.jsx("p",{className:"text-sm text-muted-foreground",children:"Este produto ser feito sob demanda da matria-prima."}),s.jsx(B,{onClick:Fe,className:"w-full",disabled:!T,children:"Adicionar ao Carrinho"})]})]})}),s.jsx(St,{open:nn,onOpenChange:K=>{ce(K),K||(Je(null),fr(""),De(""),et(""),hr(""),Wr(""),G(""),Ge(!1))},children:s.jsxs(xt,{children:[s.jsx(bt,{children:s.jsx(wt,{children:"Editar Endereo Salvo"})}),s.jsxs("form",{onSubmit:Kw,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"editAddressName",children:"Nome do Endereo (Ex: Casa, Trabalho)"}),s.jsx(ne,{id:"editAddressName",value:Bt,onChange:K=>fr(K.target.value),placeholder:"Ex: Casa",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"editAddressStreet",children:"Rua"}),s.jsx(ne,{id:"editAddressStreet",value:de,onChange:K=>De(K.target.value),placeholder:"Ex: Rua das Flores",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"editAddressNumber",children:"Nmero"}),s.jsx(ne,{id:"editAddressNumber",value:Te,onChange:K=>et(K.target.value),placeholder:"Ex: 123"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"editAddressNeighborhood",children:"Bairro"}),s.jsx(ne,{id:"editAddressNeighborhood",value:tt,onChange:K=>hr(K.target.value),placeholder:"Ex: Centro",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"editAddressReference",children:"Referncia (Opcional)"}),s.jsx(ne,{id:"editAddressReference",value:pr,onChange:K=>Wr(K.target.value),placeholder:"Ex: Prximo  padaria"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(V,{htmlFor:"editAddressCep",children:"CEP"}),s.jsx(B,{type:"button",variant:"link",size:"sm",onClick:()=>Ge(!ie),children:ie?"Informar CEP":"No sei o CEP"})]}),!ie&&s.jsx(ne,{id:"editAddressCep",value:se,onChange:K=>G(K.target.value.replace(/\D/g,"")),placeholder:"00000-000",inputMode:"numeric"})]}),s.jsxs(Lr,{children:[s.jsx(B,{type:"button",variant:"outline",onClick:()=>ce(!1),children:"Cancelar"}),s.jsx(B,{type:"submit",children:"Salvar Alteraes"})]})]})]})}),lt&&s.jsx("div",{className:"fixed bottom-8 right-8 pointer-events-none z-50",children:s.jsx("div",{className:"animate-coin-rise",children:s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-yellow-400 to-yellow-600 shadow-lg flex items-center justify-center text-xl animate-coin-spin",children:""})})})]})}const Vle=hv("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function kn({className:e,variant:t,...r}){return s.jsx("div",{className:Ee(Vle({variant:t}),e),...r})}const FT="sound_notifications_enabled",BT=()=>{try{const e=new Audio("/notification.mp3");e.volume=.8;const t=e.play();t!==void 0&&t.then(()=>{console.log("Notificao sonora tocada com sucesso")}).catch(r=>{console.warn("Erro ao tocar notificao sonora (Autoplay bloqueado):",r)})}catch(e){console.error("Erro ao criar instncia de udio:",e)}};function zP(){const[e,t]=g.useState(()=>{if(typeof window<"u"){const o=localStorage.getItem(FT);return o?JSON.parse(o):!0}return!0}),r=g.useRef(null);g.useEffect(()=>{localStorage.setItem(FT,JSON.stringify(e))},[e]);const n=g.useCallback(()=>{if(!r.current)try{r.current=new Audio("/notification.mp3"),r.current.volume=.8,r.current.load(),console.log("Som de notificao pr-carregado")}catch(o){console.error("Erro ao pr-carregar som:",o)}},[]),a=g.useCallback(o=>{t(o),o&&BT()},[]),i=g.useCallback(()=>{e&&BT()},[e]);return{isEnabled:e,toggleSound:a,notify:i,preloadSound:n}}function z6(){const[e,t]=g.useState(new Date);g.useEffect(()=>{const n=setInterval(()=>{t(new Date)},1e3);return()=>clearInterval(n)},[]);const r=Be(e,"HH:mm:ss",{locale:Tt});return s.jsx("div",{className:"flex items-center justify-center px-3 py-1 bg-black rounded-md shadow-lg",children:s.jsx("span",{className:"font-mono text-2xl font-bold text-red-500",children:r})})}var P0="Switch",[Hle]=Xa(P0),[Gle,Kle]=Hle(P0),W6=g.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,p]=g.useState(null),y=Yt(t,w=>p(w)),m=g.useRef(!1),v=h?d||!!h.closest("form"):!0,[x,b]=Lo({prop:a,defaultProp:i??!1,onChange:u,caller:P0});return s.jsxs(Gle,{scope:r,checked:x,disabled:l,children:[s.jsx(Ze.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":K6(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:y,onClick:He(e.onClick,w=>{b(j=>!j),v&&(m.current=w.isPropagationStopped(),m.current||w.stopPropagation())})}),v&&s.jsx(G6,{control:h,bubbles:!m.current,name:n,value:c,checked:x,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});W6.displayName=P0;var V6="SwitchThumb",H6=g.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=Kle(V6,r);return s.jsx(Ze.span,{"data-state":K6(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});H6.displayName=V6;var Yle="SwitchBubbleInput",G6=g.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=g.useRef(null),l=Yt(o,i),c=CP(r),u=qE(t);return g.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&p){const y=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(y)}},[c,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});G6.displayName=Yle;function K6(e){return e?"checked":"unchecked"}var Y6=W6,Xle=H6;const cr=g.forwardRef(({className:e,...t},r)=>s.jsx(Y6,{className:Ee("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:s.jsx(Xle,{className:Ee("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));cr.displayName=Y6.displayName;const X6=g.createContext(null);function O0(){const e=g.useContext(X6);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}const Q6=g.forwardRef(({orientation:e="horizontal",opts:t,setApi:r,plugins:n,className:a,children:i,...o},l)=>{const[c,u]=vc({...t,axis:e==="horizontal"?"x":"y"},n),[d,f]=g.useState(!1),[h,p]=g.useState(!1),y=g.useCallback(b=>{b&&(f(b.canScrollPrev()),p(b.canScrollNext()))},[]),m=g.useCallback(()=>{u==null||u.scrollPrev()},[u]),v=g.useCallback(()=>{u==null||u.scrollNext()},[u]),x=g.useCallback(b=>{b.key==="ArrowLeft"?(b.preventDefault(),m()):b.key==="ArrowRight"&&(b.preventDefault(),v())},[m,v]);return g.useEffect(()=>{!u||!r||r(u)},[u,r]),g.useEffect(()=>{if(u)return y(u),u.on("reInit",y),u.on("select",y),()=>{u==null||u.off("select",y)}},[u,y]),s.jsx(X6.Provider,{value:{carouselRef:c,api:u,opts:t,orientation:e||((t==null?void 0:t.axis)==="y"?"vertical":"horizontal"),scrollPrev:m,scrollNext:v,canScrollPrev:d,canScrollNext:h},children:s.jsx("div",{ref:l,onKeyDownCapture:x,className:Ee("relative",a),role:"region","aria-roledescription":"carousel",...o,children:i})})});Q6.displayName="Carousel";const J6=g.forwardRef(({className:e,...t},r)=>{const{carouselRef:n,orientation:a}=O0();return s.jsx("div",{ref:n,className:"overflow-hidden",children:s.jsx("div",{ref:r,className:Ee("flex",a==="horizontal"?"-ml-4":"-mt-4 flex-col",e),...t})})});J6.displayName="CarouselContent";const Z6=g.forwardRef(({className:e,...t},r)=>{const{orientation:n}=O0();return s.jsx("div",{ref:r,role:"group","aria-roledescription":"slide",className:Ee("min-w-0 shrink-0 grow-0 basis-full",n==="horizontal"?"pl-4":"pt-4",e),...t})});Z6.displayName="CarouselItem";const eU=g.forwardRef(({className:e,variant:t="outline",size:r="icon",...n},a)=>{const{orientation:i,scrollPrev:o,canScrollPrev:l}=O0();return s.jsxs(B,{ref:a,variant:t,size:r,className:Ee("absolute h-8 w-8 rounded-full",i==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:o,...n,children:[s.jsx(jK,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Previous slide"})]})});eU.displayName="CarouselPrevious";const tU=g.forwardRef(({className:e,variant:t="outline",size:r="icon",...n},a)=>{const{orientation:i,scrollNext:o,canScrollNext:l}=O0();return s.jsxs(B,{ref:a,variant:t,size:r,className:Ee("absolute h-8 w-8 rounded-full",i==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:o,...n,children:[s.jsx(G4,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Next slide"})]})});tU.displayName="CarouselNext";const ri=ke,Wh=e=>{const t=e.split("-");if(t.length===3){const[r,n,a]=t;return`${a}/${n}/${r}`}return e},qT={pending:{bg:"bg-[#C3D3E2]",text:"text-gray-800",border:"border-[#C3D3E2]"},preparing:{bg:"bg-[#FFEB99]",text:"text-yellow-900",border:"border-[#FFEB99]"},ready:{bg:"bg-[#B2E5B2]",text:"text-green-900",border:"border-[#B2E5B2]"},delivered:{bg:"bg-green-500",text:"text-white",border:"border-green-500"},cancelled:{bg:"bg-gray-300",text:"text-gray-800",border:"border-gray-300"}},rS={pending:"Aguardando",preparing:"Em Preparo",ready:"Pronto",delivered:"Entregue",cancelled:"Cancelado"};function Qle(){const[e,t]=g.useState([]),[r,n]=g.useState(null),[a,i]=g.useState([]),[o,l]=g.useState(""),[c,u]=g.useState(!1),[d,f]=g.useState(null),[h,p]=g.useState(null),[y,m]=g.useState(!1),[v,x]=g.useState(()=>{const q=localStorage.getItem("orderPanel_showOnlyActiveCash");return q?JSON.parse(q):!1}),[b,w]=g.useState(null),[j,S]=g.useState(null),{profile:_}=Gt(),{toast:N}=dr(),{notify:C,isEnabled:E,toggleSound:A,preloadSound:O}=zP(),{activeFlow:P,getNextStatus:k}=Sv(),I=Array.from(new Set(e.map(q=>{var U;return((U=q.customers)==null?void 0:U.name)||q.customer_name}).filter(Boolean))).sort();g.useEffect(()=>{O()},[O]),g.useEffect(()=>{(async()=>{if(!(_!=null&&_.store_id))return;const{data:U}=await ri.from("cash_register").select("id").eq("store_id",_.store_id).is("closed_at",null).maybeSingle();U&&w(U.id)})()},[_==null?void 0:_.store_id]),g.useEffect(()=>{localStorage.setItem("orderPanel_showOnlyActiveCash",JSON.stringify(v))},[v]),g.useEffect(()=>{if(a.length>0){const q=setTimeout(()=>{i(U=>U.slice(1))},1e4);return()=>clearTimeout(q)}},[a]),g.useEffect(()=>{if(_!=null&&_.store_id&&P.length>0){L(),M();const q=ri.channel("orders-changes").on("postgres_changes",{event:"*",schema:"public",table:"orders",filter:`store_id=eq.${_.store_id}`},U=>{if(console.log("OrderPanel: Realtime event received!",U),U.eventType==="INSERT"){const ae=U.new;(ae.source==="whatsapp"||ae.source==="totem"||ae.source==="loja_online")&&(C(),i(z=>[...z,ae.id]))}L()}).subscribe();return()=>{ri.removeChannel(q)}}},[_,C,P]);const M=async()=>{if(!(_!=null&&_.store_id))return;const{data:q,error:U}=await ri.from("stores").select("motoboy_whatsapp_number").eq("id",_.store_id).single();U?console.error("Erro ao carregar nmero do motoboy:",U):q&&n(q.motoboy_whatsapp_number)},L=g.useCallback(async()=>{if(!(_!=null&&_.store_id)||P.length===0)return;const q=[...P,"delivered","cancelled"];let U=ri.from("orders").select(`
        *,
        customers (
          name,
          phone
        ),
        order_items (
          product_id,
          product_name,
          quantity,
          variation_name,
          product_price,
          subtotal
        )
      `).eq("store_id",_.store_id).in("status",q);v&&b&&(U=U.eq("cash_register_id",b));const{data:ae,error:z}=await U.order("created_at",{ascending:!1});z?N({variant:"destructive",title:"Erro ao carregar pedidos",description:z.message}):t(ae||[])},[_,P,N,v,b]),$=async(q,U)=>{var ge,me;const{data:ae,error:z}=await ri.from("orders").select("id, customer_id, payment_method, order_number").eq("id",q).single();if(z||!ae){N({variant:"destructive",title:"Erro ao buscar pedido",description:(z==null?void 0:z.message)||"Pedido no encontrado."});return}if(((ge=ae.payment_method)==null?void 0:ge.toLowerCase())==="reserva"&&U==="delivered"){const be=e.find(X=>X.id===q);if(be){f(be),u(!0);return}}const{error:W}=await ri.from("orders").update({status:U}).eq("id",q);if(W){N({variant:"destructive",title:"Erro ao atualizar pedido",description:W.message});return}if(U==="cancelled"&&((me=ae.payment_method)!=null&&me.toLowerCase().includes("fidelidade"))&&ae.customer_id)try{const{data:be,error:X}=await ri.from("loyalty_transactions").select("points").eq("order_id",q).eq("transaction_type","redeem");if(X)throw X;let ee=0;if(be.forEach(xe=>{ee+=Math.abs(xe.points)}),ee>0){const{data:xe,error:he}=await ri.from("customers").select("points").eq("id",ae.customer_id).single();if(he)throw he;const Ae=((xe==null?void 0:xe.points)||0)+ee,{error:Ce}=await ri.from("customers").update({points:Ae}).eq("id",ae.customer_id);if(Ce)throw Ce;const{error:Ct}=await ri.from("loyalty_transactions").insert({customer_id:ae.customer_id,order_id:q,points:ee,transaction_type:"earn",store_id:_.store_id,description:`Pontos devolvidos por cancelamento do pedido ${ae.order_number}`});if(Ct)throw Ct;N({title:"Pedido cancelado e pontos devolvidos!",description:`Pedido ${ae.order_number} cancelado. ${ee} pontos devolvidos ao cliente.`})}else N({title:"Pedido cancelado!",description:`Pedido ${ae.order_number} cancelado.`})}catch(be){console.error("Erro ao processar fidelidade no cancelamento:",be),N({variant:"destructive",title:"Erro ao devolver pontos",description:`Pedido cancelado, mas houve um erro ao devolver os pontos: ${be.message}`})}else N({title:"Pedido atualizado!"});L()},D=async q=>{confirm("Tem certeza que deseja cancelar este pedido? Esta ao no pode ser desfeita.")&&await $(q,"cancelled")},T=async()=>{if(!d||!h){N({variant:"destructive",title:"Erro",description:"Selecione uma forma de pagamento."});return}const{error:q}=await ri.from("orders").update({payment_method:h}).eq("id",d.id);if(q){N({variant:"destructive",title:"Erro ao atualizar pagamento",description:q.message});return}const{error:U}=await ri.from("orders").update({status:"delivered"}).eq("id",d.id);if(U){N({variant:"destructive",title:"Erro ao concluir pedido",description:U.message});return}N({title:"Pedido concludo!",description:`Pagamento atualizado para ${h}.`}),u(!1),f(null),p(null),L()},H=q=>{var z,W;if(!r){N({variant:"destructive",title:"Nmero do motoboy no configurado",description:"Configure o nmero de WhatsApp do motoboy nas Configuraes da Loja."});return}let U=`*NOVO PEDIDO DE ENTREGA*

`;U+=`*Pedido:* #${q.order_number}
`,U+=`*Cliente:* ${((z=q.customers)==null?void 0:z.name)||"N/A"}
`,U+=`*Telefone:* ${((W=q.customers)==null?void 0:W.phone)||"N/A"}
`,U+=`*Endereo:* ${q.delivery_address}, ${q.delivery_number}
`,q.delivery_reference&&(U+=`*Referncia:* ${q.delivery_reference}
`),U+=`*Total:* R$ ${q.total.toFixed(2)}
`,U+=`*Pagamento:* ${q.payment_method.charAt(0).toUpperCase()+q.payment_method.slice(1)}

`,U+=`*Itens:*
`,q.order_items.forEach(ge=>{U+=`- ${ge.quantity}x ${ge.product_name} ${ge.variation_name?`(${ge.variation_name})`:""}
`});const ae=`https://wa.me/${r}?text=${encodeURIComponent(U)}`;window.open(ae,"_blank")},re=q=>{var X,ee,xe;const U=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),ae=/Android/i.test(navigator.userAgent),z=((X=q.customers)==null?void 0:X.name)||q.customer_name||"Cliente Annimo",W=((ee=q.customers)==null?void 0:ee.phone)||"N/A",ge=new Date(q.created_at).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});let me="";q.reservation_date&&q.pickup_time?me=`${Wh(q.reservation_date)}, ${q.pickup_time}`:q.reservation_date?me=Wh(q.reservation_date):q.pickup_time&&(me=q.pickup_time);let be=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Pedido #${q.order_number}</title>
          <style>
            body {
              font-family: 'Courier New', monospace;
              max-width: 300px;
              margin: 20px auto;
              padding: 0;
              font-size: 12px;
            }
            .header {
              text-align: center;
              background-color: #2a2a2a !important;
              color: white;
              padding: 15px 10px;
              margin-bottom: 10px;
              -webkit-print-color-adjust: exact;
              print-color-adjust: exact;
              color-adjust: exact;
            }
            .header h1 {
              margin: 0;
              font-size: 18px;
              font-weight: bold;
              text-transform: uppercase;
              letter-spacing: 0.5px;
            }
            .header .datetime {
              margin-top: 5px;
              font-size: 13px;
              opacity: 0.95;
            }
            .content {
              padding: 10px;
            }
            .order-info {
              margin-bottom: 5px;
            }
            .order-info div {
              margin: 2px 0;
              font-size: 12px;
            }
            .section {
              margin: 5px 0;
              padding: 5px 0;
            }
            .section-title {
              font-weight: bold;
              margin-bottom: 3px;
              font-size: 12px;
            }
            .section div {
              font-size: 12px;
            }
            .item {
              display: flex;
              justify-content: space-between;
              margin: 3px 0;
            }
            .divider {
              border-top: 1px dashed #333;
              margin: 8px 0;
            }
            .total {
              font-size: 14px;
              font-weight: bold;
              margin-top: 8px;
            }
            .footer {
              text-align: center;
              margin-top: 10px;
              font-size: 11px;
            }
            @media print {
              body {
                margin: 0;
                padding: 0;
              }
              .header {
                background-color: #2a2a2a !important;
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
              }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <h1>${z.toUpperCase()}</h1>
            ${me?`<div class="datetime">${me}</div>`:""}
          </div>

          <div class="content">
            <div class="order-info">
              <div>Pedido #${q.order_number}</div>
              ${W!=="N/A"?`<div>N: ${W}</div>`:""}
              <div>${ge}</div>
            </div>

            ${q.delivery?`
              <div class="divider"></div>
              <div class="section">
                <div class="section-title">ENTREGA</div>
                <div>${q.delivery_address}, ${q.delivery_number}</div>
                ${q.delivery_reference?`<div>Ref: ${q.delivery_reference}</div>`:""}
              </div>
            `:""}

            ${q.pickup_time?`
              <div class="divider"></div>
              <div class="section">
                <div class="section-title">RETIRADA</div>
                <div>Horrio: ${q.pickup_time}</div>
              </div>
            `:""}

            ${q.reservation_date?`
              <div class="divider"></div>
              <div class="section">
                <div class="section-title">RESERVA</div>
                <div>Data: ${Wh(q.reservation_date)}</div>
              </div>
            `:""}

            <div class="divider"></div>

            <div class="section">
              <div class="section-title">ITENS DO PEDIDO</div>
              ${q.order_items.map(he=>{const Ae=he.product_price===0&&he.subtotal===0;return`
                  <div class="item">
                    <span>${he.quantity}x ${he.product_name}${he.variation_name?` (${he.variation_name})`:""}${Ae?" ":""}</span>
                    <span>${Ae?"RESGATADO":`R$ ${he.subtotal.toFixed(2)}`}</span>
                  </div>
                `}).join("")}
            </div>

            <div class="divider"></div>

            ${q.notes?`
              <div class="section">
                <div class="section-title">OBSERVAO</div>
                <div>${q.notes}</div>
              </div>
              <div class="divider"></div>
            `:""}

            <div class="section">
              <div><strong>Pagamento:</strong> ${q.payment_method}</div>
            </div>

            <div class="total">
              TOTAL: R$ ${q.total.toFixed(2)}
            </div>

            <div class="footer">
              Obrigado pela preferncia!
            </div>
          </div>

          <script>
            window.onload = function() {
              setTimeout(function() {
                window.print();
              }, 250);
            };
            
            // Fecha a janela automaticamente aps imprimir ou cancelar
            window.onafterprint = function() {
              setTimeout(function() {
                window.close();
              }, 100);
            };
          <\/script>
        </body>
      </html>
    `;if(U||ae){const he=document.createElement("iframe");he.style.position="fixed",he.style.right="0",he.style.bottom="0",he.style.width="0",he.style.height="0",he.style.border="0",document.body.appendChild(he);const Ae=(xe=he.contentWindow)==null?void 0:xe.document;Ae&&(Ae.open(),Ae.write(be),Ae.close(),setTimeout(()=>{var Ce;(Ce=he.contentWindow)==null||Ce.print(),setTimeout(()=>{document.body.removeChild(he)},100)},500))}else{const he=window.open("","_blank");if(!he){N({variant:"destructive",title:"Erro ao imprimir",description:"No foi possvel abrir a janela de impresso. Verifique se o bloqueador de pop-ups est desativado."});return}he.document.write(be),he.document.close()}},J=q=>{const U=rS[q]||q,ae=qT[q]||qT.pending;return s.jsx(kn,{className:`${ae.bg} ${ae.text} border ${ae.border} hover:opacity-90 transition-opacity`,variant:"outline",children:U})},te=P.map(q=>({status_key:q,status_label:rS[q]||q})),Z=q=>{let U=e.filter(z=>z.status===q);if(j&&(U=U.filter(z=>{var W;return((W=z.customers)==null?void 0:W.name)===j||z.customer_name===j})),!o)return U;const ae=o.trim().toLowerCase();return U.filter(z=>{var W,ge,me,be,X;return((ge=(W=z.customers)==null?void 0:W.name)==null?void 0:ge.toLowerCase().includes(ae))||((be=(me=z.customers)==null?void 0:me.phone)==null?void 0:be.includes(ae))||((X=z.customer_name)==null?void 0:X.toLowerCase().includes(ae))})},we=q=>{const U=k(q.status);return s.jsxs("div",{className:"space-y-2",children:[U&&s.jsxs(B,{onClick:()=>$(q.id,U),className:"w-full bg-blue-500/10 text-blue-700 hover:bg-blue-500/20 transition-all",size:"sm",variant:"outline",children:["Mover para ",rS[U]," ",s.jsx(G4,{className:"h-4 w-4 ml-2"})]}),!U&&s.jsxs(B,{onClick:()=>$(q.id,"delivered"),className:"w-full bg-green-500/10 text-green-700 hover:bg-green-500/20 transition-all",size:"sm",variant:"outline",children:[s.jsx(e0,{className:"h-4 w-4 mr-2"}),"Concluir"]}),q.status!=="cancelled"&&q.status!=="delivered"&&s.jsxs(B,{onClick:()=>D(q.id),className:"w-full bg-[#E57373]/10 text-[#E57373] hover:bg-[#E57373]/20 transition-all",size:"sm",variant:"outline",children:[s.jsx(Yl,{className:"h-4 w-4 mr-2"}),"Cancelar"]})]})},oe=q=>({pending:Qs,preparing:Bu,ready:Gi,delivered:Gi,cancelled:Yl})[q]||Qs;return s.jsxs("div",{className:"flex flex-col h-[calc(100vh-4rem)]",children:[s.jsxs("div",{className:"sticky top-0 bg-background z-10 p-6 -mx-6 -mt-6 border-b shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Painel de Pedidos"}),s.jsx("p",{className:"text-muted-foreground",children:"Acompanhe os pedidos em tempo real"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(z6,{}),s.jsxs(B,{variant:"outline",size:"sm",onClick:()=>m(!0),className:"flex items-center gap-2",children:[s.jsx(qu,{className:"h-4 w-4"}),"Configuraes"]})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Xl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ne,{placeholder:"Buscar por nmero do pedido, nome ou telefone do cliente...",value:o,onChange:q=>l(q.target.value),className:"pl-10"})]})]}),I.length>0&&s.jsxs("div",{className:"px-12 pb-4 -mt-2",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Filtrar por nome:"}),j&&s.jsx(B,{variant:"ghost",size:"sm",onClick:()=>S(null),className:"h-5 px-2 text-[10px] hover:bg-destructive/10 hover:text-destructive",children:"Limpar filtro"})]}),s.jsxs(Q6,{opts:{align:"start",dragFree:!0},className:"w-full",children:[s.jsx(J6,{className:"-ml-2",children:I.map(q=>s.jsx(Z6,{className:"pl-2 basis-auto",children:s.jsx(B,{variant:j===q?"default":"outline",size:"sm",onClick:()=>S(j===q?null:q),className:Ee("rounded-full text-xs h-7 px-3 transition-all",j===q?"bg-primary text-primary-foreground shadow-md scale-105":"hover:border-primary/50 hover:bg-primary/5"),children:q})},q))}),s.jsx(eU,{className:"-left-8 h-7 w-7"}),s.jsx(tU,{className:"-right-8 h-7 w-7"})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto pt-6",children:s.jsx("div",{className:`grid grid-cols-1 gap-6 ${te.length===1?"lg:grid-cols-1":te.length===2?"lg:grid-cols-2":"lg:grid-cols-3"}`,children:te.map(q=>{const U=oe(q.status_key),ae=Z(q.status_key);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(U,{className:"h-5 w-5 text-primary"}),s.jsxs("h2",{className:"text-xl font-semibold",children:[q.status_label," (",ae.length,")"]})]}),ae.map(z=>{var xe;const W=a.includes(z.id),ge=((xe=z.customers)==null?void 0:xe.name)||z.customer_name||"Cliente Annimo",me=z.pickup_time,be=!!z.reservation_date,X=z.reservation_date?Wh(z.reservation_date).substring(0,5):null,ee=[ge,me,be&&X?X:null].filter(Boolean).join(" | ");return s.jsxs(ve,{className:"shadow-soft relative transition-shadow hover:shadow-medium",children:[W&&s.jsx("div",{className:"absolute -top-1 -right-1 z-50 text-4xl animate-bounce",style:{filter:"drop-shadow(0 0 8px rgba(255, 0, 0, 0.5))",animation:"pulse 1s cubic-bezier(0.4, 0, 0.6, 1) infinite"},children:""}),s.jsx("div",{className:"bg-gray-200 dark:bg-gray-800 text-gray-800 dark:text-gray-200 text-center py-2 rounded-t-lg font-bold text-sm",children:ee}),s.jsxs(je,{className:"pb-3",children:[s.jsxs(Se,{className:"flex items-center justify-between text-base",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:z.order_number}),s.jsxs(St,{children:[s.jsx(Ki,{asChild:!0,children:s.jsx(B,{variant:"ghost",size:"icon",className:"h-6 w-6",children:s.jsx(TE,{className:"h-4 w-4"})})}),s.jsxs(xt,{children:[s.jsx(bt,{children:s.jsx(wt,{children:"Detalhes do Pedido"})}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Pedido:"})," ",z.order_number]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Origem:"})," ",z.source.charAt(0).toUpperCase()+z.source.slice(1)]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Pagamento:"})," ",z.payment_method]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Total:"})," R$ ",z.total.toFixed(2)]}),z.customers&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Cliente:"})," ",z.customers.name]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Telefone:"})," ",z.customers.phone]})]}),z.delivery&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Entrega:"})," Sim"]}),z.delivery_address&&s.jsxs("div",{children:[s.jsx("strong",{children:"Endereo:"})," ",z.delivery_address,", ",z.delivery_number]}),z.delivery_reference&&s.jsxs("div",{children:[s.jsx("strong",{children:"Referncia:"})," ",z.delivery_reference]})]}),!z.delivery&&(z.pickup_time||z.reservation_date)&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Retirada:"})," Sim"]}),z.pickup_time&&s.jsxs("div",{children:[s.jsx("strong",{children:"Horrio:"})," ",z.pickup_time]}),z.reservation_date&&s.jsxs("div",{children:[s.jsx("strong",{children:"Data da Reserva:"})," ",Wh(z.reservation_date)]})]}),s.jsxs("div",{className:"pt-2 border-t",children:[s.jsx("strong",{children:"Itens:"}),z.order_items.map((he,Ae)=>{const Ce=he.product_price===0&&he.subtotal===0;return s.jsxs("div",{className:"flex justify-between mt-1",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[he.product_name," ",he.variation_name&&`(${he.variation_name})`,Ce&&s.jsx(Kn,{className:"h-3 w-3 text-purple-600 fill-purple-600","aria-label":"Resgatado com pontos"})]}),s.jsxs("span",{className:"font-medium",children:["x",he.quantity]})]},Ae)})]}),z.notes&&s.jsxs("div",{className:"pt-2 border-t",children:[s.jsx("strong",{children:"Observao:"}),s.jsx("p",{className:"mt-1 text-muted-foreground",children:z.notes})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[z.delivery&&r&&s.jsxs(B,{onClick:()=>H(z),className:"flex-1",variant:"outline",children:[s.jsx(W_,{className:"h-4 w-4 mr-2"}),"WhatsApp Motoboy"]}),s.jsxs(B,{onClick:()=>re(z),className:z.delivery&&r?"flex-1":"w-full",variant:"outline",children:[s.jsx(i3,{className:"h-4 w-4 mr-2"}),"Imprimir Pedido"]})]})]})]})]})]}),J(z.status)]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:ge})]}),s.jsxs(ye,{className:"space-y-3",children:[s.jsx("div",{className:"text-sm space-y-1",children:z.order_items.map((he,Ae)=>{const Ce=he.product_price===0&&he.subtotal===0;return s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[he.product_name," ",he.variation_name&&`(${he.variation_name})`,Ce&&s.jsx(Kn,{className:"h-3 w-3 text-purple-600 fill-purple-600","aria-label":"Resgatado com pontos"})]}),s.jsxs("span",{className:"font-medium",children:["x",he.quantity]})]},Ae)})}),s.jsxs("div",{className:"flex flex-col gap-2",children:[z.delivery&&r&&s.jsxs(B,{onClick:()=>H(z),className:"w-full",size:"sm",variant:"outline",children:[s.jsx(W_,{className:"h-4 w-4 mr-2"}),"WhatsApp Motoboy"]}),we(z)]})]})]},z.id)})]},q.status_key)})})}),s.jsx(St,{open:c,onOpenChange:u,children:s.jsxs(xt,{className:"sm:max-w-md",children:[s.jsx(bt,{children:s.jsx(wt,{children:"Selecionar Forma de Pagamento"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:'Este pedido est marcado como "Reserva". Selecione a forma de pagamento para concluir:'}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:["PIX","Crdito","Dbito","Dinheiro"].map(q=>s.jsxs(B,{variant:h===q?"default":"outline",onClick:()=>p(q),className:"h-16 flex flex-col items-center justify-center gap-1",children:[q==="PIX"&&s.jsx(n0,{className:"h-5 w-5"}),q==="Crdito"&&s.jsx(ju,{className:"h-5 w-5"}),q==="Dbito"&&s.jsx(ju,{className:"h-5 w-5"}),q==="Dinheiro"&&s.jsx(hf,{className:"h-5 w-5"}),q]},q))}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(B,{variant:"outline",className:"flex-1",onClick:()=>{u(!1),p(null)},children:"Cancelar"}),s.jsx(B,{className:"flex-1",onClick:T,disabled:!h,children:"Confirmar e Concluir"})]})]})]})}),s.jsx(St,{open:y,onOpenChange:m,children:s.jsxs(xt,{className:"sm:max-w-[425px]",children:[s.jsx(bt,{children:s.jsx(wt,{children:"Configuraes do Painel"})}),s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("label",{className:"text-sm font-medium",children:"Notificao Sonora"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Tocar som quando novos pedidos chegarem"})]}),s.jsx(cr,{checked:E,onCheckedChange:q=>{A(q),q&&C()}})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("label",{className:"text-sm font-medium",children:"Filtrar por Caixa Ativo"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:b?"Mostrar apenas pedidos do caixa aberto":"Nenhum caixa aberto no momento"})]}),s.jsx(cr,{checked:v,onCheckedChange:x,disabled:!b})]})]})]})})]})}var rU={exports:{}},nU={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wf=g;function Jle(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Zle=typeof Object.is=="function"?Object.is:Jle,ece=wf.useState,tce=wf.useEffect,rce=wf.useLayoutEffect,nce=wf.useDebugValue;function ace(e,t){var r=t(),n=ece({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return rce(function(){a.value=r,a.getSnapshot=t,nS(a)&&i({inst:a})},[e,r,t]),tce(function(){return nS(a)&&i({inst:a}),e(function(){nS(a)&&i({inst:a})})},[e]),nce(r),r}function nS(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Zle(e,r)}catch{return!0}}function ice(e,t){return t()}var sce=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ice:ace;nU.useSyncExternalStore=wf.useSyncExternalStore!==void 0?wf.useSyncExternalStore:sce;rU.exports=nU;var oce=rU.exports;function lce(){return oce.useSyncExternalStore(cce,()=>!0,()=>!1)}function cce(){return()=>{}}var WP="Avatar",[uce]=Xa(WP),[dce,aU]=uce(WP),iU=g.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,i]=g.useState("idle");return s.jsx(dce,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:s.jsx(Ze.span,{...n,ref:t})})});iU.displayName=WP;var sU="AvatarImage",oU=g.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=e,o=aU(sU,r),l=fce(n,i),c=An(u=>{a(u),o.onImageLoadingStatusChange(u)});return Nn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(Ze.img,{...i,ref:t,src:n}):null});oU.displayName=sU;var lU="AvatarFallback",cU=g.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,i=aU(lU,r),[o,l]=g.useState(n===void 0);return g.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?s.jsx(Ze.span,{...a,ref:t}):null});cU.displayName=lU;function UT(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function fce(e,{referrerPolicy:t,crossOrigin:r}){const n=lce(),a=g.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[o,l]=g.useState(()=>UT(i,e));return Nn(()=>{l(UT(i,e))},[i,e]),Nn(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),o}var uU=iU,dU=oU,fU=cU;const hU=g.forwardRef(({className:e,...t},r)=>s.jsx(uU,{ref:r,className:Ee("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));hU.displayName=uU.displayName;const hce=g.forwardRef(({className:e,...t},r)=>s.jsx(dU,{ref:r,className:Ee("aspect-square h-full w-full",e),...t}));hce.displayName=dU.displayName;const pU=g.forwardRef(({className:e,...t},r)=>s.jsx(fU,{ref:r,className:Ee("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));pU.displayName=fU.displayName;const Cn=ke;function pce(){const[e,t]=g.useState([]),[r,n]=g.useState([]),[a,i]=g.useState(""),[o,l]=g.useState(""),[c,u]=g.useState(""),[d,f]=g.useState(null),[h,p]=g.useState(!1),[y,m]=g.useState(!1),[v,x]=g.useState(null),[b,w]=g.useState(""),[j,S]=g.useState("0"),[_,N]=g.useState(""),[C,E]=g.useState(!1),[A,O]=g.useState(null),[P,k]=g.useState(""),[I,M]=g.useState(""),[L,$]=g.useState([]),[D,T]=g.useState(!1),[H,re]=g.useState(null),[J,le]=g.useState(""),[te,Z]=g.useState(""),[we,oe]=g.useState(""),[q,U]=g.useState(""),[ae,z]=g.useState(""),[W,ge]=g.useState(""),[me,be]=g.useState(!1),{profile:X}=Gt(),{toast:ee}=dr();g.useEffect(()=>{X!=null&&X.store_id&&(async()=>(await Ae(),await Ce()))()},[X]),g.useEffect(()=>{const ce=setTimeout(()=>{o.length>=10&&(X!=null&&X.store_id)?xe(o):f(null)},500);return()=>clearTimeout(ce)},[o,X==null?void 0:X.store_id]);const xe=async ce=>{p(!0);const{data:Le,error:Je}=await Cn.from("customers").select("id, name, phone, points, created_at").eq("store_id",X.store_id).eq("phone",ce).maybeSingle();p(!1),Je?(console.error("Erro ao buscar cliente:",Je.message),f(null)):f(Le||null)},he=async ce=>{if(ce.preventDefault(),!d||!(X!=null&&X.store_id)){ee({variant:"destructive",title:"Cliente no encontrado",description:"Verifique o nmero de telefone."});return}const Le=parseInt(c,10);if(isNaN(Le)||Le<=0){ee({variant:"destructive",title:"Pontos invlidos",description:"Insira uma quantidade de pontos vlida (maior que zero)."});return}try{const Je=d.points+Le,{error:Bt}=await Cn.from("customers").update({points:Je}).eq("id",d.id);if(Bt)throw Bt;const{error:fr}=await Cn.from("loyalty_transactions").insert({customer_id:d.id,store_id:X.store_id,points:Le,transaction_type:"manual_earn",description:"Pontuao manual pelo lojista"});if(fr)throw fr;ee({title:"Pontos adicionados!",description:`${Le} pontos adicionados a ${d.name}.`}),l(""),u(""),f(null),Ae()}catch(Je){ee({variant:"destructive",title:"Erro ao pontuar cliente",description:Je.message})}},Ae=async()=>{if(!(X!=null&&X.store_id))return[];const{data:ce,error:Le}=await Cn.from("customers").select("id, name, phone, points, created_at").eq("store_id",X.store_id).order("points",{ascending:!1});return Le?(ee({variant:"destructive",title:"Erro ao carregar clientes",description:Le.message}),[]):(t(ce||[]),ce||[])},Ce=async()=>{if(!(X!=null&&X.store_id))return;const{data:ce,error:Le}=await Cn.from("loyalty_rules").select("*, reward").eq("store_id",X.store_id).order("points_required",{ascending:!0});if(Le)ee({variant:"destructive",title:"Erro ao carregar regras",description:Le.message});else{const Je=(ce||[]).map(Bt=>({id:Bt.id,name:Bt.name,pointsRequired:Bt.points_required,reward:Bt.reward,active:Bt.active}));n(Je)}},Ct=async ce=>{const{data:Le,error:Je}=await Cn.from("customer_addresses").select("*").eq("customer_id",ce).order("name");return Je?(ee({variant:"destructive",title:"Erro ao carregar endereos do cliente",description:Je.message}),[]):($(Le||[]),Le||[])},ht=e.filter(ce=>ce.name.toLowerCase().includes(a.toLowerCase())||ce.phone.includes(a)),Ft=ce=>ce>=15?{level:"Ouro",color:"bg-yellow-500"}:ce>=8?{level:"Prata",color:"bg-gray-400"}:{level:"Bronze",color:"bg-amber-600"},_r=()=>{x(null),w(""),S("0"),N(""),m(!0)},Me=ce=>{x(ce),w(ce.name),S(ce.pointsRequired.toString()),N(ce.reward),m(!0)},jr=async ce=>{if(ce.preventDefault(),!b||!_){ee({variant:"destructive",title:"Preencha todos os campos"});return}const Le={name:b,points_required:parseInt(j),reward:_,store_id:X.store_id};if(v){const{error:Je}=await Cn.from("loyalty_rules").update(Le).eq("id",v.id);Je?ee({variant:"destructive",title:"Erro ao atualizar prmio",description:Je.message}):(ee({title:"Prmio atualizado!"}),m(!1),w(""),S("0"),N(""),x(null),Ce())}else{const{error:Je}=await Cn.from("loyalty_rules").insert(Le);Je?ee({variant:"destructive",title:"Erro ao criar prmio",description:Je.message}):(ee({title:"Prmio criado!"}),m(!1),w(""),S("0"),N(""),Ce())}},rn=async ce=>{const{error:Le}=await Cn.from("loyalty_rules").update({active:!ce.active}).eq("id",ce.id);Le?ee({variant:"destructive",title:"Erro ao atualizar prmio",description:Le.message}):Ce()},jt=async ce=>{if(!confirm("Deseja realmente excluir este prmio?"))return;const{error:Le}=await Cn.from("loyalty_rules").delete().eq("id",ce);Le?ee({variant:"destructive",title:"Erro ao excluir prmio",description:Le.message}):(ee({title:"Prmio excludo!"}),Ce())},nt=async ce=>{O(ce),k(ce.name),M(ce.phone),await Ct(ce.id),E(!0)},zt=async ce=>{if(ce.preventDefault(),!A)return;const{error:Le}=await Cn.from("customers").update({name:P,phone:I}).eq("id",A.id);Le?ee({variant:"destructive",title:"Erro ao atualizar cliente",description:Le.message}):(ee({title:"Cliente atualizado!"}),E(!1),Ae())},yr=async ce=>{if(!confirm("Tem certeza que deseja excluir este cliente? Todos os pedidos e endereos associados sero removidos."))return;const{error:Le}=await Cn.from("orders").delete().eq("customer_id",ce);if(Le){ee({variant:"destructive",title:"Erro ao excluir pedidos do cliente",description:Le.message});return}const{error:Je}=await Cn.from("loyalty_transactions").delete().eq("customer_id",ce);if(Je){ee({variant:"destructive",title:"Erro ao excluir histrico de fidelidade",description:Je.message});return}const{error:Bt}=await Cn.from("customer_addresses").delete().eq("customer_id",ce);if(Bt){ee({variant:"destructive",title:"Erro ao excluir endereos do cliente",description:Bt.message});return}const{error:fr}=await Cn.from("customers").delete().eq("id",ce);fr?ee({variant:"destructive",title:"Erro ao excluir cliente",description:fr.message}):(ee({title:"Cliente excludo com sucesso!"}),E(!1),Ae())},or=()=>{re(null),le(""),Z(""),oe(""),U(""),z(""),ge(""),be(!1),T(!0)},Ye=ce=>{re(ce),le(ce.name),Z(ce.address),oe(ce.number||""),U(ce.neighborhood),z(ce.reference||""),ge(ce.cep||""),be(!ce.cep),T(!0)},Rr=async ce=>{if(ce.preventDefault(),!(A!=null&&A.id)||!J||!te||!q){ee({variant:"destructive",title:"Campos obrigatrios",description:"Nome, Rua e Bairro so obrigatrios."});return}const Le={customer_id:A.id,name:J,address:te,number:we||null,neighborhood:q,reference:ae||null,cep:me?null:W||null};if(H){const{error:Je}=await Cn.from("customer_addresses").update(Le).eq("id",H.id);Je?ee({variant:"destructive",title:"Erro ao atualizar endereo",description:Je.message}):(ee({title:"Endereo atualizado!"}),T(!1),Ct(A.id))}else{const{error:Je}=await Cn.from("customer_addresses").insert(Le);Je?ee({variant:"destructive",title:"Erro ao adicionar endereo",description:Je.message}):(ee({title:"Endereo adicionado!"}),T(!1),Ct(A.id))}},rr=async ce=>{if(!confirm("Tem certeza que deseja excluir este endereo?"))return;const{error:Le}=await Cn.from("customer_addresses").delete().eq("id",ce);Le?ee({variant:"destructive",title:"Erro ao excluir endereo",description:Le.message}):(ee({title:"Endereo excludo!"}),A&&Ct(A.id))},nn=async()=>{if(!(X!=null&&X.store_id)){ee({variant:"destructive",title:"Erro",description:"Voc precisa estar vinculado a uma loja para exportar clientes."});return}const{data:ce,error:Le}=await Cn.from("customers").select("id, name, phone, points").eq("store_id",X.store_id);if(Le){ee({variant:"destructive",title:"Erro ao carregar clientes",description:Le.message});return}const{data:Je,error:Bt}=await Cn.from("orders").select("customer_id, created_at").eq("store_id",X.store_id).order("created_at",{ascending:!1});if(Bt){ee({variant:"destructive",title:"Erro ao carregar pedidos",description:Bt.message});return}const fr=new Map;Je.forEach(tt=>{tt.customer_id&&!fr.has(tt.customer_id)&&fr.set(tt.customer_id,tt.created_at)});const de=[];de.push("Nome,Telefone,Pontos,Ultima Compra"),ce.forEach(tt=>{const hr=fr.get(tt.id),pr=hr?new Date(hr).toLocaleDateString("pt-BR"):"N/A";de.push(`"${tt.name}","${tt.phone}",${tt.points},"${pr}"`)});const De=de.join(`
`),Te=new Blob([De],{type:"text/csv;charset=utf-8;"}),et=document.createElement("a");if(et.download!==void 0){const tt=URL.createObjectURL(Te);et.setAttribute("href",tt),et.setAttribute("download","clientes_fidelidade.csv"),et.style.visibility="hidden",document.body.appendChild(et),et.click(),document.body.removeChild(et),ee({title:"Exportao concluda!",description:"Clientes exportados para CSV."})}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Programa de Fidelidade"}),s.jsx("p",{className:"text-muted-foreground",children:"Gerencie clientes e regras de pontuao"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(B,{variant:"outline",onClick:nn,children:[s.jsx(t0,{className:"h-4 w-4 mr-2"}),"Exportar"]}),s.jsxs(St,{open:y,onOpenChange:m,children:[s.jsx(Ki,{asChild:!0,children:s.jsxs(B,{className:"shadow-soft",onClick:_r,children:[s.jsx(xr,{className:"h-4 w-4 mr-2"}),"Novo Prmio"]})}),s.jsxs(xt,{children:[s.jsx(bt,{children:s.jsx(wt,{children:v?"Editar Prmio":"Novo Prmio de Fidelidade"})}),s.jsxs("form",{onSubmit:jr,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"ruleName",children:"Nome do Prmio"}),s.jsx(ne,{id:"ruleName",placeholder:"Ex: A cada 2 frangos comprados",value:b,onChange:ce=>w(ce.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"points",children:"Pontos Necessrios"}),s.jsx(ne,{id:"points",type:"number",min:"0",placeholder:"0",value:j,onChange:ce=>S(ce.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"reward",children:"Recompensa"}),s.jsx(ne,{id:"reward",placeholder:"Ex: 1 frango assado grtis",value:_,onChange:ce=>N(ce.target.value),required:!0})]}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(B,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancelar"}),s.jsx(B,{type:"submit",children:v?"Salvar":"Criar"})]})]})]})]})]})]}),s.jsxs(ve,{className:"shadow-soft",children:[s.jsxs(je,{children:[s.jsxs(Se,{className:"flex items-center gap-2",children:[s.jsx(Kn,{className:"h-5 w-5 text-primary"}),"Pontuar Cliente Manualmente"]}),s.jsx(Jt,{children:"Adicione pontos de fidelidade a um cliente pelo nmero de celular."})]}),s.jsx(ye,{children:s.jsxs("form",{onSubmit:he,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[s.jsxs("div",{className:"space-y-2 md:col-span-1",children:[s.jsx(V,{htmlFor:"manualPhone",children:"Celular do Cliente"}),s.jsx(ne,{id:"manualPhone",type:"tel",placeholder:"(11) 99999-9999",value:o,onChange:ce=>l(ce.target.value.replace(/\D/g,"")),inputMode:"numeric",pattern:"[0-9]*",required:!0})]}),s.jsxs("div",{className:"space-y-2 md:col-span-1",children:[s.jsx(V,{htmlFor:"manualPoints",children:"Pontos a Adicionar"}),s.jsx(ne,{id:"manualPoints",type:"number",min:"1",placeholder:"10",value:c,onChange:ce=>u(ce.target.value),required:!0})]}),s.jsxs(B,{type:"submit",className:"w-full md:col-span-1",disabled:!d||h||parseInt(c)<=0,children:[h?s.jsx(Bi,{className:"h-4 w-4 animate-spin mr-2"}):s.jsx(HK,{className:"h-4 w-4 mr-2"}),"Adicionar Pontos"]})]}),o.length>=10&&s.jsx("div",{className:"mt-2",children:h?s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[s.jsx(Bi,{className:"h-4 w-4 animate-spin"})," Buscando cliente..."]}):d?s.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:["Cliente encontrado: ",d.name," (",d.points," pontos atuais)"]}):s.jsx("p",{className:"text-sm text-destructive",children:"Cliente no encontrado."})})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-3 grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(ve,{className:"shadow-soft",children:s.jsx(ye,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-primary/10 rounded-full",children:s.jsx(r0,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:e.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Clientes Cadastrados"})]})]})})}),s.jsx(ve,{className:"shadow-soft",children:s.jsx(ye,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-success/10 rounded-full",children:s.jsx(Kn,{className:"h-6 w-6 text-success"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:e.reduce((ce,Le)=>ce+Le.points,0).toFixed(1)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pontos Ativos"})]})]})})}),s.jsx(ve,{className:"shadow-soft",children:s.jsx(ye,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-warning/10 rounded-full",children:s.jsx(YK,{className:"h-6 w-6 text-warning"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:"0"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Resgates Este Ms"})]})]})})}),s.jsx(ve,{className:"shadow-soft",children:s.jsx(ye,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-destructive/10 rounded-full",children:s.jsx(VK,{className:"h-6 w-6 text-destructive"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:"0"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Novos Hoje"})]})]})})})]}),s.jsx("div",{className:"lg:col-span-2 space-y-4",children:s.jsxs(ve,{className:"shadow-soft",children:[s.jsxs(je,{children:[s.jsx(Se,{children:"Clientes Fidelidade"}),s.jsx(Jt,{children:"Clientes cadastrados no programa de fidelidade"})]}),s.jsxs(ye,{className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Xl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ne,{placeholder:"Buscar por nome ou WhatsApp...",value:a,onChange:ce=>i(ce.target.value),className:"pl-10"})]}),s.jsx("div",{className:"space-y-3",children:ht.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Nenhum cliente cadastrado no programa de fidelidade"}):ht.map(ce=>{const Le=Ft(ce.points);return s.jsxs("div",{className:"flex items-center justify-between p-4 bg-accent rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(hU,{children:s.jsx(pU,{className:"bg-primary text-primary-foreground",children:ce.name.split(" ").map(Je=>Je[0]).join("")})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:ce.name}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:ce.phone}),s.jsx("a",{href:`https://wa.me/55${ce.phone.replace(/\D/g,"")}`,target:"_blank",rel:"noopener noreferrer",children:s.jsx(B,{variant:"ghost",size:"icon",className:"h-6 w-6",children:s.jsx(W_,{className:"h-4 w-4 text-green-500"})})})]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Cliente desde ",new Date(ce.created_at).toLocaleDateString()]})]})]}),s.jsxs("div",{className:"text-right flex items-center gap-2",children:[s.jsx("div",{className:"flex items-center gap-2 mb-1",children:s.jsx(kn,{className:`${Le.color} text-white`,children:Le.level})}),s.jsxs("p",{className:"text-lg font-bold text-primary",children:[ce.points.toFixed(1)," pts"]}),s.jsx(B,{variant:"outline",size:"sm",onClick:()=>nt(ce),children:s.jsx(Tn,{className:"h-4 w-4"})})]})]},ce.id)})})]})]})}),s.jsx("div",{className:"space-y-4",children:s.jsxs(ve,{className:"shadow-soft",children:[s.jsxs(je,{children:[s.jsx(Se,{children:"Prmios Ativos"}),s.jsx(Jt,{children:"Configure os prmios e resgates de fidelidade"})]}),s.jsx(ye,{className:"space-y-3",children:r.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Nenhum prmio cadastrado"}):r.map(ce=>s.jsxs("div",{className:"p-3 border border-border rounded-lg space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(kn,{variant:ce.active?"default":"secondary",children:ce.active?"Ativo":"Inativo"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(B,{variant:"ghost",size:"sm",onClick:()=>Me(ce),children:s.jsx(Tn,{className:"h-4 w-4"})}),s.jsx(B,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-destructive",onClick:()=>jt(ce.id),children:s.jsx(qr,{className:"h-4 w-4"})}),s.jsx(cr,{checked:ce.active,onCheckedChange:()=>rn(ce)})]})]}),s.jsx("p",{className:"text-sm font-medium",children:ce.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Recompensa: ",s.jsx("span",{className:"text-primary font-medium",children:ce.reward})]}),ce.pointsRequired>0&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Requer ",ce.pointsRequired," pontos"]})]},ce.id))})]})})]}),s.jsx(St,{open:C,onOpenChange:ce=>{E(ce),ce||(O(null),$([]))},children:s.jsxs(xt,{className:"sm:max-w-[600px]",children:[s.jsx(bt,{children:s.jsx(wt,{children:"Editar Cliente"})}),A&&s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsxs("form",{onSubmit:zt,className:"space-y-4 border-b pb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(ix,{className:"h-5 w-5"}),"Dados do Cliente"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"editCustomerName",children:"Nome"}),s.jsx(ne,{id:"editCustomerName",value:P,onChange:ce=>k(ce.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"editCustomerPhone",children:"Telefone"}),s.jsx(ne,{id:"editCustomerPhone",type:"tel",value:I,onChange:ce=>M(ce.target.value.replace(/\D/g,"")),inputMode:"numeric",pattern:"[0-9]*",required:!0})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Po,{className:"h-4 w-4"}),"Cadastrado em: ",new Date(A.created_at).toLocaleDateString()]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-primary font-medium",children:[s.jsx(Kn,{className:"h-4 w-4"}),"Pontos de Fidelidade: ",A.points.toFixed(1)]}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(B,{type:"submit",children:"Salvar Alteraes"}),s.jsxs(B,{type:"button",variant:"destructive",onClick:()=>yr(A.id),children:[s.jsx(qr,{className:"h-4 w-4 mr-2"}),"Excluir Cliente"]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(em,{className:"h-5 w-5"}),"Endereos Salvos"]}),s.jsxs(B,{size:"sm",onClick:or,children:[s.jsx(xr,{className:"h-4 w-4 mr-2"}),"Novo Endereo"]})]}),L.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-4",children:"Nenhum endereo salvo para este cliente."}):s.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto pr-2",children:L.map(ce=>s.jsxs("div",{className:"p-3 border border-border rounded-lg space-y-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[ce.name.toLowerCase()==="casa"?s.jsx(kE,{className:"h-4 w-4 text-muted-foreground"}):ce.name.toLowerCase()==="trabalho"?s.jsx(OE,{className:"h-4 w-4 text-muted-foreground"}):s.jsx(em,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("p",{className:"font-medium",children:ce.name})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(B,{variant:"ghost",size:"sm",onClick:()=>Ye(ce),children:s.jsx(Tn,{className:"h-4 w-4"})}),s.jsx(B,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-destructive",onClick:()=>rr(ce.id),children:s.jsx(qr,{className:"h-4 w-4"})})]})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[ce.address,", ",ce.number," - ",ce.neighborhood]}),ce.reference&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Ref: ",ce.reference]}),ce.cep&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["CEP: ",ce.cep]})]},ce.id))})]})]})]})}),s.jsx(St,{open:D,onOpenChange:ce=>{T(ce),ce||(re(null),le(""),Z(""),oe(""),U(""),z(""),ge(""),be(!1))},children:s.jsxs(xt,{children:[s.jsx(bt,{children:s.jsxs(wt,{children:[H?"Editar Endereo":"Adicionar Novo Endereo"," para ",A==null?void 0:A.name]})}),s.jsxs("form",{onSubmit:Rr,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"addressName",children:"Nome do Endereo (Ex: Casa, Trabalho)"}),s.jsx(ne,{id:"addressName",value:J,onChange:ce=>le(ce.target.value),placeholder:"Ex: Casa",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"addressStreet",children:"Rua"}),s.jsx(ne,{id:"addressStreet",value:te,onChange:ce=>Z(ce.target.value),placeholder:"Ex: Rua das Flores",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"addressNumber",children:"Nmero"}),s.jsx(ne,{id:"addressNumber",value:we,onChange:ce=>oe(ce.target.value),placeholder:"Ex: 123"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"addressNeighborhood",children:"Bairro"}),s.jsx(ne,{id:"addressNeighborhood",value:q,onChange:ce=>U(ce.target.value),placeholder:"Ex: Centro",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"addressReference",children:"Referncia (Opcional)"}),s.jsx(ne,{id:"addressReference",value:ae,onChange:ce=>z(ce.target.value),placeholder:"Ex: Prximo  padaria"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(V,{htmlFor:"addressCep",children:"CEP"}),s.jsx(B,{type:"button",variant:"link",size:"sm",onClick:()=>be(!me),children:me?"Informar CEP":"No sei o CEP"})]}),!me&&s.jsx(ne,{id:"addressCep",value:W,onChange:ce=>ge(ce.target.value.replace(/\D/g,"")),placeholder:"00000-000",inputMode:"numeric"})]}),s.jsxs(Lr,{children:[s.jsx(B,{type:"button",variant:"outline",onClick:()=>T(!1),children:"Cancelar"}),s.jsx(B,{type:"submit",children:H?"Salvar Alteraes":"Adicionar Endereo"})]})]})]})})]})}const zg=ke;function mce(){const{profile:e}=Gt(),{toast:t}=dr(),[r,n]=g.useState(!0),[a,i]=g.useState({from:ky(new Date,6),to:new Date}),[o,l]=g.useState(0),[c,u]=g.useState(0),[d,f]=g.useState(0),[h,p]=g.useState([]),[y,m]=g.useState([]),[v,x]=g.useState([]);g.useEffect(()=>{e!=null&&e.store_id&&b()},[e,a]);const b=async()=>{if(!(e!=null&&e.store_id))return;n(!0);const w=Be(_i(new Date),"yyyy-MM-dd'T'HH:mm:ss.SSSxxx"),j=Be(_T(new Date),"yyyy-MM-dd'T'HH:mm:ss.SSSxxx"),S=a!=null&&a.from?Be(_i(a.from),"yyyy-MM-dd'T'HH:mm:ss.SSSxxx"):void 0,_=a!=null&&a.to?Be(_T(a.to),"yyyy-MM-dd'T'HH:mm:ss.SSSxxx"):void 0,{data:N,error:C}=await zg.from("orders").select("total, customer_id").eq("store_id",e.store_id).gte("created_at",w).lte("created_at",j).neq("status","cancelled");if(C)console.error("Erro ao carregar mtricas dirias:",C.message),t({variant:"destructive",title:"Erro",description:"No foi possvel carregar as mtricas dirias."});else{const E=N.reduce((O,P)=>O+parseFloat(P.total.toString()),0),A=new Set(N.map(O=>O.customer_id)).size;l(E),u(N.length),f(A)}if(S&&_){const{data:E,error:A}=await zg.from("orders").select("created_at, total").eq("store_id",e.store_id).gte("created_at",S).lte("created_at",_).neq("status","cancelled").order("created_at",{ascending:!0});if(A)console.error("Erro ao carregar vendas por perodo:",A.message),t({variant:"destructive",title:"Erro",description:"No foi possvel carregar as vendas por perodo."});else{const M=new Map;E.forEach($=>{const D=Be(Er($.created_at),"yyyy-MM-dd"),T=M.get(D)||{totalSales:0,totalOrders:0};T.totalSales+=parseFloat($.total.toString()),T.totalOrders+=1,M.set(D,T)});const L=Array.from(M.entries()).map(([$,D])=>({date:$,totalSales:D.totalSales,totalOrders:D.totalOrders})).sort(($,D)=>new Date($.date).getTime()-new Date(D.date).getTime());p(L)}const{data:O,error:P}=await zg.from("order_items").select(`
          product_name,
          variation_name,
          quantity,
          orders!inner(created_at, store_id, status)
        `).eq("orders.store_id",e.store_id).gte("orders.created_at",S).lte("orders.created_at",_).neq("orders.status","cancelled");if(P)console.error("Erro ao carregar produtos mais vendidos:",P.message),t({variant:"destructive",title:"Erro",description:"No foi possvel carregar os produtos mais vendidos."});else{const M=new Map;O.forEach($=>{const D=$.variation_name?`${$.product_name} (${$.variation_name})`:$.product_name;M.set(D,(M.get(D)||0)+$.quantity)});const L=Array.from(M.entries()).map(([$,D])=>({name:$,quantity:D})).sort(($,D)=>D.quantity-$.quantity).slice(0,10);m(L)}const{data:k,error:I}=await zg.from("orders").select("created_at").eq("store_id",e.store_id).gte("created_at",S).lte("created_at",_).neq("status","cancelled");if(I)console.error("Erro ao carregar horrios de pico:",I.message),t({variant:"destructive",title:"Erro",description:"No foi possvel carregar os horrios de pico."});else{const M=new Map;k.forEach($=>{const D=Be(Er($.created_at),"HH");M.set(D,(M.get(D)||0)+1)});const L=Array.from(M.entries()).map(([$,D])=>({hour:`${$}h`,count:D})).sort(($,D)=>D.count-$.count).slice(0,5);x(L)}}n(!1)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Relatrios"}),s.jsx("p",{className:"text-muted-foreground",children:"Anlise detalhada de vendas e desempenho"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(tc,{children:[s.jsx(rc,{asChild:!0,children:s.jsxs(B,{id:"date",variant:"outline",className:Ee("w-[240px] justify-start text-left font-normal",!(a!=null&&a.from)&&"text-muted-foreground"),children:[s.jsx(Fl,{className:"mr-2 h-4 w-4"}),a!=null&&a.from?a.to?s.jsxs(s.Fragment,{children:[Be(a.from,"dd/MM/yyyy",{locale:Tt})," -"," ",Be(a.to,"dd/MM/yyyy",{locale:Tt})]}):Be(a.from,"dd/MM/yyyy",{locale:Tt}):s.jsx("span",{children:"Filtrar por data"})]})}),s.jsx(Uo,{className:"w-auto p-0",align:"end",children:s.jsx(qo,{initialFocus:!0,mode:"range",defaultMonth:a==null?void 0:a.from,selected:a,onSelect:i,numberOfMonths:2,locale:Tt})})]}),s.jsxs(B,{className:"shadow-soft",disabled:r,children:[s.jsx(t0,{className:"h-4 w-4 mr-2"}),"Exportar Excel"]})]})]}),r?s.jsxs("div",{className:"flex items-center justify-center py-16",children:[s.jsx(Qs,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("p",{className:"ml-3 text-lg text-muted-foreground",children:"Carregando relatrios..."})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsxs(ve,{className:"shadow-soft hover:shadow-glow transition-shadow",children:[s.jsxs(je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Se,{className:"text-sm font-medium",children:"Vendas Hoje"}),s.jsx(Fi,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ye,{children:[s.jsxs("div",{className:"text-2xl font-bold text-primary",children:["R$ ",o.toFixed(2)]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total de vendas do dia"})]})]}),s.jsxs(ve,{className:"shadow-soft hover:shadow-glow transition-shadow",children:[s.jsxs(je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Se,{className:"text-sm font-medium",children:"Pedidos Hoje"}),s.jsx(Bu,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ye,{children:[s.jsx("div",{className:"text-2xl font-bold",children:c}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Pedidos realizados hoje"})]})]}),s.jsxs(ve,{className:"shadow-soft hover:shadow-glow transition-shadow",children:[s.jsxs(je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Se,{className:"text-sm font-medium",children:"Clientes nicos"}),s.jsx(pv,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ye,{children:[s.jsx("div",{className:"text-2xl font-bold",children:d}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Clientes que compraram hoje"})]})]}),s.jsxs(ve,{className:"shadow-soft hover:shadow-glow transition-shadow",children:[s.jsxs(je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Se,{className:"text-sm font-medium",children:"Tempo Mdio"}),s.jsx(IK,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ye,{children:[s.jsx("div",{className:"text-2xl font-bold",children:"--"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Sem dados"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(ve,{className:"shadow-soft",children:[s.jsxs(je,{children:[s.jsx(Se,{children:"Vendas por Perodo"}),s.jsx(Jt,{children:"Total de vendas e pedidos por dia no perodo selecionado."})]}),s.jsx(ye,{children:s.jsx(du,{className:"h-[300px] pr-4",children:h.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Nenhum dado de vendas disponvel para o perodo."}):s.jsxs(Ga,{children:[s.jsx(Ka,{children:s.jsxs(ur,{children:[s.jsx(yt,{children:"Data"}),s.jsx(yt,{className:"text-right",children:"Vendas"}),s.jsx(yt,{className:"text-right",children:"Pedidos"})]})}),s.jsx(Ya,{children:h.map(w=>s.jsxs(ur,{children:[s.jsx(rt,{children:Be(Er(w.date),"dd/MM/yyyy",{locale:Tt})}),s.jsxs(rt,{className:"text-right font-medium",children:["R$ ",w.totalSales.toFixed(2)]}),s.jsx(rt,{className:"text-right",children:w.totalOrders})]},w.date))})]})})})]}),s.jsxs(ve,{className:"shadow-soft",children:[s.jsxs(je,{children:[s.jsx(Se,{children:"Produtos Mais Vendidos"}),s.jsx(Jt,{children:"Ranking dos produtos mais vendidos no perodo."})]}),s.jsx(ye,{children:s.jsx(du,{className:"h-[300px] pr-4",children:y.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Nenhum produto vendido no perodo."}):s.jsxs(Ga,{children:[s.jsx(Ka,{children:s.jsxs(ur,{children:[s.jsx(yt,{children:"Produto"}),s.jsx(yt,{className:"text-right",children:"Quantidade"})]})}),s.jsx(Ya,{children:y.map((w,j)=>s.jsxs(ur,{children:[s.jsx(rt,{children:w.name}),s.jsxs(rt,{className:"text-right",children:[w.quantity," unidades"]})]},j))})]})})})]}),s.jsxs(ve,{className:"shadow-soft",children:[s.jsxs(je,{children:[s.jsx(Se,{children:"Horrios de Pico"}),s.jsx(Jt,{children:"Perodos com maior volume de pedidos no perodo."})]}),s.jsx(ye,{children:s.jsx(du,{className:"h-[300px] pr-4",children:v.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Nenhum dado de horrios de pico disponvel para o perodo."}):s.jsxs(Ga,{children:[s.jsx(Ka,{children:s.jsxs(ur,{children:[s.jsx(yt,{children:"Hora"}),s.jsx(yt,{className:"text-right",children:"Pedidos"})]})}),s.jsx(Ya,{children:v.map((w,j)=>s.jsxs(ur,{children:[s.jsx(rt,{children:w.hour}),s.jsx(rt,{className:"text-right",children:w.count})]},j))})]})})})]}),s.jsxs(ve,{className:"shadow-soft",children:[s.jsxs(je,{children:[s.jsx(Se,{children:"Movimentao de Estoque"}),s.jsx(Jt,{children:"Histrico de entrada e sada de produtos"})]}),s.jsx(ye,{children:s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Nenhum dado de estoque disponvel"})})]})]})]})]})}const Cc=ke;function vce(){const{user:e,profile:t,isAdmin:r}=Gt(),{toast:n}=dr(),a=Xi(),{isEnabled:i,toggleSound:o}=zP(),[l,c]=g.useState(""),[u,d]=g.useState(""),[f,h]=g.useState(""),[p,y]=g.useState(""),[m,v]=g.useState(null),[x,b]=g.useState([]),[w,j]=g.useState({is_pending_active:!0,is_preparing_active:!0});g.useEffect(()=>{t!=null&&t.store_id&&(S(),_(),N())},[t]);const S=async()=>{if(!(t!=null&&t.store_id))return;const{data:P,error:k}=await Cc.from("stores").select("name, display_name, phone, address, motoboy_whatsapp_number, is_active").eq("id",t.store_id).single();if(k){console.error("Erro ao carregar configuraes da loja:",k),n({variant:"destructive",title:"Erro ao carregar configuraes",description:k.message});return}P&&(c(P.display_name||P.name),d(P.phone||""),h(P.address||""),y(P.motoboy_whatsapp_number||""))},_=async()=>{if(!(t!=null&&t.store_id))return;const{data:P,error:k}=await Cc.from("order_flow_settings").select("is_pending_active, is_preparing_active").eq("store_id",t.store_id).maybeSingle();if(k){console.error("Erro ao carregar configuraes de fluxo:",k);return}P&&j(P)},N=async()=>{if(!(t!=null&&t.store_id))return;const{data:P,error:k}=await Cc.from("stores").select("subscription_plan, subscription_start_date, subscription_end_date").eq("id",t.store_id).single();k?(console.error("Erro ao carregar plano atual da loja:",k.message),n({variant:"destructive",title:"Erro",description:"No foi possvel carregar o plano de assinatura atual."})):P&&v(P);const{data:I,error:M}=await Cc.from("subscription_history").select("*").eq("store_id",t.store_id).order("created_at",{ascending:!1});M?(console.error("Erro ao carregar histrico de assinaturas:",M.message),n({variant:"destructive",title:"Erro",description:"No foi possvel carregar o histrico de assinaturas."})):I&&b(I)},C=async()=>{if(!(t!=null&&t.store_id))return;const{error:P}=await Cc.from("stores").update({name:l,display_name:l,phone:u||null,address:f||null}).eq("id",t.store_id);P?n({variant:"destructive",title:"Erro ao salvar informaes da loja",description:P.message}):(n({title:"Informaes da loja salvas!",description:"O nome, telefone e endereo foram atualizados."}),S())},E=async()=>{if(!(t!=null&&t.store_id))return;const P={store_id:t.store_id,is_pending_active:w.is_pending_active,is_preparing_active:w.is_preparing_active},{error:k}=await Cc.from("order_flow_settings").upsert(P,{onConflict:"store_id"});k?n({variant:"destructive",title:"Erro ao salvar fluxo de pedidos",description:k.message}):(n({title:"Fluxo de pedidos salvo!",description:"As configuraes de estgios foram atualizadas."}),_())},A=async()=>{if(!(t!=null&&t.store_id))return;const{error:P}=await Cc.from("stores").update({motoboy_whatsapp_number:p||null}).eq("id",t.store_id);n(P?{variant:"destructive",title:"Erro ao salvar nmero do motoboy",description:P.message}:{title:"Nmero do motoboy salvo!",description:"O nmero de WhatsApp do motoboy foi atualizado."})},O=P=>{navigator.clipboard.writeText(P),n({title:"ID copiado!",description:"O ID foi copiado para a rea de transferncia"})};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Configuraes"}),s.jsx("p",{className:"text-muted-foreground",children:"Gerencie as configuraes do sistema"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[!r&&s.jsxs(ve,{className:"shadow-soft",children:[s.jsxs(je,{children:[s.jsxs(Se,{className:"flex items-center gap-2",children:[s.jsx(Su,{className:"h-5 w-5"}),"Informaes da Loja"]}),s.jsx(Jt,{children:"Configure os dados bsicos do estabelecimento"})]}),s.jsxs(ye,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"store-name",children:"Nome da Loja"}),s.jsx(ne,{id:"store-name",value:l,onChange:P=>c(P.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"store-phone",children:"Telefone"}),s.jsx(ne,{id:"store-phone",value:u,onChange:P=>d(P.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"store-address",children:"Endereo"}),s.jsx(ne,{id:"store-address",value:f,onChange:P=>h(P.target.value)})]}),s.jsx(B,{onClick:C,className:"w-full shadow-soft",children:"Salvar Alteraes"})]})]}),!r&&s.jsxs(ve,{className:"shadow-soft",children:[s.jsxs(je,{children:[s.jsxs(Se,{className:"flex items-center gap-2",children:[s.jsx(Fi,{className:"h-5 w-5"}),"Minha Assinatura"]}),s.jsx(Jt,{children:"Visualize seu plano atual e histrico de assinaturas."})]}),s.jsxs(ye,{className:"space-y-4",children:[m?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"font-medium",children:"Plano Atual:"}),s.jsx(kn,{variant:m.subscription_plan==="free"?"secondary":"default",className:m.subscription_plan==="annual"?"bg-green-500 text-white":"",children:m.subscription_plan.charAt(0).toUpperCase()+m.subscription_plan.slice(1)})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Po,{className:"h-4 w-4"}),"Incio: ",m.subscription_start_date?Be(Er(m.subscription_start_date),"dd/MM/yyyy",{locale:Tt}):"N/A"]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Po,{className:"h-4 w-4"}),"Expira: ",m.subscription_end_date?Be(Er(m.subscription_end_date),"dd/MM/yyyy",{locale:Tt}):"N/A"]}),s.jsx(B,{className:"w-full shadow-soft mt-4",children:"Contratar Novo Plano (Placeholder)"})]}):s.jsx("p",{className:"text-center text-muted-foreground",children:"Carregando detalhes da assinatura..."}),s.jsx(So,{className:"my-4"}),s.jsx("h3",{className:"text-lg font-semibold",children:"Histrico de Assinaturas"}),x.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-4",children:"Nenhum histrico de assinatura encontrado."}):s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:x.map(P=>s.jsxs("div",{className:"p-3 bg-accent rounded-lg text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"font-medium",children:P.subscription_plan.charAt(0).toUpperCase()+P.subscription_plan.slice(1)}),s.jsx(kn,{variant:P.status==="active"?"default":"secondary",className:P.status==="expired"?"bg-red-500 text-white":"",children:P.status.charAt(0).toUpperCase()+P.status.slice(1)})]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["De: ",Be(Er(P.start_date),"dd/MM/yyyy",{locale:Tt})," ","At: ",Be(Er(P.end_date),"dd/MM/yyyy",{locale:Tt})]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Registrado em: ",Be(Er(P.created_at),"dd/MM/yyyy",{locale:Tt})]})]},P.id))})]})]}),!r&&s.jsxs(ve,{className:"shadow-soft",children:[s.jsxs(je,{children:[s.jsxs(Se,{className:"flex items-center gap-2",children:[s.jsx(LK,{className:"h-5 w-5"}),"Fluxo de Pedidos"]}),s.jsx(Jt,{children:"Defina quais estgios do painel de pedidos esto ativos."})]}),s.jsxs(ye,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-accent rounded-lg",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(V,{children:'Ativar estgio "Aguardando"'}),s.jsx("p",{className:"text-sm text-muted-foreground",children:'Se desativado, novos pedidos vo direto para "Em Preparo" (ou "Pronto", se "Em Preparo" tambm estiver desativado).'})]}),s.jsx(cr,{checked:w.is_pending_active,onCheckedChange:P=>j(k=>({...k,is_pending_active:P}))})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-accent rounded-lg",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(V,{children:'Ativar estgio "Em Preparo"'}),s.jsx("p",{className:"text-sm text-muted-foreground",children:'Se desativado, pedidos vo direto para "Pronto" aps o estgio anterior.'})]}),s.jsx(cr,{checked:w.is_preparing_active,onCheckedChange:P=>j(k=>({...k,is_preparing_active:P}))})]}),s.jsx(B,{onClick:E,className:"w-full shadow-soft",children:"Salvar Fluxo de Pedidos"})]})]}),!r&&s.jsxs(ve,{className:"shadow-soft",children:[s.jsxs(je,{children:[s.jsxs(Se,{className:"flex items-center gap-2",children:[s.jsx(o3,{className:"h-5 w-5"}),"Configuraes de Entrega"]}),s.jsx(Jt,{children:"Gerencie as opes e contatos para entregas"})]}),s.jsxs(ye,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"motoboy-whatsapp",children:"WhatsApp do Motoboy"}),s.jsx(ne,{id:"motoboy-whatsapp",type:"tel",placeholder:"+55 68 8426-4931",value:p,onChange:P=>y(P.target.value.replace(/\D/g,""))}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Nmero de WhatsApp para envio de detalhes de entrega. Apenas nmeros."})]}),s.jsx(B,{onClick:A,className:"w-full shadow-soft",children:"Salvar Configuraes de Entrega"})]})]}),!r&&s.jsxs(ve,{className:"shadow-soft",children:[s.jsxs(je,{children:[s.jsxs(Se,{className:"flex items-center gap-2",children:[s.jsx(PE,{className:"h-5 w-5"}),"Notificaes"]}),s.jsx(Jt,{children:"Configure alertas e notificaes do sistema"})]}),s.jsxs(ye,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(V,{children:"Som ao Receber Pedido"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Reproduz um som quando um novo pedido  recebido"})]}),s.jsx(cr,{checked:i,onCheckedChange:o})]}),s.jsx(So,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(V,{children:"Alerta de Estoque Baixo"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifica quando o estoque estiver acabando"})]}),s.jsx(cr,{defaultChecked:!0})]}),s.jsx(So,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(V,{children:"Relatrio Dirio Automtico"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Gera relatrio automaticamente ao final do dia"})]}),s.jsx(cr,{})]})]})]}),s.jsxs(ve,{className:"shadow-soft",children:[s.jsxs(je,{children:[s.jsxs(Se,{className:"flex items-center gap-2",children:[s.jsx(pv,{className:"h-5 w-5"}),"Programa de Fidelidade"]}),s.jsx(Jt,{children:"Configure as regras do programa de pontuao"})]}),s.jsxs(ye,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(V,{children:"Programa Ativo"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Habilita o programa de fidelidade"})]}),s.jsx(cr,{defaultChecked:!0})]}),s.jsx(B,{className:"w-full shadow-soft",children:"Salvar Configuraes"})]})]}),s.jsxs(ve,{className:"shadow-soft",children:[s.jsxs(je,{children:[s.jsxs(Se,{className:"flex items-center gap-2",children:[s.jsx(V_,{className:"h-5 w-5"}),"Segurana"]}),s.jsx(Jt,{children:"Configuraes de acesso e segurana"})]}),s.jsxs(ye,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"admin-password",children:"Alterar Senha de Administrador"}),s.jsx(ne,{id:"admin-password",type:"password",placeholder:"Nova senha"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"confirm-password",children:"Confirmar Nova Senha"}),s.jsx(ne,{id:"confirm-password",type:"password",placeholder:"Confirme a senha"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(V,{children:"Login Automtico"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Mantm logado por 30 dias"})]}),s.jsx(cr,{})]}),s.jsx(B,{className:"w-full shadow-soft",children:"Alterar Senha"})]})]}),s.jsxs(ve,{className:"shadow-soft",children:[s.jsxs(je,{children:[s.jsxs(Se,{className:"flex items-center gap-2",children:[s.jsx(WK,{className:"h-5 w-5"}),"Aparncia"]}),s.jsx(Jt,{children:"Personalize a interface do sistema"})]}),s.jsx(ye,{className:"space-y-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(V,{children:"Sons da Interface"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Reproduz sons ao interagir com botes"})]}),s.jsx(cr,{checked:i,onCheckedChange:o})]})})]}),s.jsxs(ve,{className:"shadow-soft",children:[s.jsxs(je,{children:[s.jsxs(Se,{className:"flex items-center gap-2",children:[s.jsx(V_,{className:"h-5 w-5"}),"Identificao"]}),s.jsx(Jt,{children:"Informaes do seu perfil"})]}),s.jsx(ye,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"ID do Usurio"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ne,{value:(e==null?void 0:e.id)||"",readOnly:!0,className:"font-mono text-sm"}),s.jsx(B,{variant:"outline",size:"icon",onClick:()=>(e==null?void 0:e.id)&&O(e.id),children:s.jsx(AE,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Use este ID para identificao em suporte tcnico"})]})})]}),s.jsxs(ve,{className:"shadow-soft",children:[s.jsxs(je,{children:[s.jsxs(Se,{className:"flex items-center gap-2",children:[s.jsx(z_,{className:"h-5 w-5"}),"Dados e Backup"]}),s.jsx(Jt,{children:"Gerencie os dados do sistema"})]}),s.jsxs(ye,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(V,{children:"Backup Automtico"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Faz backup dos dados diariamente"})]}),s.jsx(cr,{defaultChecked:!0})]}),s.jsx(So,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{variant:"outline",className:"w-full",children:"Fazer Backup Manual"}),s.jsx(B,{variant:"outline",className:"w-full",children:"Restaurar Backup"}),s.jsx(B,{variant:"destructive",className:"w-full",children:"Limpar Dados (Cuidado!)"})]})]})]}),r&&s.jsxs(ve,{className:"shadow-soft border-primary/50",children:[s.jsxs(je,{children:[s.jsxs(Se,{className:"flex items-center gap-2",children:[s.jsx(G_,{className:"h-5 w-5"}),"Instalao do Sistema"]}),s.jsx(Jt,{children:"Configure toda a infraestrutura do sistema (Acesso Admin)"})]}),s.jsxs(ye,{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Acesse o painel de instalao para configurar tabelas, polticas de segurana, edge functions e todas as funcionalidades necessrias para o funcionamento completo do sistema."}),s.jsxs(B,{onClick:()=>a("/setup"),className:"w-full",variant:"default",children:[s.jsx(G_,{className:"h-4 w-4 mr-2"}),"Acessar Painel de Instalao"]})]})]})]})]})}const In=ke;function gce(){var oo;const[e,t]=g.useState([]),[r,n]=g.useState([]),[a,i]=g.useState(""),[o,l]=g.useState(""),[c,u]=g.useState(""),[d,f]=g.useState(""),[h,p]=g.useState("0.0"),[y,m]=g.useState(!1),[v,x]=g.useState("0"),[b,w]=g.useState(!1),[j,S]=g.useState("0"),[_,N]=g.useState("0.00"),[C,E]=g.useState(!1),[A,O]=g.useState(!1),[P,k]=g.useState([]),[I,M]=g.useState(!1),[L,$]=g.useState(""),[D,T]=g.useState(null),[H,re]=g.useState(!1),[J,le]=g.useState(null),[te,Z]=g.useState(""),[we,oe]=g.useState(""),[q,U]=g.useState(""),[ae,z]=g.useState(""),[W,ge]=g.useState("0.0"),[me,be]=g.useState(!1),[X,ee]=g.useState(""),[xe,he]=g.useState(!1),[Ae,Ce]=g.useState("0"),[Ct,ht]=g.useState("0.00"),[Ft,_r]=g.useState(!1),[Me,jr]=g.useState(!1),[rn,jt]=g.useState([]),[nt,zt]=g.useState([]),[yr,or]=g.useState(null),[Ye,Rr]=g.useState([]),[rr,nn]=g.useState(null),[ce,Le]=g.useState(!1),[Je,Bt]=g.useState(null),[fr,de]=g.useState([]),[De,Te]=g.useState([]),[et,tt]=g.useState(""),[hr,pr]=g.useState("0.0"),[Wr,se]=g.useState("0"),[G,ie]=g.useState(!1),[Ge,lt]=g.useState(""),[qt,Ve]=g.useState("product"),[ut,Qe]=g.useState("1"),[Xt,Wt]=g.useState(null),{profile:vt}=Gt(),{toast:Ie}=dr();g.useEffect(()=>{vt!=null&&vt.store_id&&(es(),ka(),ts())},[vt]),g.useEffect(()=>{yr?so(yr):(Rr([]),nn(null))},[yr]),g.useEffect(()=>{if(rr){const Q=Ye.find(Fe=>Fe.id===rr);(Q==null?void 0:Q.cost_price)!==null&&(Q==null?void 0:Q.cost_price)!==void 0&&ht(Q.cost_price.toFixed(2))}},[rr,Ye]);const ka=async()=>{if(!(vt!=null&&vt.store_id))return;const{data:Q,error:Fe}=await In.from("categories").select("*").eq("store_id",vt.store_id).order("name");Fe?Ie({variant:"destructive",title:"Erro ao carregar categorias",description:Fe.message}):n(Q||[])},es=async()=>{if(!(vt!=null&&vt.store_id))return;const{data:Q,error:Fe}=await In.from("products").select("*, supplier_product_id").eq("store_id",vt.store_id).order("name");Fe?Ie({variant:"destructive",title:"Erro ao carregar produtos",description:Fe.message}):t(Q||[])},Ta=async Q=>{const{data:Fe,error:Et}=await In.from("product_variations").select("*").eq("product_id",Q).order("name");return Et?(Ie({variant:"destructive",title:"Erro ao carregar variaes",description:Et.message}),[]):(de(Fe||[]),Fe||[])},ks=async()=>{if(!(vt!=null&&vt.store_id))return;const{data:Q,error:Fe}=await In.from("product_variations").select("*, products!inner(name, store_id)").eq("products.store_id",vt.store_id);if(Fe){console.error("Erro ao carregar variaes:",Fe);return}const Et=(Q||[]).map(Fr=>({...Fr,product_name:Fr.products.name}));Et.sort((Fr,Da)=>Fr.product_name.localeCompare(Da.product_name)),Te(Et)},ts=async()=>{if(!(vt!=null&&vt.store_id))return;const{data:Q,error:Fe}=await In.from("suppliers").select("id, corporate_name").eq("store_id",vt.store_id).order("corporate_name");Fe?console.error("Erro ao carregar fornecedores:",Fe.message):zt(Q||[])},so=async Q=>{const{data:Fe,error:Et}=await In.from("supplier_products").select(`
        id,
        supplier_id,
        product_id,
        cost_price,
        products (name)
      `).eq("supplier_id",Q);Et?console.error("Erro ao carregar produtos do fornecedor:",Et.message):Rr(Fe||[])},Ts=async Q=>{if(Q.preventDefault(),!(vt!=null&&vt.store_id)){Ie({variant:"destructive",title:"Erro",description:"Voc precisa estar vinculado a uma loja"});return}const Fe=parseFloat(h),Et=Fe>0,Fr=parseFloat(j),{data:Da,error:Za}=await In.from("products").insert({store_id:vt.store_id,name:a,price:y?0:parseFloat(o),image_url:c||null,category_id:d&&d!=="none"?d:null,stock_quantity:y?0:parseInt(v||"0"),earns_loyalty_points:Et,loyalty_points_value:Fe,has_variations:y,can_be_redeemed_with_points:b,redemption_points_cost:b?Fr:0,cost_price:parseFloat(_),is_perishable:C,is_packaging:A}).select().single();if(Za){Ie({variant:"destructive",title:"Erro ao adicionar produto",description:Za.message});return}if(A&&P.length>0&&Da){const ei=P.filter(oa=>oa.productId&&oa.quantity>0).map(oa=>({packaging_id:Da.id,product_id:oa.productId,quantity:oa.quantity,store_id:vt.store_id}));if(ei.length>0){const{error:oa}=await In.from("product_packaging_links").insert(ei);if(oa){Ie({variant:"destructive",title:"Erro ao vincular embalagens",description:oa.message});return}}}Ie({title:"Produto adicionado com sucesso!"}),i(""),l(""),u(""),f(""),p("0.0"),m(!1),x("0"),w(!1),S("0"),N("0.00"),E(!1),O(!1),k([]),es()},nr=async Q=>{if(confirm("Tem certeza que deseja excluir este produto? Todos os itens de pedido e variaes associadas a ele tambm sero excludos."))try{const{error:Fe}=await In.from("product_variations").delete().eq("product_id",Q);if(Fe)throw new Error(`Erro ao excluir variaes: ${Fe.message}`);const{error:Et}=await In.from("order_items").delete().eq("product_id",Q);if(Et)throw new Error(`Erro ao excluir itens de pedido: ${Et.message}`);const{error:Fr}=await In.from("products").delete().eq("id",Q);if(Fr)throw new Error(`Erro ao excluir produto: ${Fr.message}`);Ie({title:"Produto excludo com sucesso!",description:"Itens de pedido e variaes associadas tambm foram removidos."}),es()}catch(Fe){Ie({variant:"destructive",title:"Erro ao excluir produto",description:Fe.message})}},Or=async Q=>{if(Q.preventDefault(),!!(vt!=null&&vt.store_id))if(D){const{error:Fe}=await In.from("categories").update({name:L}).eq("id",D.id);Fe?Ie({variant:"destructive",title:"Erro ao renomear categoria",description:Fe.message}):(Ie({title:"Categoria renomeada com sucesso!"}),M(!1),$(""),T(null),ka())}else{const{error:Fe}=await In.from("categories").insert({store_id:vt.store_id,name:L});Fe?Ie({variant:"destructive",title:"Erro ao criar categoria",description:Fe.message}):(Ie({title:"Categoria criada com sucesso!"}),M(!1),$(""),ka())}},st=async Q=>{if(!confirm("Tem certeza? Os produtos desta categoria ficaro sem categoria."))return;const{error:Fe}=await In.from("categories").delete().eq("id",Q);Fe?Ie({variant:"destructive",title:"Erro ao excluir categoria",description:Fe.message}):(Ie({title:"Categoria excluda com sucesso!"}),ka())},Gv=Q=>{le(Q),Z(Q.name),oe(Q.price.toString()),U(Q.image_url||""),z(Q.category_id||"none"),ge(Q.loyalty_points_value.toString()),be(Q.has_variations),ee(Q.stock_quantity.toString()),he(Q.can_be_redeemed_with_points),Ce(Q.redemption_points_cost.toString()),ht(Q.cost_price.toString()),_r(Q.is_perishable),Q.supplier_product_id?In.from("supplier_products").select("id, supplier_id, cost_price").eq("id",Q.supplier_product_id).single().then(({data:Fe,error:Et})=>{var Fr;Et?(console.error("Error fetching supplier product for editing:",Et.message),or(null),nn(null)):Fe&&(or(Fe.supplier_id),nn(Fe.id),ht(((Fr=Fe.cost_price)==null?void 0:Fr.toFixed(2))||"0.00"))}):(or(null),nn(null)),re(!0)},Eh=async Q=>{if(Q.preventDefault(),!J)return;const Fe=parseFloat(W),Et=Fe>0,Fr=parseFloat(Ae),{error:Da}=await In.from("products").update({name:te,price:me?0:parseFloat(we),image_url:q||null,category_id:ae&&ae!=="none"?ae:null,earns_loyalty_points:Et,loyalty_points_value:Fe,has_variations:me,stock_quantity:me?0:parseInt(X||"0"),can_be_redeemed_with_points:xe,redemption_points_cost:xe?Fr:0,cost_price:parseFloat(Ct),is_perishable:Ft,supplier_product_id:rr}).eq("id",J.id);Da?Ie({variant:"destructive",title:"Erro ao atualizar produto",description:Da.message}):(Ie({title:"Produto atualizado com sucesso!"}),re(!1),le(null),es())},Ph=async Q=>{Bt(Q),await Ta(Q.id),await ks(),Le(!0)},Oh=async Q=>{if(Q.preventDefault(),!Je)return;if(G&&!Ge){Ie({variant:"destructive",title:"Erro",description:"Selecione a matria-prima para o item composto"});return}const Fe={product_id:Je.id,name:et,price_adjustment:parseFloat(hr),stock_quantity:parseInt(Wr),is_composite:G,raw_material_product_id:G&&qt==="product"?Ge:null,raw_material_variation_id:G&&qt==="variation"?Ge:null,yield_quantity:G?parseInt(ut):1},{error:Et}=await In.from("product_variations").insert(Fe);Et?Ie({variant:"destructive",title:"Erro ao adicionar variao",description:Et.message}):(Ie({title:"Variao adicionada!"}),tt(""),pr("0.0"),se("0"),ie(!1),lt(""),Ve("product"),Qe("1"),Ta(Je.id))},jc=async Q=>{if(Q.preventDefault(),!Xt)return;if(G&&!Ge){Ie({variant:"destructive",title:"Erro",description:"Selecione a matria-prima para o item composto"});return}const Fe={name:et,price_adjustment:parseFloat(hr),stock_quantity:parseInt(Wr),is_composite:G,raw_material_product_id:G&&qt==="product"?Ge:null,raw_material_variation_id:G&&qt==="variation"?Ge:null,yield_quantity:G?parseInt(ut):1},{error:Et}=await In.from("product_variations").update(Fe).eq("id",Xt.id);Et?Ie({variant:"destructive",title:"Erro ao atualizar variao",description:Et.message}):(Ie({title:"Variao atualizada!"}),tt(""),pr("0.0"),se("0"),ie(!1),lt(""),Ve("product"),Qe("1"),Wt(null),Ta(Je.id))},Ah=async Q=>{if(!confirm("Tem certeza que deseja excluir esta variao?"))return;const{error:Fe}=await In.from("product_variations").delete().eq("id",Q);Fe?Ie({variant:"destructive",title:"Erro ao excluir variao",description:Fe.message}):(Ie({title:"Variao excluda!"}),Ta(Je.id))},el=Q=>{if(!Q)return"Sem Categoria";const Fe=r.find(Et=>Et.id===Q);return(Fe==null?void 0:Fe.name)||"Sem Categoria"};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Produtos"}),s.jsx("p",{className:"text-muted-foreground",children:"Gerencie os produtos da loja"})]}),s.jsxs(ve,{children:[s.jsxs(je,{className:"flex flex-row items-center justify-between",children:[s.jsx(Se,{children:"Categorias"}),s.jsxs(St,{open:I,onOpenChange:Q=>{M(Q),Q||(T(null),$(""))},children:[s.jsx(Ki,{asChild:!0,children:s.jsxs(B,{size:"sm",children:[s.jsx(AK,{className:"h-4 w-4 mr-2"}),"Nova Categoria"]})}),s.jsxs(xt,{children:[s.jsx(bt,{children:s.jsx(wt,{children:D?"Renomear Categoria":"Nova Categoria"})}),s.jsxs("form",{onSubmit:Or,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"categoryName",children:"Nome da Categoria"}),s.jsx(ne,{id:"categoryName",value:L,onChange:Q=>$(Q.target.value),placeholder:"Ex: Bebidas",required:!0})]}),s.jsx(B,{type:"submit",className:"w-full",children:D?"Salvar":"Criar"})]})]})]})]}),s.jsx(ye,{children:s.jsx("div",{className:"flex flex-wrap gap-2",children:r.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhuma categoria criada"}):r.map(Q=>s.jsxs("div",{className:"flex items-center gap-2 bg-accent px-3 py-2 rounded-md",children:[s.jsx("span",{className:"text-sm font-medium",children:Q.name}),s.jsx(B,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>{T(Q),$(Q.name),M(!0)},children:s.jsx(Oj,{className:"h-3 w-3"})}),s.jsx(B,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-destructive",onClick:()=>st(Q.id),children:s.jsx(qr,{className:"h-3 w-3"})})]},Q.id))})})]}),s.jsxs(ve,{children:[s.jsx(je,{children:s.jsx(Se,{children:"Adicionar Produto"})}),s.jsx(ye,{children:s.jsxs("form",{onSubmit:Ts,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"newProductName",children:"Nome do Produto"}),s.jsx(ne,{id:"newProductName",value:a,onChange:Q=>i(Q.target.value),placeholder:"Ex: Frango com Recheio",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"newProductPrice",children:"Preo (R$)"}),s.jsx(ne,{id:"newProductPrice",type:"number",step:"0.01",value:o,onChange:Q=>l(Q.target.value),placeholder:"25.90",required:!0,disabled:y})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"newProductCostPrice",children:"Preo de Custo (R$)"}),s.jsx(ne,{id:"newProductCostPrice",type:"number",step:"0.01",value:_,onChange:Q=>N(Q.target.value),placeholder:"0.00",required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"newProductImage",children:"URL da Imagem (opcional)"}),s.jsx(ne,{id:"newProductImage",type:"url",value:c,onChange:Q=>u(Q.target.value),placeholder:"https://exemplo.com/imagem.jpg"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"newProductCategory",children:"Categoria"}),s.jsxs(ir,{value:d,onValueChange:f,children:[s.jsx(er,{children:s.jsx(sr,{placeholder:"Selecione"})}),s.jsxs(tr,{children:[s.jsx($e,{value:"none",children:"Sem Categoria"}),r.map(Q=>s.jsx($e,{value:Q.id,children:Q.name},Q.id))]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"newProductLoyaltyPoints",children:"Pontos de Fidelidade (Ganhos)"}),s.jsx(ne,{id:"newProductLoyaltyPoints",type:"number",step:"0.01",min:"0",value:h,onChange:Q=>p(Q.target.value),placeholder:"0.00"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Valor em pontos que este produto concede ao cliente ao ser comprado."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"newProductStockQuantity",children:"Estoque Inicial"}),s.jsx(ne,{id:"newProductStockQuantity",type:"number",min:"0",value:v,onChange:Q=>x(Q.target.value),placeholder:"0",required:!0,disabled:y}),s.jsx("p",{className:"text-xs text-muted-foreground",children:y?"Estoque gerenciado por variaes.":"Estoque do produto principal."})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(cr,{id:"newProductHasVariations",checked:y,onCheckedChange:m}),s.jsx(V,{htmlFor:"newProductHasVariations",children:"Possui Variaes?"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(cr,{id:"newProductCanBeRedeemed",checked:b,onCheckedChange:w}),s.jsx(V,{htmlFor:"newProductCanBeRedeemed",children:"Pode ser resgatado com pontos?"})]})]}),b&&s.jsxs("div",{className:"space-y-2 mt-2",children:[s.jsx(V,{htmlFor:"newProductRedemptionCost",children:"Custo em Pontos para Resgate"}),s.jsx(ne,{id:"newProductRedemptionCost",type:"number",step:"1",min:"0",value:j,onChange:Q=>S(Q.target.value),placeholder:"0",required:!0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Quantos pontos o cliente precisa para resgatar este produto."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(cr,{id:"newProductIsPerishable",checked:C,onCheckedChange:E}),s.jsx(V,{htmlFor:"newProductIsPerishable",children:"Produto Perecvel?"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(cr,{id:"newProductIsPackaging",checked:A,onCheckedChange:O}),s.jsx(V,{htmlFor:"newProductIsPackaging",children:" uma Embalagem?"})]})]}),A&&s.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/50",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(V,{className:"text-base font-semibold",children:"Produtos que usam esta embalagem"}),s.jsxs(B,{type:"button",size:"sm",variant:"outline",onClick:()=>k([...P,{productId:"",quantity:1}]),children:[s.jsx(xr,{className:"h-4 w-4 mr-2"}),"Adicionar Produto"]})]}),P.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:'Nenhum produto vinculado. Clique em "Adicionar Produto" para vincular.'}):s.jsx("div",{className:"space-y-3",children:P.map((Q,Fe)=>s.jsxs("div",{className:"flex gap-2 items-end",children:[s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx(V,{children:"Produto"}),s.jsxs(ir,{value:Q.productId,onValueChange:Et=>{const Fr=[...P];Fr[Fe].productId=Et,k(Fr)},children:[s.jsx(er,{children:s.jsx(sr,{placeholder:"Selecione o produto"})}),s.jsx(tr,{children:e.filter(Et=>!Et.has_variations).map(Et=>s.jsx($e,{value:Et.id,children:Et.name},Et.id))})]})]}),s.jsxs("div",{className:"w-32 space-y-2",children:[s.jsx(V,{children:"Quantidade"}),s.jsx(ne,{type:"number",min:"1",value:Q.quantity,onChange:Et=>{const Fr=[...P];Fr[Fe].quantity=parseInt(Et.target.value)||1,k(Fr)}})]}),s.jsx(B,{type:"button",size:"icon",variant:"ghost",onClick:()=>{const Et=P.filter((Fr,Da)=>Da!==Fe);k(Et)},children:s.jsx(qr,{className:"h-4 w-4"})})]},Fe))}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Configure quais produtos utilizam esta embalagem e quantas unidades so usadas por venda."})]}),s.jsxs(B,{type:"submit",className:"w-full",children:[s.jsx(xr,{className:"h-4 w-4 mr-2"}),"Adicionar Produto"]})]})})]}),s.jsxs(ve,{children:[s.jsx(je,{children:s.jsx(Se,{children:"Produtos Cadastrados"})}),s.jsx(ye,{children:s.jsx("div",{className:"space-y-3",children:e.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Nenhum produto cadastrado"}):e.map(Q=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-accent rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[Q.image_url&&s.jsx("img",{src:Q.image_url,alt:Q.name,className:"w-12 h-12 object-cover rounded",onError:Fe=>{Fe.currentTarget.style.display="none"}}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:Q.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:Q.has_variations?"Com Variaes":`R$ ${Q.price.toFixed(2)}`}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:el(Q.category_id)}),Q.earns_loyalty_points&&s.jsxs("span",{className:"flex items-center text-xs text-primary font-medium",children:[s.jsx(Kn,{className:"h-3 w-3 mr-1"})," ",Q.loyalty_points_value.toFixed(2)," pts"]}),Q.can_be_redeemed_with_points&&s.jsxs("span",{className:"flex items-center text-xs text-purple-600 font-medium",children:[s.jsx(r0,{className:"h-3 w-3 mr-1"})," ",Q.redemption_points_cost.toFixed(0)," pts (resgate)"]}),Q.is_perishable&&s.jsx("span",{className:"flex items-center text-xs text-red-600 font-medium",children:" Perecvel"})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[Q.has_variations&&s.jsx(B,{variant:"outline",size:"sm",onClick:()=>Ph(Q),children:s.jsx(Ny,{className:"h-4 w-4"})}),s.jsx(B,{variant:"outline",size:"sm",onClick:()=>Gv(Q),children:s.jsx(Oj,{className:"h-4 w-4"})}),s.jsx(B,{variant:"destructive",size:"sm",onClick:()=>nr(Q.id),children:s.jsx(qr,{className:"h-4 w-4"})})]})]},Q.id))})})]}),s.jsx(St,{open:H,onOpenChange:Q=>{re(Q),Q||(le(null),or(null),nn(null))},children:s.jsxs(xt,{className:"max-h-[99vh] overflow-auto",children:[s.jsx(bt,{children:s.jsx(wt,{children:"Editar Produto"})}),J&&s.jsxs("form",{onSubmit:Eh,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"editProductName",children:"Nome do Produto"}),s.jsx(ne,{id:"editProductName",value:te,onChange:Q=>Z(Q.target.value),placeholder:"Ex: Frango com Recheio",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"editProductPrice",children:"Preo (R$)"}),s.jsx(ne,{id:"editProductPrice",type:"number",step:"0.01",value:we,onChange:Q=>oe(Q.target.value),placeholder:"25.90",required:!0,disabled:me})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"editProductCostPrice",children:"Preo de Custo (R$)"}),s.jsx(ne,{id:"editProductCostPrice",type:"number",step:"0.01",value:Ct,onChange:Q=>ht(Q.target.value),placeholder:"0.00",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"selectSupplier",children:"Vincular a Fornecedor (Opcional)"}),s.jsxs(ir,{value:yr||"none",onValueChange:Q=>or(Q==="none"?null:Q),children:[s.jsx(er,{id:"selectSupplier",children:s.jsx(sr,{placeholder:"Selecione um fornecedor"})}),s.jsxs(tr,{children:[s.jsx($e,{value:"none",children:"Nenhum Fornecedor"}),nt.map(Q=>s.jsx($e,{value:Q.id,children:Q.corporate_name},Q.id))]})]})]}),yr&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"selectSupplierProduct",children:"Produto do Fornecedor"}),s.jsxs(ir,{value:rr||"none",onValueChange:Q=>nn(Q==="none"?null:Q),disabled:!Ye.length,children:[s.jsx(er,{id:"selectSupplierProduct",children:s.jsx(sr,{placeholder:"Selecione um produto do fornecedor"})}),s.jsxs(tr,{children:[s.jsx($e,{value:"none",children:"Nenhum Produto"}),Ye.map(Q=>{var Fe;return s.jsxs($e,{value:Q.id,children:[(Fe=Q.products)==null?void 0:Fe.name," ",Q.cost_price!==null?`(Custo: R$ ${Q.cost_price.toFixed(2)})`:""]},Q.id)})]})]}),!Ye.length&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"Nenhum produto cadastrado para este fornecedor."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"editProductImageUrl",children:"URL da Imagem (opcional)"}),s.jsx(ne,{id:"editProductImageUrl",type:"url",value:q,onChange:Q=>U(Q.target.value),placeholder:"https://exemplo.com/imagem.jpg"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"editProductCategory",children:"Categoria"}),s.jsxs(ir,{value:ae,onValueChange:z,children:[s.jsx(er,{children:s.jsx(sr,{placeholder:"Selecione"})}),s.jsxs(tr,{children:[s.jsx($e,{value:"none",children:"Sem Categoria"}),r.map(Q=>s.jsx($e,{value:Q.id,children:Q.name},Q.id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"editProductLoyaltyPoints",children:"Pontos de Fidelidade (Ganhos)"}),s.jsx(ne,{id:"editProductLoyaltyPoints",type:"number",step:"0.01",min:"0",value:W,onChange:Q=>ge(Q.target.value),placeholder:"0.00"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Valor em pontos que este produto concede ao cliente ao ser comprado."})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(cr,{id:"editProductHasVariations",checked:me,onCheckedChange:be}),s.jsx(V,{htmlFor:"editProductHasVariations",children:"Possui Variaes?"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"editProductStockQuantity",children:"Estoque"}),s.jsx(ne,{id:"editProductStockQuantity",type:"number",min:"0",value:X,onChange:Q=>ee(Q.target.value),placeholder:"0",required:!0,disabled:me}),s.jsx("p",{className:"text-xs text-muted-foreground",children:me?"Estoque gerenciado por variaes.":"Estoque do produto principal."})]}),s.jsxs("div",{className:"space-y-2 border-t pt-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(cr,{id:"editProductCanBeRedeemed",checked:xe,onCheckedChange:he}),s.jsx(V,{htmlFor:"editProductCanBeRedeemed",children:"Pode ser resgatado com pontos?"})]}),xe&&s.jsxs("div",{className:"space-y-2 mt-2",children:[s.jsx(V,{htmlFor:"editProductRedemptionCost",children:"Custo em Pontos para Resgate"}),s.jsx(ne,{id:"editProductRedemptionCost",type:"number",step:"1",min:"0",value:Ae,onChange:Q=>Ce(Q.target.value),placeholder:"0",required:!0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Quantos pontos o cliente precisa para resgatar este produto."})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(cr,{id:"editProductIsPerishable",checked:Ft,onCheckedChange:_r}),s.jsx(V,{htmlFor:"editProductIsPerishable",children:"Produto Perecvel?"})]}),s.jsx(B,{type:"submit",className:"w-full",children:"Salvar Alteraes"})]})]})}),s.jsx(St,{open:ce,onOpenChange:Q=>{Le(Q),Q||(Bt(null),Wt(null),tt(""),pr("0.0"),se("0"))},children:s.jsxs(xt,{className:"max-h-[99vh] overflow-auto",children:[s.jsx(bt,{children:s.jsxs(wt,{children:['Gerenciar Variaes para "',Je==null?void 0:Je.name,'"']})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Variaes Atuais"}),fr.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhuma variao cadastrada."}):s.jsx("div",{className:"space-y-2",children:fr.map(Q=>{var Fe;return s.jsxs("div",{className:"flex items-center justify-between p-3 bg-accent rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium",children:Q.name}),Q.is_composite&&s.jsx(kn,{variant:"secondary",className:"text-xs",children:"Item Composto"})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Ajuste de Preo: R$ ",Q.price_adjustment.toFixed(2)," | Estoque: ",Q.stock_quantity]}),Q.is_composite&&Q.raw_material_product_id&&s.jsxs("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:[" Matria-prima: ",(Fe=e.find(Et=>Et.id===Q.raw_material_product_id))==null?void 0:Fe.name," "," Rende ",Q.yield_quantity," unidades"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(B,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>{Wt(Q),tt(Q.name),pr(Q.price_adjustment.toString()),se(Q.stock_quantity.toString()),ie(Q.is_composite||!1),Q.raw_material_variation_id?(Ve("variation"),lt(`var_${Q.raw_material_variation_id}`)):Q.raw_material_product_id?(Ve("product"),lt(Q.raw_material_product_id)):(Ve("product"),lt("")),Qe((Q.yield_quantity||1).toString())},children:s.jsx(Oj,{className:"h-3 w-3"})}),s.jsx(B,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-destructive",onClick:()=>Ah(Q.id),children:s.jsx(qr,{className:"h-3 w-3"})})]})]},Q.id)})}),s.jsx("h3",{className:"text-lg font-semibold mt-6",children:Xt?"Editar Variao":"Adicionar Nova Variao"}),s.jsxs("form",{onSubmit:Xt?jc:Oh,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"variationName",children:"Nome da Variao"}),s.jsx(ne,{id:"variationName",value:et,onChange:Q=>tt(Q.target.value),placeholder:"Ex: Tamanho P, Sabor Chocolate",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"variationPriceAdjustment",children:"Ajuste de Preo (R$)"}),s.jsx(ne,{id:"variationPriceAdjustment",type:"number",step:"0.01",value:hr,onChange:Q=>pr(Q.target.value),placeholder:"0.00 (ex: -2.00 para desconto, 5.00 para acrscimo)",required:!0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Este valor ser adicionado ao preo base do produto."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"variationStockQuantity",children:"Estoque da Variao"}),s.jsx(ne,{id:"variationStockQuantity",type:"number",min:"0",value:Wr,onChange:Q=>se(Q.target.value),placeholder:"0",required:!0,disabled:G}),G&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"Itens compostos no precisam de estoque inicial."})]}),s.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/30",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(cr,{id:"variationIsComposite",checked:G,onCheckedChange:ie}),s.jsx(V,{htmlFor:"variationIsComposite",className:"cursor-pointer",children:"Este  um Item Composto?"})]}),G&&s.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-primary",children:[s.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-950/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[s.jsx("p",{className:"text-sm text-blue-900 dark:text-blue-100 font-medium mb-1",children:" O que  um Item Composto?"}),s.jsx("p",{className:"text-xs text-blue-800 dark:text-blue-200",children:"Um item derivado de outro produto. Exemplo: 1 Frango Assado Recheado gera 2 Meios Frangos Recheados. Quando vendido, o sistema reduz automaticamente o estoque da matria-prima."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"variationRawMaterial",children:"Matria-Prima (Produto ou Variao) *"}),s.jsxs(ir,{value:Ge,onValueChange:Q=>{lt(Q),Q.startsWith("var_")?(Ve("variation"),lt(Q.replace("var_",""))):Ve("product")},children:[s.jsx(er,{children:s.jsx(sr,{placeholder:"Selecione a matria-prima"})}),s.jsxs(tr,{className:"max-h-[300px]",children:[s.jsx("div",{className:"px-2 py-1.5 text-xs font-semibold text-muted-foreground",children:"Produtos"}),e.filter(Q=>!Q.has_variations&&Q.id!==(Je==null?void 0:Je.id)).map(Q=>s.jsxs($e,{value:Q.id,children:[" ",Q.name," (Estoque: ",Q.stock_quantity,")"]},Q.id)),De.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"px-2 py-1.5 text-xs font-semibold text-muted-foreground border-t mt-2 pt-2",children:"Variaes"}),De.filter(Q=>Q.id!==(Xt==null?void 0:Xt.id)).map(Q=>s.jsxs($e,{value:`var_${Q.id}`,children:[" ",Q.product_name," - ",Q.name," (Estoque: ",Q.stock_quantity,")"]},Q.id))]})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Selecione qual produto ou variao ser consumido ao vender esta variao."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"variationYieldQuantity",children:"Rendimento (Quantos itens gera?) *"}),s.jsx(ne,{id:"variationYieldQuantity",type:"number",min:"1",value:ut,onChange:Q=>Qe(Q.target.value),placeholder:"2",required:!0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Quantas unidades desta variao so geradas a partir de 1 unidade da matria-prima?"})]}),Ge&&ut&&s.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-950/20 rounded-lg border border-green-200 dark:border-green-800",children:[s.jsx("p",{className:"text-sm font-medium text-green-900 dark:text-green-100 mb-1",children:" Exemplo de funcionamento:"}),s.jsxs("p",{className:"text-xs text-green-800 dark:text-green-200",children:['Ao vender 1 unidade de "',et||"esta variao",'", o sistema ir:']}),s.jsxs("ul",{className:"text-xs text-green-800 dark:text-green-200 mt-2 space-y-1 list-disc list-inside",children:[s.jsxs("li",{children:['Reduzir 1 unidade de "',(oo=e.find(Q=>Q.id===Ge))==null?void 0:oo.name,'"']}),s.jsxs("li",{children:["Gerar ",ut,' unidades de "',et||"esta variao",'"']}),s.jsx("li",{children:"Em caso de cancelamento, restaurar o estoque original"})]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[Xt&&s.jsx(B,{type:"button",variant:"outline",onClick:()=>{Wt(null),tt(""),pr("0.0"),se("0"),ie(!1),lt(""),Ve("product"),Qe("1")},children:"Cancelar Edio"}),s.jsx(B,{type:"submit",children:Xt?"Salvar Variao":"Adicionar Variao"})]})]})]})]})})]})}const Is=ke;function yce(){const[e,t]=g.useState([]),[r,n]=g.useState(""),[a,i]=g.useState([]),[o,l]=g.useState(""),[c,u]=g.useState(""),[d,f]=g.useState(!1),[h,p]=g.useState(""),[y,m]=g.useState(""),[v,x]=g.useState(!1),[b,w]=g.useState(""),[j,S]=g.useState(""),[_,N]=g.useState(""),[C,E]=g.useState(""),[A,O]=g.useState(!1),[P,k]=g.useState(null),[I,M]=g.useState(""),[L,$]=g.useState(""),[D,T]=g.useState(""),[H,re]=g.useState(""),[J,le]=g.useState(""),[te,Z]=g.useState(""),[we,oe]=g.useState(""),[q,U]=g.useState(!0),[ae,z]=g.useState("5"),[W,ge]=g.useState("30"),[me,be]=g.useState(!1),[X,ee]=g.useState(!1),[xe,he]=g.useState(null),[Ae,Ce]=g.useState(""),[Ct,ht]=g.useState(""),[Ft,_r]=g.useState(null),[Me,jr]=g.useState(!1),{isAdmin:rn}=Gt(),{toast:jt}=dr();g.useEffect(()=>{rn&&(nt(),zt())},[rn]);const nt=async()=>{const{data:de,error:De}=await Is.from("stores").select("*").order("name");De?jt({variant:"destructive",title:"Erro ao carregar lojas",description:De.message}):t(de||[])},zt=async()=>{const{data:de,error:De}=await Is.from("profiles").select("id, full_name, store_id, approved, email");if(De){jt({variant:"destructive",title:"Erro ao carregar usurios",description:De.message});return}i(de||[])},yr=async de=>{de.preventDefault();const{error:De}=await Is.from("stores").insert({name:r,display_name:r,slug:r.toLowerCase().replace(/\s+/g,"-")});De?jt({variant:"destructive",title:"Erro ao adicionar loja",description:De.message}):(jt({title:"Loja adicionada com sucesso!"}),n(""),nt())},or=async de=>{if(!confirm("Tem certeza que deseja excluir esta loja? Todos os dados associados (produtos, pedidos, clientes e usurios vinculados) sero perdidos permanentemente."))return;console.log("Attempting to invoke admin-delete-store for storeId:",de);const{data:De,error:Te}=await Is.functions.invoke("admin-delete-store",{body:{storeId:de}});Te?jt({variant:"destructive",title:"Erro ao excluir loja",description:Te.message}):De&&De.success?(jt({title:"Loja excluda com sucesso!"}),nt(),zt()):jt({variant:"destructive",title:"Erro ao excluir loja",description:(De==null?void 0:De.error)||"Ocorreu um erro desconhecido."})},Ye=async()=>{if(!y||!h){jt({variant:"destructive",title:"Selecione um usurio e uma loja"});return}const{data:de}=await Is.from("profiles").select("store_id").eq("id",y).single();if(de!=null&&de.store_id){jt({variant:"destructive",title:"Usurio j vinculado a uma loja",description:"Um usurio no pode ser reatribudo a outra loja aps o vnculo inicial."});return}const{error:De}=await Is.from("profiles").update({store_id:h}).eq("id",y);if(De){const Te=De.message.includes("no pode ser reatribudo")||De.message.includes("j est vinculado");jt({variant:"destructive",title:"Erro ao vincular usurio",description:Te?"Este usurio j est vinculado a uma loja e no pode ser reatribudo.":De.message})}else jt({title:"Usurio vinculado com sucesso!"}),f(!1),m(""),p(""),zt()},Rr=async de=>{de.preventDefault();const{error:De}=await Is.functions.invoke("admin-create-user",{body:{email:j,password:_,fullName:b,storeId:C&&C!=="none"?C:void 0}});if(De){jt({variant:"destructive",title:"Erro ao criar usurio",description:De.message});return}jt({title:"Usurio criado e aprovado!"}),S(""),N(""),w(""),E(""),x(!1),zt()},rr=async de=>{if(!confirm("Tem certeza que deseja excluir este usurio? Esta ao  irreversvel."))return;const{error:De}=await Is.functions.invoke("admin-delete-user",{body:{userId:de}});De?jt({variant:"destructive",title:"Erro ao excluir usurio",description:De.message}):(jt({title:"Usurio excludo"}),zt())},nn=de=>{k(de),M(de.display_name||de.name),$(de.slug||""),T(de.address||""),re(de.phone||""),le(de.cnpj||""),Z(de.image_url||""),oe(de.motoboy_whatsapp_number||""),U(de.is_active??!0),z(((de.monitor_slideshow_delay||5e3)/1e3).toString()),ge((de.monitor_idle_timeout_seconds||30).toString()),be(de.monitor_fullscreen_slideshow??!1),O(!0)},ce=async de=>{if(de.preventDefault(),!P)return;if(L&&!/^[a-z0-9-]+$/.test(L)){jt({variant:"destructive",title:"URL invlida",description:"O slug deve conter apenas letras minsculas, nmeros e hfens."});return}const{error:Te}=await Is.from("stores").update({display_name:I,slug:L||null,address:D||null,phone:H||null,cnpj:J||null,image_url:te||null,motoboy_whatsapp_number:we||null,is_active:q,monitor_slideshow_delay:parseInt(ae)*1e3,monitor_idle_timeout_seconds:parseInt(W),monitor_fullscreen_slideshow:me}).eq("id",P.id);Te?jt({variant:"destructive",title:"Erro ao atualizar loja",description:Te.message}):(jt({title:"Loja atualizada com sucesso!"}),O(!1),nt())},Le=de=>{he(de),Ce(de.full_name||""),ht(de.email||""),_r(de.store_id),jr(de.approved),ee(!0)},Je=async de=>{if(de.preventDefault(),!xe)return;const{error:De}=await Is.from("profiles").update({full_name:Ae,store_id:Ft,approved:Me}).eq("id",xe.id);De?jt({variant:"destructive",title:"Erro ao atualizar usurio",description:De.message}):(jt({title:"Usurio atualizado com sucesso!"}),ee(!1),zt())},Bt=e.filter(de=>{var De;return de.name.toLowerCase().includes(o.toLowerCase())||((De=de.display_name)==null?void 0:De.toLowerCase().includes(o.toLowerCase()))}),fr=a.filter(de=>{var De,Te;return((De=de.email)==null?void 0:De.toLowerCase().includes(c.toLowerCase()))||((Te=de.full_name)==null?void 0:Te.toLowerCase().includes(c.toLowerCase()))});return rn?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Gerenciar Lojas e Usurios"}),s.jsx("p",{className:"text-muted-foreground",children:"Cadastre e gerencie lojas e usurios do sistema"})]}),s.jsxs(ve,{className:"shadow-soft",children:[s.jsxs(je,{className:"flex flex-row items-center justify-between space-y-0",children:[s.jsxs("div",{children:[s.jsxs(Se,{className:"flex items-center gap-2",children:[s.jsx(Su,{className:"h-5 w-5"}),"Lojas Cadastradas"]}),s.jsx(Jt,{children:"Gerencie as lojas do sistema"})]}),s.jsxs("form",{onSubmit:yr,className:"flex gap-2",children:[s.jsx(ne,{placeholder:"Nome da nova loja",value:r,onChange:de=>n(de.target.value),required:!0,className:"w-48"}),s.jsxs(B,{type:"submit",size:"sm",children:[s.jsx(xr,{className:"h-4 w-4 mr-2"}),"Adicionar Loja"]})]})]}),s.jsxs(ye,{children:[s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(Xl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ne,{placeholder:"Buscar loja por nome...",value:o,onChange:de=>l(de.target.value),className:"pl-10"})]})}),s.jsxs(Ga,{children:[s.jsx(Ka,{children:s.jsxs(ur,{children:[s.jsx(yt,{children:"Nome"}),s.jsx(yt,{children:"Slug"}),s.jsx(yt,{children:"Status"}),s.jsx(yt,{className:"text-right",children:"Aes"})]})}),s.jsx(Ya,{children:Bt.length===0?s.jsx(ur,{children:s.jsx(rt,{colSpan:4,className:"text-center text-muted-foreground py-8",children:"Nenhuma loja encontrada."})}):Bt.map(de=>s.jsxs(ur,{children:[s.jsx(rt,{className:"font-medium",children:de.display_name||de.name}),s.jsx(rt,{children:de.slug||"N/A"}),s.jsx(rt,{children:s.jsx(kn,{variant:de.is_active?"default":"secondary",children:de.is_active?"Ativa":"Inativa"})}),s.jsx(rt,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(B,{variant:"outline",size:"icon",onClick:()=>nn(de),children:s.jsx(Tn,{className:"h-4 w-4"})}),s.jsxs(St,{open:d&&h===de.id,onOpenChange:De=>{f(De),De&&p(de.id)},children:[s.jsx(Ki,{asChild:!0,children:s.jsx(B,{variant:"outline",size:"icon",children:s.jsx($K,{className:"h-4 w-4"})})}),s.jsxs(xt,{children:[s.jsx(bt,{children:s.jsxs(wt,{children:["Vincular Usurio  Loja: ",de.display_name||de.name]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Usurio"}),s.jsxs(ir,{value:y,onValueChange:m,children:[s.jsx(er,{children:s.jsx(sr,{placeholder:"Selecione um usurio"})}),s.jsx(tr,{children:a.filter(De=>De.approved&&!De.store_id).map(De=>s.jsxs($e,{value:De.id,children:[De.full_name," (",De.email,")"]},De.id))})]}),a.filter(De=>De.approved&&!De.store_id).length===0&&s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Todos os usurios aprovados j esto vinculados a lojas"})]}),s.jsx(B,{onClick:Ye,className:"w-full",children:"Vincular"})]})]})]}),s.jsx(B,{variant:"destructive",size:"icon",onClick:()=>or(de.id),children:s.jsx(qr,{className:"h-4 w-4"})})]})})]},de.id))})]})]})]}),s.jsxs(ve,{className:"shadow-soft",children:[s.jsxs(je,{className:"flex flex-row items-center justify-between space-y-0",children:[s.jsxs("div",{children:[s.jsxs(Se,{className:"flex items-center gap-2",children:[s.jsx(H_,{className:"h-5 w-5"}),"Usurios Cadastrados"]}),s.jsx(Jt,{children:"Gerencie os usurios do sistema"})]}),s.jsxs(St,{open:v,onOpenChange:x,children:[s.jsx(Ki,{asChild:!0,children:s.jsxs(B,{size:"sm",children:[s.jsx(xr,{className:"h-4 w-4 mr-2"}),"Novo Usurio"]})}),s.jsxs(xt,{children:[s.jsx(bt,{children:s.jsx(wt,{children:"Cadastrar Novo Usurio"})}),s.jsxs("form",{onSubmit:Rr,className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"newUserName",children:"Nome Completo"}),s.jsx(ne,{id:"newUserName",value:b,onChange:de=>w(de.target.value),placeholder:"Nome do usurio",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"newUserEmail",children:"Email"}),s.jsx(ne,{id:"newUserEmail",type:"email",value:j,onChange:de=>S(de.target.value),placeholder:"email@exemplo.com",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"newUserPassword",children:"Senha"}),s.jsx(ne,{id:"newUserPassword",type:"password",value:_,onChange:de=>N(de.target.value),placeholder:"Senha",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"newUserStore",children:"Loja (opcional)"}),s.jsxs(ir,{value:C,onValueChange:E,children:[s.jsx(er,{children:s.jsx(sr,{placeholder:"Selecione uma loja"})}),s.jsxs(tr,{children:[s.jsx($e,{value:"none",children:"Nenhuma loja"}),e.map(de=>s.jsx($e,{value:de.id,children:de.name},de.id))]})]})]}),s.jsxs(Lr,{children:[s.jsx(B,{type:"button",variant:"outline",onClick:()=>x(!1),children:"Cancelar"}),s.jsx(B,{type:"submit",children:"Criar Usurio"})]})]})]})]})]}),s.jsxs(ye,{children:[s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(Xl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ne,{placeholder:"Buscar usurio por nome ou email...",value:c,onChange:de=>u(de.target.value),className:"pl-10"})]})}),s.jsxs(Ga,{children:[s.jsx(Ka,{children:s.jsxs(ur,{children:[s.jsx(yt,{children:"Nome"}),s.jsx(yt,{children:"Email"}),s.jsx(yt,{children:"Loja"}),s.jsx(yt,{children:"Status"}),s.jsx(yt,{className:"text-right",children:"Aes"})]})}),s.jsx(Ya,{children:fr.length===0?s.jsx(ur,{children:s.jsx(rt,{colSpan:5,className:"text-center text-muted-foreground py-8",children:"Nenhum usurio encontrado."})}):fr.map(de=>{var De;return s.jsxs(ur,{children:[s.jsx(rt,{className:"font-medium",children:de.full_name||"Sem nome"}),s.jsx(rt,{children:de.email}),s.jsx(rt,{children:((De=e.find(Te=>Te.id===de.store_id))==null?void 0:De.name)||"No vinculado"}),s.jsx(rt,{children:s.jsx(kn,{variant:de.approved?"default":"secondary",children:de.approved?"Aprovado":"Pendente"})}),s.jsx(rt,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(B,{variant:"outline",size:"icon",onClick:()=>Le(de),children:s.jsx(Tn,{className:"h-4 w-4"})}),s.jsx(B,{variant:"destructive",size:"icon",onClick:()=>rr(de.id),children:s.jsx(qr,{className:"h-4 w-4"})})]})})]},de.id)})})]})]})]}),s.jsx(St,{open:A,onOpenChange:O,children:s.jsxs(xt,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[s.jsx(bt,{children:s.jsxs(wt,{children:["Editar Loja: ",(P==null?void 0:P.display_name)||(P==null?void 0:P.name)]})}),s.jsxs("form",{onSubmit:ce,className:"space-y-4 py-4",children:[s.jsxs(ve,{className:"shadow-none border-none",children:[s.jsx(je,{className:"px-0 pt-0",children:s.jsxs(Se,{className:"text-lg flex items-center gap-2",children:[s.jsx(Su,{className:"h-5 w-5"}),"Informaes Bsicas"]})}),s.jsxs(ye,{className:"px-0 space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"editStoreDisplayName",children:"Nome de Exibio"}),s.jsx(ne,{id:"editStoreDisplayName",value:I,onChange:de=>M(de.target.value),placeholder:"Nome que aparecer para os clientes",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"editStoreSlug",children:"Slug (URL Personalizada)"}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsxs("span",{className:"text-sm text-muted-foreground whitespace-nowrap",children:[window.location.origin,"/loja/"]}),s.jsx(ne,{id:"editStoreSlug",value:L,onChange:de=>$(de.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"")),placeholder:"nome-da-loja"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Use apenas letras minsculas, nmeros e hfens."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"editStoreAddress",children:"Endereo"}),s.jsx(ne,{id:"editStoreAddress",value:D,onChange:de=>T(de.target.value),placeholder:"Rua Exemplo, 123"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"editStorePhone",children:"Telefone"}),s.jsx(ne,{id:"editStorePhone",type:"tel",value:H,onChange:de=>re(de.target.value.replace(/\D/g,"")),placeholder:"(XX) XXXXX-XXXX"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"editStoreCnpj",children:"CNPJ"}),s.jsx(ne,{id:"editStoreCnpj",value:J,onChange:de=>le(de.target.value.replace(/\D/g,"")),placeholder:"XX.XXX.XXX/XXXX-XX"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"editStoreImageUrl",children:"URL da Logo"}),s.jsx(ne,{id:"editStoreImageUrl",type:"url",value:te,onChange:de=>Z(de.target.value),placeholder:"https://exemplo.com/logo.png"})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-accent rounded-lg",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(V,{htmlFor:"editStoreIsActive",children:"Loja Ativa"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Controla se a loja est aberta para novos pedidos."})]}),s.jsx(cr,{id:"editStoreIsActive",checked:q,onCheckedChange:U})]})]})]}),s.jsxs(ve,{className:"shadow-none border-none",children:[s.jsx(je,{className:"px-0 pt-0",children:s.jsxs(Se,{className:"text-lg flex items-center gap-2",children:[s.jsx(o3,{className:"h-5 w-5"}),"Configuraes de Entrega"]})}),s.jsx(ye,{className:"px-0 space-y-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"editStoreMotoboyWhatsappNumber",children:"WhatsApp do Motoboy"}),s.jsx(ne,{id:"editStoreMotoboyWhatsappNumber",type:"tel",value:we,onChange:de=>oe(de.target.value.replace(/\D/g,"")),placeholder:"+55 68 8426-4931"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Nmero de WhatsApp para envio de detalhes de entrega. Apenas nmeros."})]})})]}),s.jsxs(ve,{className:"shadow-none border-none",children:[s.jsx(je,{className:"px-0 pt-0",children:s.jsxs(Se,{className:"text-lg flex items-center gap-2",children:[s.jsx(a3,{className:"h-5 w-5"}),"Configuraes do Monitor"]})}),s.jsxs(ye,{className:"px-0 space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"editMonitorSlideshowDelay",children:"Tempo de Durao do Slide (segundos)"}),s.jsx(ne,{id:"editMonitorSlideshowDelay",type:"number",min:"1",value:ae,onChange:de=>z(de.target.value)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Tempo que cada banner ficar visvel antes de mudar para o prximo."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"editMonitorIdleTimeoutSeconds",children:"Tempo de Inatividade para Slideshow (segundos)"}),s.jsx(ne,{id:"editMonitorIdleTimeoutSeconds",type:"number",min:"0",value:W,onChange:de=>ge(de.target.value)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Tempo sem novos pedidos para o monitor comear a exibir o slideshow. Defina como 0 para sempre exibir pedidos."})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-accent rounded-lg",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(V,{htmlFor:"editMonitorFullscreenSlideshow",children:"Slideshow em Tela Cheia"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Quando o slideshow estiver ativo, ele ocupar a tela inteira."})]}),s.jsx(cr,{id:"editMonitorFullscreenSlideshow",checked:me,onCheckedChange:be})]})]})]}),s.jsxs(Lr,{children:[s.jsx(B,{type:"button",variant:"outline",onClick:()=>O(!1),children:"Cancelar"}),s.jsx(B,{type:"submit",children:"Salvar Alteraes"})]})]})]})}),s.jsx(St,{open:X,onOpenChange:ee,children:s.jsxs(xt,{children:[s.jsx(bt,{children:s.jsxs(wt,{children:["Editar Usurio: ",(xe==null?void 0:xe.full_name)||(xe==null?void 0:xe.email)]})}),s.jsxs("form",{onSubmit:Je,className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"editUserName",children:"Nome Completo"}),s.jsx(ne,{id:"editUserName",value:Ae,onChange:de=>Ce(de.target.value),placeholder:"Nome do usurio",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"editUserEmail",children:"Email"}),s.jsx(ne,{id:"editUserEmail",type:"email",value:Ct,readOnly:!0,className:"bg-muted"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"O email no pode ser alterado por aqui."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"editUserStoreId",children:"Loja Vinculada"}),s.jsxs(ir,{value:Ft||"none",onValueChange:_r,children:[s.jsx(er,{children:s.jsx(sr,{placeholder:"Selecione uma loja"})}),s.jsxs(tr,{children:[s.jsx($e,{value:"none",children:"Nenhuma loja"}),e.map(de=>s.jsx($e,{value:de.id,children:de.name},de.id))]})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-accent rounded-lg",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(V,{htmlFor:"editUserApproved",children:"Usurio Aprovado"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Controla se o usurio tem acesso ao sistema."})]}),s.jsx(cr,{id:"editUserApproved",checked:Me,onCheckedChange:jr})]}),s.jsxs(Lr,{children:[s.jsx(B,{type:"button",variant:"outline",onClick:()=>ee(!1),children:"Cancelar"}),s.jsx(B,{type:"submit",children:"Salvar Alteraes"})]})]})]})})]}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx(ve,{children:s.jsx(ye,{className:"pt-6",children:s.jsx("p",{className:"text-muted-foreground",children:"Voc no tem permisso para acessar esta pgina."})})})})}const Wg=ke;function xce(){const[e,t]=g.useState([]),[r,n]=g.useState([]),[a,i]=g.useState(!1),[o,l]=g.useState({}),{profile:c}=Gt(),{toast:u}=dr(),d=Xi();g.useEffect(()=>{c!=null&&c.store_id&&f()},[c]);const f=async()=>{const{data:w,error:j}=await Wg.from("products").select(`
        id, 
        name, 
        stock_quantity, 
        has_variations,
        category_id,
        categories (
          id,
          name
        )
      `).eq("store_id",c.store_id).order("name");if(j){u({variant:"destructive",title:"Erro ao carregar produtos",description:j.message});return}t(w||[]);const{data:S,error:_}=await Wg.from("product_variations").select("id, name, stock_quantity, product_id").in("product_id",(w||[]).map(C=>C.id)).order("name");if(_){u({variant:"destructive",title:"Erro ao carregar variaes",description:_.message});return}n(S||[]);const N={};(w||[]).forEach(C=>{C.has_variations||(N[C.id]=C.stock_quantity.toString())}),(S||[]).forEach(C=>{N[C.id]=C.stock_quantity.toString()}),l(N)},h=async(w,j,S)=>{let _=0,N="";if(S){const A=r.find(O=>O.id===w);if(!A)return;_=A.stock_quantity,N="product_variations"}else{const A=e.find(O=>O.id===w);if(!A)return;_=A.stock_quantity,N="products"}const C=Math.max(0,_+j),{error:E}=await Wg.from(N).update({stock_quantity:C}).eq("id",w);E?u({variant:"destructive",title:"Erro ao atualizar estoque",description:E.message}):f()},p=(w,j)=>{l(S=>({...S,[w]:j}))},y=async()=>{if(!(c!=null&&c.store_id))return;const w=Object.entries(o).filter(([,j])=>j!=="").map(async([j,S])=>{const _=parseInt(S,10);if(isNaN(_)||_<0)throw new Error(`Quantidade invlida para o item com ID ${j}`);const C=r.some(E=>E.id===j)?"product_variations":"products";return Wg.from(C).update({stock_quantity:_}).eq("id",j)});try{await Promise.all(w),u({title:"Estoque atualizado!",description:"Todos os estoques foram salvos com sucesso."}),i(!1),f()}catch(j){u({variant:"destructive",title:"Erro ao salvar estoque",description:j.message||"Ocorreu um erro ao salvar os estoques."})}},m=e.filter(w=>!w.has_variations),v=e.filter(w=>w.has_variations),x=e.reduce((w,j)=>{var _;const S=((_=j.categories)==null?void 0:_.name)||"Sem Categoria";return w[S]||(w[S]=[]),w[S].push(j),w},{}),b=Object.keys(x).sort((w,j)=>w==="Sem Categoria"?1:j==="Sem Categoria"?-1:w.localeCompare(j));return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Estoque"}),s.jsx("p",{className:"text-muted-foreground",children:"Gerencie o estoque dos produtos e suas variaes"})]}),e.length===0?s.jsxs(B,{onClick:()=>d("/produtos"),children:[s.jsx(e2,{className:"h-4 w-4 mr-2"}),"Cadastrar Produto"]}):s.jsxs(St,{open:a,onOpenChange:i,children:[s.jsx(Ki,{asChild:!0,children:s.jsxs(B,{children:[s.jsx(e2,{className:"h-4 w-4 mr-2"}),"Adicionar Estoque"]})}),s.jsxs(xt,{className:"sm:max-w-[425px]",children:[s.jsx(bt,{children:s.jsx(wt,{children:"Adicionar Estoque Manualmente"})}),s.jsxs("div",{className:"grid gap-4 py-4 max-h-[70vh] overflow-y-auto",children:[m.map(w=>s.jsxs("div",{className:"grid grid-cols-3 items-center gap-4",children:[s.jsx(V,{htmlFor:`stock-${w.id}`,className:"col-span-2",children:w.name}),s.jsx(ne,{id:`stock-${w.id}`,type:"number",min:"0",value:o[w.id]||"",onChange:j=>p(w.id,j.target.value),className:"col-span-1"})]},w.id)),v.map(w=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h4",{className:"font-semibold mt-4",children:[w.name," (Variaes)"]}),r.filter(j=>j.product_id===w.id).map(j=>s.jsxs("div",{className:"grid grid-cols-3 items-center gap-4 pl-4",children:[s.jsxs(V,{htmlFor:`stock-${j.id}`,className:"col-span-2 text-sm",children:["- ",j.name]}),s.jsx(ne,{id:`stock-${j.id}`,type:"number",min:"0",value:o[j.id]||"",onChange:S=>p(j.id,S.target.value),className:"col-span-1"})]},j.id))]},w.id))]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(B,{onClick:y,children:"Salvar Estoque"})})]})]})]}),b.map(w=>{const j=x[w],S=j.filter(N=>!N.has_variations),_=j.filter(N=>N.has_variations);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"border-b pb-2",children:[s.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:w}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[j.length," ",j.length===1?"produto":"produtos"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[S.map(N=>s.jsx(ve,{className:"shadow-soft",children:s.jsx(ye,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsx(B,{variant:"outline",size:"sm",onClick:()=>h(N.id,-1,!1),disabled:N.stock_quantity===0,children:s.jsx(tm,{className:"h-4 w-4"})}),s.jsxs("div",{className:"flex-1 text-center",children:[s.jsx("p",{className:"font-medium text-sm",children:N.name}),s.jsx("p",{className:"text-2xl font-bold text-primary",children:N.stock_quantity})]}),s.jsx(B,{variant:"outline",size:"sm",onClick:()=>h(N.id,1,!1),children:s.jsx(xr,{className:"h-4 w-4"})})]})})},N.id)),_.map(N=>s.jsxs(ve,{className:"shadow-soft col-span-1 md:col-span-2 lg:col-span-2",children:[s.jsx(je,{className:"pb-2",children:s.jsxs(Se,{className:"text-lg",children:[N.name," (Variaes)"]})}),s.jsx(ye,{className:"p-4 space-y-2",children:r.filter(C=>C.product_id===N.id).map(C=>s.jsxs("div",{className:"flex items-center justify-between gap-2 border-b pb-2 last:border-b-0 last:pb-0",children:[s.jsx(B,{variant:"outline",size:"sm",onClick:()=>h(C.id,-1,!0),disabled:C.stock_quantity===0,children:s.jsx(tm,{className:"h-4 w-4"})}),s.jsxs("div",{className:"flex-1 text-center",children:[s.jsx("p",{className:"font-medium text-sm",children:C.name}),s.jsx("p",{className:"text-xl font-bold text-primary",children:C.stock_quantity})]}),s.jsx(B,{variant:"outline",size:"sm",onClick:()=>h(C.id,1,!0),children:s.jsx(xr,{className:"h-4 w-4"})})]},C.id))})]},N.id))]})]},w)})]})}const id=ke,aS=["Domingo","Segunda-feira","Tera-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sbado"],bce=()=>{const e=[];for(let t=0;t<24;t++)for(let r=0;r<60;r+=30)e.push(`${String(t).padStart(2,"0")}:${String(r).padStart(2,"0")}`);return e},Vg=bce(),sd=e=>e?e.length===8&&e.split(":").length===3?e.substring(0,5):e:null,iS=(e,t)=>{if(!e||!t)return!0;const[r,n]=e.split(":").map(Number),[a,i]=t.split(":").map(Number),o=r*60+n;return a*60+i>o};function wce(){const{profile:e}=Gt(),{toast:t}=dr(),[r,n]=g.useState([]),[a,i]=g.useState([]),[o,l]=g.useState(!1),[c,u]=g.useState(void 0),[d,f]=g.useState(!1),[h,p]=g.useState(null),[y,m]=g.useState(null),[v,x]=g.useState(null);g.useEffect(()=>{e!=null&&e.store_id&&(b(),w())},[e]);const b=async()=>{if(!(e!=null&&e.store_id))return;const{data:A,error:O}=await id.from("store_operating_hours").select("*").eq("store_id",e.store_id).order("day_of_week");if(O){console.error("Erro ao carregar horrios de funcionamento:",O),t({variant:"destructive",title:"Erro ao carregar horrios",description:O.message});return}const P=A||[],k=aS.map((I,M)=>{const L=P.find($=>$.day_of_week===M);if(L){const $=sd(L.open_time),D=sd(L.close_time);return{...L,open_time:L.is_open&&!$?"08:00":$,close_time:L.is_open&&!D?"18:00":D}}return{id:`new-${M}`,store_id:e.store_id,day_of_week:M,is_open:!1,open_time:"08:00",close_time:"18:00"}});n(k)},w=async()=>{if(!(e!=null&&e.store_id))return;const{data:A,error:O}=await id.from("store_special_days").select("*").eq("store_id",e.store_id).order("date");if(O){console.error("Erro ao carregar dias especiais:",O),t({variant:"destructive",title:"Erro ao carregar dias especiais",description:O.message});return}i(A||[])},j=(A,O,P)=>{n(k=>{const I=[...k],M={...I[A],[O]:P};return O==="is_open"&&(P===!1?(M.open_time=null,M.close_time=null):(M.open_time||(M.open_time="08:00"),M.close_time||(M.close_time="18:00"))),I[A]=M,I})},S=async()=>{if(!(e!=null&&e.store_id)){t({variant:"destructive",title:"Erro ao salvar",description:"Seu perfil no est vinculado a uma loja. Por favor, entre em contato com o administrador."});return}for(const P of r)if(P.is_open){const k=P.open_time||"08:00",I=P.close_time||"18:00";if(!iS(k,I)){t({variant:"destructive",title:"Horrio invlido",description:`${aS[P.day_of_week]}: O horrio de fechamento (${I}) deve ser posterior ao horrio de abertura (${k}).`});return}}const A=r.map(P=>{const k={store_id:e.store_id,day_of_week:P.day_of_week,is_open:P.is_open,open_time:P.is_open?P.open_time||"08:00":null,close_time:P.is_open?P.close_time||"18:00":null};return P.id&&!P.id.startsWith("new-")?{...k,id:P.id}:k}),{error:O}=await id.from("store_operating_hours").upsert(A,{onConflict:"store_id,day_of_week"});O?t({variant:"destructive",title:"Erro ao salvar horrios de funcionamento",description:O.message}):(t({title:"Horrios de funcionamento salvos!",description:"As alteraes foram aplicadas com sucesso"}),b())},_=()=>{x(null),u(void 0),f(!0),p("08:00"),m("18:00"),l(!0)},N=A=>{x(A),u(Er(A.date)),f(A.is_open),p(sd(A.open_time)),m(sd(A.close_time)),l(!0)},C=async()=>{if(!(e!=null&&e.store_id)||!c){t({variant:"destructive",title:"Erro",description:"Selecione uma data vlida."});return}if(d){const P=h||"08:00",k=y||"18:00";if(!iS(P,k)){t({variant:"destructive",title:"Horrio invlido",description:`O horrio de fechamento (${k}) deve ser posterior ao horrio de abertura (${P}).`});return}}const A=Be(c,"yyyy-MM-dd"),O={store_id:e.store_id,date:A,is_open:d,open_time:d?h:null,close_time:d?y:null};if(v){const{error:P}=await id.from("store_special_days").update(O).eq("id",v.id);P?t({variant:"destructive",title:"Erro ao atualizar dia especial",description:P.message}):(t({title:"Dia especial atualizado!"}),l(!1),w())}else{const{error:P}=await id.from("store_special_days").insert(O);P?t({variant:"destructive",title:"Erro ao adicionar dia especial",description:P.message}):(t({title:"Dia especial adicionado!"}),l(!1),w())}},E=async A=>{if(!confirm("Tem certeza que deseja excluir este dia especial?"))return;const{error:O}=await id.from("store_special_days").delete().eq("id",A);O?t({variant:"destructive",title:"Erro ao excluir dia especial",description:O.message}):(t({title:"Dia especial excludo!"}),w())};return s.jsxs(ve,{className:"shadow-soft",children:[s.jsxs(je,{children:[s.jsxs(Se,{className:"flex items-center gap-2",children:[s.jsx(Qs,{className:"h-5 w-5"}),"Horrio de Funcionamento"]}),s.jsx(Jt,{children:"Defina os horrios de abertura e fechamento da loja por dia da semana."})]}),s.jsxs(ye,{className:"space-y-4",children:[r.map((A,O)=>{const P=A.is_open&&A.open_time&&A.close_time&&!iS(A.open_time,A.close_time);return s.jsxs("div",{className:Ee("flex items-center justify-between gap-4 p-3 rounded-lg",P?"bg-red-50 dark:bg-red-950":"bg-accent"),children:[s.jsx(V,{htmlFor:`day-${A.day_of_week}`,className:"flex-1 font-medium",children:aS[A.day_of_week]}),s.jsx(cr,{id:`day-${A.day_of_week}`,checked:A.is_open,onCheckedChange:k=>j(O,"is_open",k)}),A.is_open&&s.jsxs(s.Fragment,{children:[s.jsxs(ir,{value:A.open_time||"",onValueChange:k=>j(O,"open_time",k),children:[s.jsx(er,{className:Ee("w-[100px]",P&&"border-red-500"),children:s.jsx(sr,{placeholder:"Abre"})}),s.jsx(tr,{children:Vg.map(k=>s.jsx($e,{value:k,children:k},k))})]}),s.jsxs(ir,{value:A.close_time||"",onValueChange:k=>j(O,"close_time",k),children:[s.jsx(er,{className:Ee("w-[100px]",P&&"border-red-500"),children:s.jsx(sr,{placeholder:"Fecha"})}),s.jsx(tr,{children:Vg.map(k=>s.jsx($e,{value:k,children:k},k))})]}),P&&s.jsx("span",{className:"text-xs text-red-600 dark:text-red-400",children:""})]})]},A.day_of_week)}),s.jsx(B,{onClick:S,className:"w-full shadow-soft",children:"Salvar Horrios Semanais"}),s.jsx(So,{className:"my-6"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(Po,{className:"h-5 w-5"}),"Dias Especiais"]}),s.jsxs(B,{size:"sm",onClick:_,children:[s.jsx(xr,{className:"h-4 w-4 mr-2"}),"Adicionar Dia"]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Defina horrios especficos para feriados ou eventos."}),s.jsx("div",{className:"space-y-3",children:a.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-4",children:"Nenhum dia especial configurado."}):a.map(A=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-accent rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:Be(Er(A.date),"dd/MM/yyyy",{locale:Tt})}),s.jsx("p",{className:"text-sm text-muted-foreground",children:A.is_open?`Aberto das ${sd(A.open_time)} s ${sd(A.close_time)}`:"Fechado"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(B,{variant:"ghost",size:"sm",onClick:()=>N(A),children:s.jsx(Tn,{className:"h-4 w-4"})}),s.jsx(B,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-destructive",onClick:()=>E(A.id),children:s.jsx(qr,{className:"h-4 w-4"})})]})]},A.id))})]}),s.jsx(St,{open:o,onOpenChange:A=>{l(A),A||(x(null),u(void 0),f(!1),p(null),m(null))},children:s.jsxs(xt,{children:[s.jsx(bt,{children:s.jsx(wt,{children:v?"Editar Dia Especial":"Adicionar Dia Especial"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"specialDate",children:"Data"}),s.jsxs(tc,{children:[s.jsx(rc,{asChild:!0,children:s.jsxs(B,{variant:"outline",className:Ee("w-full justify-start text-left font-normal",!c&&"text-muted-foreground"),children:[s.jsx(Po,{className:"mr-2 h-4 w-4"}),c?Be(c,"dd/MM/yyyy",{locale:Tt}):"Selecione a data"]})}),s.jsx(Uo,{className:"w-auto p-0",align:"start",children:s.jsx(qo,{mode:"single",selected:c,onSelect:u,initialFocus:!0,locale:Tt})})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(cr,{id:"specialDayIsOpen",checked:d,onCheckedChange:f}),s.jsx(V,{htmlFor:"specialDayIsOpen",children:"Loja Aberta neste dia?"})]}),d&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"specialOpenTime",children:"Abre s"}),s.jsxs(ir,{value:h||"",onValueChange:p,children:[s.jsx(er,{children:s.jsx(sr,{placeholder:"Horrio de Abertura"})}),s.jsx(tr,{children:Vg.map(A=>s.jsx($e,{value:A,children:A},A))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"specialCloseTime",children:"Fecha s"}),s.jsxs(ir,{value:y||"",onValueChange:m,children:[s.jsx(er,{children:s.jsx(sr,{placeholder:"Horrio de Fechamento"})}),s.jsx(tr,{children:Vg.map(A=>s.jsx($e,{value:A,children:A},A))})]})]})]})]}),s.jsxs(Lr,{children:[s.jsx(B,{variant:"outline",onClick:()=>l(!1),children:"Cancelar"}),s.jsx(B,{onClick:C,children:v?"Salvar Alteraes":"Adicionar Dia"})]})]})})]})}const zT=ke;function jce(){const[e,t]=g.useState(null),[r,n]=g.useState(""),[a,i]=g.useState(""),[o,l]=g.useState(!0),[c,u]=g.useState(""),[d,f]=g.useState(!1),[h,p]=g.useState("0"),[y,m]=g.useState(!1),[v,x]=g.useState(""),[b,w]=g.useState(!0),[j,S]=g.useState(!1),{profile:_,isAdmin:N}=Gt(),{toast:C}=dr();g.useEffect(()=>{_!=null&&_.store_id?E():w(!1)},[_]);const E=async()=>{if(!(_!=null&&_.store_id))return;const{data:P,error:k}=await zT.from("stores").select("*").eq("id",_.store_id).maybeSingle();if(k){console.error("Erro ao carregar dados da loja:",k),C({variant:"destructive",title:"Erro ao carregar dados da loja",description:k.message}),w(!1);return}P&&(t(P),n(P.display_name||P.name),i(P.slug||""),l(P.is_active??!0),u(P.image_url||""),f(P.ifood_stock_alert_enabled??!1),p((P.ifood_stock_alert_threshold??0).toString()),m(P.whatsapp_ai_enabled??!1),x(P.whatsapp_ai_api_key||"")),w(!1)},A=async()=>{if(!e)return;if(a&&!/^[a-z0-9-]+$/.test(a)){C({variant:"destructive",title:"URL invlida",description:"Use apenas letras minsculas, nmeros e hfens"});return}const k={display_name:r,slug:a||null,is_active:o,image_url:c||null,ifood_stock_alert_enabled:d,ifood_stock_alert_threshold:parseInt(h)};"whatsapp_ai_enabled"in e&&(k.whatsapp_ai_enabled=y,k.whatsapp_ai_api_key=v||null);const{error:I}=await zT.from("stores").update(k).eq("id",e.id);if(I){console.error("Erro ao salvar dados da loja:",I),C({variant:"destructive",title:"Erro ao salvar",description:I.message});return}C({title:"Configuraes salvas!",description:"As alteraes foram aplicadas com sucesso"}),E()},O=()=>{const P=window.location.origin;return a?`${P}/loja/${a}`:`${P}/loja`};return b?s.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:s.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})}):N?s.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:s.jsx(ve,{children:s.jsx(ye,{className:"pt-6",children:s.jsx("p",{className:"text-muted-foreground",children:'Esta pgina  para usurios de loja. Acesse "Lojas" para gerenciar as lojas do sistema.'})})})}):e?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Minha Loja"}),s.jsx("p",{className:"text-muted-foreground",children:"Configure sua loja online"})]}),s.jsxs(St,{open:j,onOpenChange:S,children:[s.jsx(Ki,{asChild:!0,children:s.jsxs(B,{variant:"outline",className:"shadow-soft",children:[s.jsx(qu,{className:"h-4 w-4 mr-2"}),"Configuraes"]})}),s.jsxs(xt,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[s.jsx(bt,{children:s.jsx(wt,{children:"Configuraes da Loja"})}),s.jsx("div",{className:"space-y-6 py-4",children:s.jsx(wce,{})})]})]})]}),s.jsxs("div",{className:"grid gap-6 max-w-2xl",children:[s.jsxs(ve,{className:"shadow-soft",children:[s.jsxs(je,{children:[s.jsxs(Se,{className:"flex items-center gap-2",children:[s.jsx(Su,{className:"h-5 w-5"}),"Informaes da Loja"]}),s.jsx(Jt,{children:"Personalize o nome e a aparncia da sua loja"})]}),s.jsxs(ye,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"displayName",children:"Nome da Loja"}),s.jsx(ne,{id:"displayName",placeholder:"Ex: Frango Assado do Joo",value:r,onChange:P=>n(P.target.value)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Este nome ser exibido para seus clientes"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"imageUrl",children:"URL da Logo (opcional)"}),s.jsx(ne,{id:"imageUrl",type:"url",placeholder:"https://exemplo.com/logo.png",value:c,onChange:P=>u(P.target.value)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Cole a URL da imagem da sua logo"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"slug",children:"URL Personalizada"}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsxs("span",{className:"text-sm text-muted-foreground whitespace-nowrap",children:[window.location.origin,"/loja/"]}),s.jsx(ne,{id:"slug",placeholder:"frangoassadodojoao",value:a,onChange:P=>i(P.target.value.toLowerCase().replace(/[^a-z0-9-]/g,""))})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Use apenas letras minsculas, nmeros e hfens"})]}),a&&s.jsxs("div",{className:"p-3 bg-accent rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(MK,{className:"h-4 w-4 text-primary"}),s.jsx("p",{className:"text-sm font-medium",children:"URL da sua loja:"})]}),s.jsx("a",{href:O(),target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary hover:underline break-all",children:O()})]})]})]}),s.jsxs(ve,{className:"shadow-soft",children:[s.jsxs(je,{children:[s.jsx(Se,{children:"Status da Loja"}),s.jsx(Jt,{children:"Controle quando sua loja est disponvel para pedidos"})]}),s.jsx(ye,{children:s.jsxs("div",{className:"flex items-center justify-between p-4 bg-accent rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:o?"Loja Aberta":"Loja Fechada"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:o?"Clientes podem fazer pedidos":"Clientes no podem fazer novos pedidos"})]}),s.jsx(cr,{checked:o,onCheckedChange:l})]})})]}),s.jsxs(ve,{className:"shadow-soft",children:[s.jsxs(je,{children:[s.jsxs(Se,{className:"flex items-center gap-2",children:[s.jsx(PE,{className:"h-5 w-5"}),"Alertas de Estoque"]}),s.jsx(Jt,{children:"Configure alertas para produtos que acabaram no PDV."})]}),s.jsxs(ye,{children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-accent rounded-lg mb-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Alerta de Pausa iFood"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Exibe um alerta no PDV quando um produto zera o estoque, lembrando de pausar no iFood."})]}),s.jsx(cr,{checked:d,onCheckedChange:f})]}),d&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"ifoodStockAlertThreshold",children:"Ativar alerta quando o estoque for igual ou menor que:"}),s.jsx(ne,{id:"ifoodStockAlertThreshold",type:"number",min:"0",value:h,onChange:P=>p(P.target.value),placeholder:"0"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Defina a quantidade de estoque para o alerta do iFood ser exibido no PDV."})]})]})]}),"whatsapp_ai_enabled"in e&&s.jsxs(ve,{className:"shadow-soft border-2 border-primary/20",children:[s.jsxs(je,{children:[s.jsxs(Se,{className:"flex items-center gap-2",children:[s.jsx(UK,{className:"h-5 w-5 text-primary"}),"WhatsApp Inteligente"]}),s.jsx(Jt,{children:"Conecte um agente de IA ao WhatsApp da sua loja para responder dvidas sobre o cardpio e fazer reservas automaticamente."})]}),s.jsxs(ye,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-primary/5 rounded-lg border border-primary/20",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Ativar WhatsApp IA"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Habilite o assistente inteligente para atender seus clientes 24/7"})]}),s.jsx(cr,{checked:y,onCheckedChange:m})]}),y&&s.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/30",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"whatsappAiApiKey",children:"Chave de API"}),s.jsx(ne,{id:"whatsappAiApiKey",type:"password",placeholder:"sk-xxxxxxxxxxxxxxxxxxxxxxxx",value:v,onChange:P=>x(P.target.value)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Cole aqui a chave de API fornecida para integrar o WhatsApp com a IA."})]}),s.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-950/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[s.jsx("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-100 mb-2",children:" O que o assistente pode fazer:"}),s.jsxs("ul",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1 list-disc list-inside",children:[s.jsx("li",{children:"Responder perguntas sobre o cardpio"}),s.jsx("li",{children:"Informar preos e disponibilidade"}),s.jsx("li",{children:"Fazer reservas de mesas"}),s.jsx("li",{children:"Fornecer informaes sobre horrios de funcionamento"}),s.jsx("li",{children:"Receber pedidos e encaminhar para o PDV"})]})]}),s.jsx("div",{className:"p-3 bg-amber-50 dark:bg-amber-950/20 rounded-lg border border-amber-200 dark:border-amber-800",children:s.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-200",children:[s.jsx("strong",{children:"Em desenvolvimento:"})," Esta funcionalidade est sendo construda. Em breve voc poder conectar seu WhatsApp e comear a usar!"]})})]})]})]}),s.jsx(B,{onClick:A,className:"w-full shadow-soft",children:"Salvar Configuraes"})]})]}):s.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:s.jsx("p",{className:"text-muted-foreground",children:"Nenhuma loja encontrada"})})}var sS="rovingFocusGroup.onEntryFocus",Sce={bubbles:!1,cancelable:!0},_v="RovingFocusGroup",[U1,mU,_ce]=_E(_v),[Nce,vU]=Xa(_v,[_ce]),[Cce,Ece]=Nce(_v),gU=g.forwardRef((e,t)=>s.jsx(U1.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(U1.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Pce,{...e,ref:t})})}));gU.displayName=_v;var Pce=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=g.useRef(null),p=Yt(t,h),y=y0(i),[m,v]=Lo({prop:o,defaultProp:l??null,onChange:c,caller:_v}),[x,b]=g.useState(!1),w=An(u),j=mU(r),S=g.useRef(!1),[_,N]=g.useState(0);return g.useEffect(()=>{const C=h.current;if(C)return C.addEventListener(sS,w),()=>C.removeEventListener(sS,w)},[w]),s.jsx(Cce,{scope:r,orientation:n,dir:y,loop:a,currentTabStopId:m,onItemFocus:g.useCallback(C=>v(C),[v]),onItemShiftTab:g.useCallback(()=>b(!0),[]),onFocusableItemAdd:g.useCallback(()=>N(C=>C+1),[]),onFocusableItemRemove:g.useCallback(()=>N(C=>C-1),[]),children:s.jsx(Ze.div,{tabIndex:x||_===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:He(e.onMouseDown,()=>{S.current=!0}),onFocus:He(e.onFocus,C=>{const E=!S.current;if(C.target===C.currentTarget&&E&&!x){const A=new CustomEvent(sS,Sce);if(C.currentTarget.dispatchEvent(A),!A.defaultPrevented){const O=j().filter(L=>L.focusable),P=O.find(L=>L.active),k=O.find(L=>L.id===m),M=[P,k,...O].filter(Boolean).map(L=>L.ref.current);bU(M,d)}}S.current=!1}),onBlur:He(e.onBlur,()=>b(!1))})})}),yU="RovingFocusGroupItem",xU=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=Oo(),u=i||c,d=Ece(yU,r),f=d.currentTabStopId===u,h=mU(r),{onFocusableItemAdd:p,onFocusableItemRemove:y,currentTabStopId:m}=d;return g.useEffect(()=>{if(n)return p(),()=>y()},[n,p,y]),s.jsx(U1.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:s.jsx(Ze.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:He(e.onMouseDown,v=>{n?d.onItemFocus(u):v.preventDefault()}),onFocus:He(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:He(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const x=kce(v,d.orientation,d.dir);if(x!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let w=h().filter(j=>j.focusable).map(j=>j.ref.current);if(x==="last")w.reverse();else if(x==="prev"||x==="next"){x==="prev"&&w.reverse();const j=w.indexOf(v.currentTarget);w=d.loop?Tce(w,j+1):w.slice(j+1)}setTimeout(()=>bU(w))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:m!=null}):o})})});xU.displayName=yU;var Oce={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ace(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function kce(e,t,r){const n=Ace(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Oce[n]}function bU(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Tce(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Dce=gU,Ice=xU,A0="Tabs",[Rce]=Xa(A0,[vU]),wU=vU(),[$ce,VP]=Rce(A0),jU=g.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=y0(l),[f,h]=Lo({prop:n,onChange:a,defaultProp:i??"",caller:A0});return s.jsx($ce,{scope:r,baseId:Oo(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:s.jsx(Ze.div,{dir:d,"data-orientation":o,...u,ref:t})})});jU.displayName=A0;var SU="TabsList",_U=g.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=VP(SU,r),o=wU(r);return s.jsx(Dce,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(Ze.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});_U.displayName=SU;var NU="TabsTrigger",CU=g.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=VP(NU,r),l=wU(r),c=OU(o.baseId,n),u=AU(o.baseId,n),d=n===o.value;return s.jsx(Ice,{asChild:!0,...l,focusable:!a,active:d,children:s.jsx(Ze.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:He(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:He(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:He(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(n)})})})});CU.displayName=NU;var EU="TabsContent",PU=g.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=VP(EU,r),c=OU(l.baseId,n),u=AU(l.baseId,n),d=n===l.value,f=g.useRef(d);return g.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),s.jsx(Qa,{present:a||d,children:({present:h})=>s.jsx(Ze.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});PU.displayName=EU;function OU(e,t){return`${e}-trigger-${t}`}function AU(e,t){return`${e}-content-${t}`}var Mce=jU,kU=_U,TU=CU,DU=PU;const k0=Mce,Nv=g.forwardRef(({className:e,...t},r)=>s.jsx(kU,{ref:r,className:Ee("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Nv.displayName=kU.displayName;const ha=g.forwardRef(({className:e,...t},r)=>s.jsx(TU,{ref:r,className:Ee("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));ha.displayName=TU.displayName;const pa=g.forwardRef(({className:e,...t},r)=>s.jsx(DU,{ref:r,className:Ee("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));pa.displayName=DU.displayName;const sn=ke,Lce={pix:n0,credito:ju,debito:hf,dinheiro:hf,fidelidade:Kn},WT={pix:"PIX",credito:"Crdito",debito:"Dbito",dinheiro:"Dinheiro",fidelidade:"Fidelidade"};function VT(){var la;const{slug:e}=tP(),t=Xi(),[r,n]=g.useState(void 0),[a,i]=g.useState("Minha Loja"),[o,l]=g.useState(!0),[c,u]=g.useState(null),[d,f]=g.useState(!1),[h,p]=g.useState(""),[y,m]=g.useState(""),[v,x]=g.useState(!1),[b,w]=g.useState(null),[j,S]=g.useState([]),[_,N]=g.useState([]),[C,E]=g.useState([]),[A,O]=g.useState([]),[P,k]=g.useState([]),[I,M]=g.useState(null),[L,$]=g.useState(void 0),[D,T]=g.useState(""),[H,re]=g.useState(!1),[J,le]=g.useState(!1),[te,Z]=g.useState(""),[we,oe]=g.useState(""),[q,U]=g.useState(""),[ae,z]=g.useState(""),[W,ge]=g.useState(""),[me,be]=g.useState(""),[X,ee]=g.useState(""),[xe,he]=g.useState(!1),[Ae,Ce]=g.useState(!1),[Ct,ht]=g.useState(!1),[Ft,_r]=g.useState(null),[Me,jr]=g.useState(null),[rn,jt]=g.useState(!1),[nt,zt]=g.useState([]),[yr,or]=g.useState(null),[Ye,Rr]=g.useState({from:void 0,to:void 0}),[rr,nn]=g.useState([]),[ce,Le]=g.useState(!1),[Je,Bt]=g.useState(null),[fr,de]=g.useState(""),[De,Te]=g.useState(""),[et,tt]=g.useState(""),[hr,pr]=g.useState(""),[Wr,se]=g.useState(""),[G,ie]=g.useState(""),[Ge,lt]=g.useState(!1),[qt,Ve]=g.useState([]),[ut,Qe]=g.useState(null),[Xt,Wt]=g.useState([]),[vt,Ie]=g.useState([]),[ka,es]=g.useState(!1),[Ta,ks]=g.useState(5),[ts,so]=g.useState(""),[Ts,nr]=g.useState(""),[Or]=vc({dragFree:!0,containScroll:"trimSnaps"}),{toast:st}=dr(),{user:Gv}=Gt(),{playClick:Eh}=UP(),{getInitialStatus:Ph}=Sv(),Oh=C.reduce((F,ue)=>F+(ue.isRedeemedWithPoints?0:ue.price*ue.quantity),0),jc=C.reduce((F,ue)=>F+(ue.isRedeemedWithPoints?ue.redemption_points_cost*ue.quantity:0),0),Ah=H&&Ts?parseFloat(Ts):0,el=Oh+Ah;g.useEffect(()=>{Q()},[e]),g.useEffect(()=>{r&&(oa(),Kv())},[r]),g.useEffect(()=>{if(r&&Xt.length>0&&vt.length>=0){const F=tl();F&&$(F)}},[r,Xt,vt]),g.useEffect(()=>{v&&b&&r&&(Fe(),Et(),Fr(),Za(),Da(),ei())},[v,b,r,Ye,ut]),g.useEffect(()=>{if(r){const F=localStorage.getItem("customerStoreSession");if(F){const{customerId:ue,customerPhone:Ke,customerName:ot}=JSON.parse(F);(async()=>{const{data:_t,error:$t}=await sn.from("customers").select("*").eq("id",ue).eq("phone",Ke).eq("store_id",r).maybeSingle();_t?(w(_t),p(Ke),m(ot),x(!0),st({title:`Bem-vindo de volta, ${ot}!`,description:"Sua sesso foi restaurada."})):(localStorage.removeItem("customerStoreSession"),x(!1),w(null),p(""),m(""))})()}}},[r]);const oo=()=>{E([]),M(null),$(tl()),T(""),re(!1),le(!1),Z(""),U(""),z(""),ge(""),be(""),ee(""),he(!1),jt(!1),zt([]),or(null),Fr(),ei(),Et(),Za(),es(!1),ks(5),so("")};g.useEffect(()=>{let F;return ka&&Ta>0?F=setTimeout(()=>ks(Ta-1),1e3):ka&&Ta===0&&oo(),()=>clearTimeout(F)},[ka,Ta]);const Q=async()=>{if(!e){st({variant:"destructive",title:"Loja no especificada",description:"Por favor, acesse a loja com a URL correta (ex: /loja/minha-loja)."}),n(null),f(!0);return}const{data:F,error:ue}=await sn.from("stores").select("id, name, display_name, is_active, image_url").eq("slug",e).maybeSingle();if(ue||!F){st({variant:"destructive",title:"Loja no encontrada",description:"Esta URL de loja no existe."}),n(null),f(!0);return}n(F.id),i(F.display_name||F.name),l(F.is_active??!0),u(F.image_url||null),f(!1)},Fe=async()=>{if(!r)return;const{data:F,error:ue}=await sn.from("categories").select("id, name").eq("store_id",r).order("name");ue?st({variant:"destructive",title:"Erro ao carregar categorias",description:ue.message}):Ve(F||[])},Et=async()=>{if(!r)return;let F=sn.from("products").select("id, name, price, stock_quantity, image_url, has_variations, earns_loyalty_points, loyalty_points_value, can_be_redeemed_with_points, redemption_points_cost, category_id").eq("store_id",r).eq("active",!0).order("name");ut&&(F=F.eq("category_id",ut));const{data:ue,error:Ke}=await F;if(Ke){st({variant:"destructive",title:"Erro ao carregar produtos",description:Ke.message});return}const ot=(ue||[]).filter(pt=>pt.has_variations).map(pt=>pt.id);let Vt=[];if(ot.length>0){const{data:pt,error:qe}=await sn.from("product_variations").select("*").in("product_id",ot).order("name");if(qe){st({variant:"destructive",title:"Erro ao carregar variaes",description:qe.message});return}Vt=pt||[]}N(Vt);const _t=new Map;Vt.forEach(pt=>{const qe=_t.get(pt.product_id)||[];qe.push(pt),_t.set(pt.product_id,qe)});const $t=(ue||[]).map(pt=>{if(pt.has_variations){const qe=_t.get(pt.id)||[];if(qe.length>0){const Ue=qe.map(lr=>pt.price+lr.price_adjustment);pt.min_variation_price=Math.min(...Ue),pt.max_variation_price=Math.max(...Ue)}else pt.min_variation_price=0,pt.max_variation_price=0}return pt});S($t)},Fr=async()=>{if(!b)return;const{data:F}=await sn.from("orders").select("*").eq("customer_id",b.id).in("status",["pending","preparing","ready"]).order("created_at",{ascending:!1});F&&O(F)},Da=async()=>{if(!r)return;const{data:F,error:ue}=await sn.from("loyalty_rules").select("id, name, points_required, reward, active").eq("store_id",r).eq("active",!0).order("points_required",{ascending:!0});if(ue)st({variant:"destructive",title:"Erro ao carregar prmios",description:ue.message});else{const Ke=(F||[]).map(ot=>({id:ot.id,name:ot.name,pointsRequired:ot.points_required,reward:ot.reward,active:ot.active}));k(Ke)}},Za=async()=>{if(!(b!=null&&b.id))return;const{data:F,error:ue}=await sn.from("customer_addresses").select("*").eq("customer_id",b.id).order("name");ue?st({variant:"destructive",title:"Erro ao carregar endereos salvos",description:ue.message}):zt(F||[])},ei=async()=>{if(!b)return;let F=sn.from("orders").select(`
        id,
        created_at,
        order_number,
        status,
        total,
        delivery,
        payment_method,
        order_items (
          id,
          product_id,
          quantity,
          products (
            earns_loyalty_points,
            loyalty_points_value
          )
        )
      `).eq("customer_id",b.id).in("status",["delivered","cancelled"]).order("created_at",{ascending:!1});Ye!=null&&Ye.from&&(F=F.gte("created_at",Be(Ye.from,"yyyy-MM-dd"))),Ye!=null&&Ye.to&&(F=F.lte("created_at",Be(jn(Ye.to,1),"yyyy-MM-dd")));const{data:ue,error:Ke}=await F;if(Ke){st({variant:"destructive",title:"Erro ao carregar histrico de pedidos",description:Ke.message});return}let ot=sn.from("loyalty_transactions").select(`
        id,
        created_at,
        points,
        transaction_type,
        description,
        order_id
      `).eq("customer_id",b.id).order("created_at",{ascending:!1});Ye!=null&&Ye.from&&(ot=ot.gte("created_at",Be(Ye.from,"yyyy-MM-dd"))),Ye!=null&&Ye.to&&(ot=ot.lte("created_at",Be(jn(Ye.to,1),"yyyy-MM-dd")));const{data:Vt,error:_t}=await ot;if(_t){st({variant:"destructive",title:"Erro ao carregar histrico de pontos",description:_t.message});return}const $t=new Map;Vt.forEach(Ue=>{if(Ue.order_id){const lr=$t.get(Ue.order_id)||[];lr.push(Ue),$t.set(Ue.order_id,lr)}});const pt=[],qe=new Set;(ue||[]).forEach(Ue=>{const lr={id:Ue.id,created_at:Ue.created_at,type:"order",order_number:Ue.order_number,status:Ue.status,total:Ue.total,delivery:Ue.delivery,payment_method:Ue.payment_method},an=$t.get(Ue.id)||[];if(an.length>0)an.forEach(mr=>{mr.transaction_type==="earn"?lr.earned_points=(lr.earned_points||0)+mr.points:mr.transaction_type==="redeem"&&(lr.redeemed_points=(lr.redeemed_points||0)+mr.points),qe.add(mr.id)});else if(Ue.payment_method!=="fidelidade"&&Ue.status==="delivered"){let mr=0;Ue.order_items&&Array.isArray(Ue.order_items)&&Ue.order_items.forEach(bn=>{if(bn.products&&bn.products.earns_loyalty_points){const Ia=Math.floor(bn.quantity*(bn.products.loyalty_points_value||0));mr+=Ia}}),mr>0&&(lr.earned_points=mr)}pt.push(lr)}),(Vt||[]).forEach(Ue=>{qe.has(Ue.id)||pt.push({id:Ue.id,created_at:Ue.created_at,type:"loyalty_transaction",points_change:Ue.points,transaction_type:Ue.transaction_type,description:Ue.description,order_number:Ue.order_id?`(Pedido ${Ue.order_id.slice(-6)})`:void 0})}),pt.sort((Ue,lr)=>new Date(lr.created_at).getTime()-new Date(Ue.created_at).getTime()),nn(pt)},oa=async()=>{if(!r)return;const{data:F,error:ue}=await sn.from("store_operating_hours").select("*").eq("store_id",r).order("day_of_week");ue?console.error("Erro ao carregar horrios de funcionamento:",ue.message):Wt(F||[])},Kv=async()=>{if(!r)return;const{data:F,error:ue}=await sn.from("store_special_days").select("*").eq("store_id",r).order("date");ue?console.error("Erro ao carregar dias especiais:",ue.message):Ie(F||[])},kh=F=>{if(!r)return!1;const ue=Be(F,"yyyy-MM-dd"),Ke=wx(F),ot=vt.find(_t=>_t.date===ue);if(ot)return ot.is_open;const Vt=Xt.find(_t=>_t.day_of_week===Ke);return(Vt==null?void 0:Vt.is_open)??!1},tl=()=>{let F=_i(new Date);if(kh(F))return F;for(let ue=1;ue<=30;ue++){const Ke=jn(F,ue);if(kh(Ke))return Ke}},Hw=(F,ue)=>{if(!r)return!1;const Ke=Be(F,"yyyy-MM-dd"),ot=wx(F),Vt=vt.find(pt=>pt.date===Ke),_t=(pt,qe)=>{if(ue){const Ue=zs(Us(F,parseInt(ue.split(":")[0])),parseInt(ue.split(":")[1])),lr=zs(Us(F,parseInt(pt.split(":")[0])),parseInt(pt.split(":")[1])),an=zs(Us(F,parseInt(qe.split(":")[0])),parseInt(qe.split(":")[1]));return Zl(Ue,lr)&&ec(Ue,an)}else{if(!on(F,new Date))return!1;const Ue=new Date,lr=zs(Us(F,parseInt(pt.split(":")[0])),parseInt(pt.split(":")[1])),an=zs(Us(F,parseInt(qe.split(":")[0])),parseInt(qe.split(":")[1]));return Zl(Ue,lr)&&ec(Ue,an)}};if(Vt)return!Vt.is_open||!Vt.open_time||!Vt.close_time?!1:_t(Vt.open_time,Vt.close_time);const $t=Xt.find(pt=>pt.day_of_week===ot);return!$t||!$t.is_open||!$t.open_time||!$t.close_time?!1:_t($t.open_time,$t.close_time)},Gw=async F=>{if(F.preventDefault(),h.length<10){st({variant:"destructive",title:"Nmero invlido",description:"Digite um nmero de celular vlido"});return}if(!r){st({variant:"destructive",title:"Erro",description:"Loja no disponvel"});return}const{data:ue}=await sn.from("customers").select("*").eq("phone",h).eq("store_id",r).maybeSingle();if(ue)w(ue),x(!0),Ce(!1),localStorage.setItem("customerStoreSession",JSON.stringify({customerId:ue.id,customerPhone:ue.phone,customerName:ue.name})),st({title:`Bem-vindo, ${ue.name}!`,description:"Acesso ao cardpio liberado"});else if(Ce(!0),y){const{data:Ke,error:ot}=await sn.from("customers").insert({phone:h,name:y,points:0,store_id:r}).select().single();if(ot){st({variant:"destructive",title:"Erro ao cadastrar",description:ot.message});return}Ke&&(w(Ke),x(!0),Ce(!1),localStorage.setItem("customerStoreSession",JSON.stringify({customerId:Ke.id,customerPhone:Ke.phone,customerName:Ke.name})),st({title:"Cadastro realizado!",description:`Bem-vindo, ${y}!`}))}else st({variant:"default",title:"Novo cadastro",description:"Por favor, informe seu nome para continuar."})},Kw=F=>{F.has_variations?(_r(F),ht(!0)):Yv(F)},Yv=(F,ue)=>{Eh();const Ke=ue?F.price+ue.price_adjustment:F.price,ot=ue?ue.stock_quantity:F.stock_quantity,Vt=C.find(_t=>{var $t;return _t.id===F.id&&(($t=_t.selectedVariation)==null?void 0:$t.id)===(ue==null?void 0:ue.id)});if(Vt){if(Vt.quantity>=ot){st({variant:"destructive",title:"Estoque insuficiente",description:`Apenas ${ot} unidades disponveis para ${F.name} ${ue!=null&&ue.name?`(${ue.name})`:""}.`});return}E(C.map(_t=>{var $t;return _t.id===F.id&&(($t=_t.selectedVariation)==null?void 0:$t.id)===(ue==null?void 0:ue.id)?{..._t,quantity:_t.quantity+1}:_t}))}else{if(1>ot){st({variant:"destructive",title:"Estoque insuficiente",description:`Apenas ${ot} unidades disponveis para ${F.name} ${ue!=null&&ue.name?`(${ue.name})`:""}.`});return}E([...C,{...F,id:F.id,quantity:1,price:Ke,stock_quantity:ot,selectedVariation:ue,isRedeemedWithPoints:!1}])}st({title:"Produto adicionado!",description:`${F.name} ${ue?`(${ue.name})`:""} adicionado ao carrinho.`})},Yw=()=>{if(!Ft||!Me){st({variant:"destructive",title:"Erro",description:"Selecione uma variao vlida."});return}Yv(Ft,Me),ht(!1),_r(null),jr(null)},Xv=(F,ue,Ke)=>{var _t;const ot=C.find($t=>{var pt;return $t.id===F&&((pt=$t.selectedVariation)==null?void 0:pt.id)===ue});if(!ot)return;const Vt=ot.selectedVariation?ot.selectedVariation.stock_quantity:ot.stock_quantity;if(Ke>Vt){st({variant:"destructive",title:"Estoque insuficiente",description:`Apenas ${Vt} unidades disponveis para ${ot.name} ${(_t=ot.selectedVariation)!=null&&_t.name?`(${ot.selectedVariation.name})`:""}.`});return}E(Ke===0?C.filter($t=>{var pt;return!($t.id===F&&((pt=$t.selectedVariation)==null?void 0:pt.id)===ue)}):C.map($t=>{var pt;return $t.id===F&&((pt=$t.selectedVariation)==null?void 0:pt.id)===ue?{...$t,quantity:Ke}:$t}))},Qv=(F,ue,Ke)=>{if(!b){st({variant:"destructive",title:"Cliente no identificado",description:"Faa login para usar pontos de fidelidade."});return}E(ot=>ot.map(_t=>{var $t;if(_t.id===F&&(($t=_t.selectedVariation)==null?void 0:$t.id)===ue)if(Ke){const pt=_t.redemption_points_cost*_t.quantity;return b.points<pt?(st({variant:"destructive",title:"Pontos insuficientes",description:`Voc precisa de ${pt} pontos para resgatar ${_t.name} (${_t.quantity}x).`}),_t):{..._t,isRedeemedWithPoints:!0}}else return{..._t,isRedeemedWithPoints:!1};return _t}))},Jv=async()=>{if(!(b!=null&&b.id)||!q||!W){st({variant:"destructive",title:"Erro ao salvar endereo",description:"Preencha Rua e Bairro para salvar o endereo."});return}const{error:F}=await sn.from("customer_addresses").insert({customer_id:b.id,name:"Endereo Salvo",address:q,number:ae,neighborhood:W,reference:me,cep:xe?null:X});F?st({variant:"destructive",title:"Erro ao salvar endereo",description:F.message}):(st({title:"Endereo salvo com sucesso!"}),Za(),jt(!1))},Zv=F=>{const ue=nt.find(Ke=>Ke.id===F);ue&&(U(ue.address),z(ue.number||""),ge(ue.neighborhood),be(ue.reference||""),ee(ue.cep||""),he(!ue.cep),or(F))},K=async()=>{console.log("--- finishOrder started (CustomerStore) ---"),console.log("Current storeId:",r),console.log("Is delivery:",H),console.log("Reservation Date:",L?Be(L,"yyyy-MM-dd HH:mm:ss"):"null"),console.log("Pickup Time:",D);const F=C.reduce((Mt,Nr)=>Mt+(Nr.isRedeemedWithPoints?0:Nr.price*Nr.quantity),0),ue=C.reduce((Mt,Nr)=>Mt+(Nr.isRedeemedWithPoints?Nr.redemption_points_cost*Nr.quantity:0),0),Ke=H&&Ts?parseFloat(Ts):0,ot=F+Ke;if(C.length===0){st({variant:"destructive",title:"Carrinho vazio"});return}if(!r){st({variant:"destructive",title:"Erro",description:"Loja no disponvel"});return}if(!o){st({variant:"destructive",title:"Loja fechada",description:"A loja no est aceitando pedidos no momento"});return}if(ot>0&&!I){st({variant:"destructive",title:"Selecione forma de pagamento"});return}if(ue>0&&I==="fidelidade"){st({variant:"destructive",title:"Forma de pagamento invlida",description:"Selecione uma forma de pagamento monetria para o restante do pedido."});return}if(!L){st({variant:"destructive",title:"Data obrigatria",description:"Selecione a data de retirada/entrega"});return}if(!D){st({variant:"destructive",title:"Horrio obrigatrio",description:"Selecione o horrio de retirada/entrega"});return}if(!Hw(L,D)){st({variant:"destructive",title:"Loja fechada",description:"A loja no est aberta neste dia ou horrio."});return}if(H&&(!q||!W)){st({variant:"destructive",title:"Endereo e Bairro obrigatrios para entrega"});return}const Vt=`PED-${Date.now().toString().slice(-6)}`,_t=[];ue>0&&_t.push("Fidelidade"),ot>0&&I&&_t.push(WT[I]);let $t=_t.join(" + "),pt=null;const Ue=L&&on(L,new Date)&&!H;if(console.log("Requires open cash register:",Ue),Ue){console.log("Attempting to find open cash register for storeId:",r);const{data:Mt,error:Nr}=await sn.from("cash_register").select("id").eq("store_id",r).is("closed_at",null).maybeSingle();if(Nr){console.error("Error fetching open cash register:",Nr),st({variant:"destructive",title:"Erro ao verificar caixa",description:Nr.message});return}if(Mt)pt=Mt.id,console.log("Found open cash register:",pt);else{console.log("No open cash register found for storeId:",r),st({variant:"destructive",title:"Caixa fechado",description:"No  possvel fazer pedidos para retirada imediata com o caixa fechado. Por favor, entre em contato com a loja."});return}}console.log("Final cashRegisterIdForOrder:",pt);const lr=Ph(),{data:an,error:mr}=await sn.from("orders").insert({store_id:r,order_number:Vt,customer_id:b==null?void 0:b.id,source:"loja_online",total:ot,payment_method:$t,reservation_date:L?Be(L,"yyyy-MM-dd"):null,pickup_time:D,delivery:H,delivery_address:H?q:null,delivery_number:H?ae:null,delivery_neighborhood:H?W:null,delivery_reference:H?me:null,delivery_cep:H&&!xe?X:null,change_for:I==="dinheiro"&&J?parseFloat(te):null,cash_register_id:pt,notes:we||null,status:lr}).select().single();if(mr||!an){st({variant:"destructive",title:"Erro ao criar pedido",description:mr==null?void 0:mr.message});return}const bn=C.map(Mt=>{var Nr,Sc;return{order_id:an.id,product_id:Mt.id,product_name:Mt.name,product_price:Mt.isRedeemedWithPoints?0:Mt.price,quantity:Mt.quantity,subtotal:Mt.isRedeemedWithPoints?0:Mt.price*Mt.quantity,product_variation_id:((Nr=Mt.selectedVariation)==null?void 0:Nr.id)||null,variation_name:((Sc=Mt.selectedVariation)==null?void 0:Sc.name)||null}});await sn.from("order_items").insert(bn);const Ia=C.map(async Mt=>{if(Mt.selectedVariation){const{error:Nr}=await sn.from("product_variations").update({stock_quantity:Mt.selectedVariation.stock_quantity-Mt.quantity}).eq("id",Mt.selectedVariation.id);Nr&&console.error(`Erro ao atualizar estoque da variao ${Mt.selectedVariation.name}:`,Nr.message)}else{const{error:Nr}=await sn.from("products").update({stock_quantity:Mt.stock_quantity-Mt.quantity}).eq("id",Mt.id);Nr&&console.error(`Erro ao atualizar estoque do produto ${Mt.name}:`,Nr.message)}});await Promise.all(Ia),ue>0&&b&&(await sn.from("customers").update({points:b.points-ue}).eq("id",b.id),await sn.from("loyalty_transactions").insert({customer_id:b.id,order_id:an.id,points:-ue,transaction_type:"redeem",store_id:r,description:`Resgate de ${ue} pontos no pedido ${Vt}`}),w({...b,points:b.points-ue})),rn&&(b!=null&&b.id)&&q&&W&&await Jv(),st({title:"Pedido realizado!",description:`Pedido ${Vt} criado com sucesso`}),E([]),M(null),$(tl()),T(""),re(!1),le(!1),Z(""),U(""),z(""),ge(""),be(""),ee(""),he(!1),jt(!1),zt([]),or(null),Fr(),ei(),Et(),Za(),so(Vt),es(!0)},fe=async()=>{localStorage.removeItem("customerStoreSession"),w(null),x(!1),p(""),m(""),E([]),O([]),nn([]),k([]),M(null),$(tl()),T(""),re(!1),le(!1),Z(""),U(""),z(""),ge(""),be(""),ee(""),he(!1),jt(!1),zt([]),or(null),st({title:"Deslogado com sucesso!",description:"Voc pode fazer login novamente ou usar outro nmero."}),t(`/loja/${e||""}`)},ct=F=>({pending:"Pendente",preparing:"Em Preparo",ready:"Pronto",delivered:"Entregue",cancelled:"Cancelado"})[F]||F,Pt=F=>F==="ready"?"destructive":F==="preparing"?"default":"secondary";C.reduce((F,ue)=>F+ue.price*ue.quantity,0);const Qt=[];for(let F=10;F<=14;F++)for(let ue=0;ue<60;ue+=30){if(F===10&&ue===0)continue;if(F===14&&ue>0)break;const Ke=`${String(F).padStart(2,"0")}:${String(ue).padStart(2,"0")}`;Qt.push(Ke)}const Kt=F=>{Bt(F),de(F.name),Te(F.address),tt(F.number||""),pr(F.neighborhood),se(F.reference||""),ie(F.cep||""),lt(!F.cep),Le(!0)},At=async F=>{if(F.preventDefault(),!Je||!(b!=null&&b.id))return;if(!fr||!De||!hr){st({variant:"destructive",title:"Campos obrigatrios",description:"Nome, Rua e Bairro so obrigatrios."});return}const ue={name:fr,address:De,number:et||null,neighborhood:hr,reference:Wr||null,cep:Ge?null:G||null},{error:Ke}=await sn.from("customer_addresses").update(ue).eq("id",Je.id);Ke?st({variant:"destructive",title:"Erro ao atualizar endereo",description:Ke.message}):(st({title:"Endereo atualizado!"}),Le(!1),Za())},Rt=async F=>{if(!confirm("Tem certeza que deseja excluir este endereo?"))return;const{error:ue}=await sn.from("customer_addresses").delete().eq("id",F);ue?st({variant:"destructive",title:"Erro ao excluir endereo",description:ue.message}):(st({title:"Endereo excludo!"}),Za())},Br={};j.forEach(F=>{var Ke;const ue=((Ke=qt.find(ot=>ot.id===F.category_id))==null?void 0:Ke.name)||"Sem Categoria";Br[ue]||(Br[ue]=[]),Br[ue].push(F)});const mn=Object.keys(Br).sort((F,ue)=>F==="Sem Categoria"?1:ue==="Sem Categoria"?-1:F.localeCompare(ue));return r===void 0?s.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",children:s.jsx("p",{className:"text-muted-foreground",children:"Carregando loja..."})}):d?s.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 bg-gradient-to-br from-primary/5 to-primary/10",children:s.jsx(ve,{className:"w-full max-w-md shadow-xl",children:s.jsxs(je,{children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(pf,{className:"h-24 w-24 text-destructive"})}),s.jsx(Se,{className:"text-2xl text-center",children:"Loja No Encontrada"}),s.jsx("p",{className:"text-center text-muted-foreground",children:"Verifique a URL. A loja deve ser acessada com o slug correto (ex: /loja/minha-loja)."})]})})}):ka?s.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-success/5 to-success/10 text-center animate-fade-in",children:s.jsxs("div",{className:"p-6",children:[" ",s.jsx(Z4,{className:"h-32 w-32 text-success mb-8 animate-bounce mx-auto"}),s.jsx("h1",{className:"text-5xl font-bold text-foreground mb-4",children:"Pedido Concludo!"}),s.jsxs("p",{className:"text-2xl text-muted-foreground mb-8",children:["Seu pedido ",s.jsxs("span",{className:"font-bold text-primary",children:["#",ts]})," foi enviado. S aguardar!"]}),s.jsxs(B,{onClick:oo,className:"w-full max-w-xs text-lg py-6 shadow-soft",children:["Fazer Novo Pedido (",Ta,"s)"]})]})}):o?v?s.jsxs("div",{className:"min-h-screen sm:p-6 p-2 bg-gradient-to-br from-primary/5 to-primary/10",children:[s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsxs(ve,{className:"shadow-xl",children:[s.jsx(je,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[c&&s.jsx("div",{className:"flex justify-start mb-2",children:s.jsx("img",{src:c,alt:`${a} logo`,className:"h-16 object-contain"})}),s.jsxs(Se,{className:"text-2xl",children:["Bem-vindo, ",b==null?void 0:b.name,"!"]}),s.jsxs("p",{className:"text-muted-foreground",children:["Celular: ",h]})]}),s.jsxs("div",{className:"flex flex-col items-end gap-2",children:[b&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Kn,{className:"h-5 w-5 text-primary fill-primary"}),s.jsxs("p",{className:"text-lg font-bold text-primary",children:[((la=b.points)==null?void 0:la.toFixed(1))||0," pts"]})]}),s.jsxs(B,{variant:"outline",size:"sm",onClick:fe,children:[s.jsx(r3,{className:"h-4 w-4 mr-2"}),"Deslogar"]})]})]})}),s.jsx(ye,{children:s.jsxs(k0,{defaultValue:"order",className:"w-full",children:[s.jsxs(Nv,{className:"grid w-full grid-cols-3",children:[s.jsx(ha,{value:"order",children:"Fazer Pedido"}),s.jsx(ha,{value:"active",children:"Pedidos"}),s.jsx(ha,{value:"loyalty",children:"Fidelidade"})]}),s.jsxs(pa,{value:"order",className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Nosso Cardpio"}),s.jsx("div",{className:"embla overflow-hidden w-full",ref:Or,children:s.jsxs("div",{className:"embla__container flex gap-2 pb-2",children:[s.jsx(B,{variant:ut===null?"default":"outline",onClick:()=>Qe(null),className:"embla__slide flex-shrink-0",children:"Todas"}),qt.map(F=>s.jsx(B,{variant:ut===F.id?"default":"outline",onClick:()=>Qe(F.id),className:"embla__slide flex-shrink-0",children:F.name},F.id))]})}),mn.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Nenhum produto disponvel nesta categoria."}):mn.map(F=>s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-xl font-bold mt-6 mb-4",children:F}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Br[F].map(ue=>{var ot,Vt,_t;const Ke=ue.has_variations?_.filter($t=>$t.product_id===ue.id).every($t=>$t.stock_quantity===0):ue.stock_quantity===0;return s.jsx(ve,{children:s.jsx(ye,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[ue.image_url&&s.jsx("img",{src:ue.image_url,alt:ue.name,className:"w-16 h-16 object-cover rounded"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:ue.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:ue.has_variations?"Com variaes":`Estoque: ${ue.stock_quantity}`}),s.jsx("p",{className:"text-lg font-bold text-primary",children:ue.has_variations?ue.min_variation_price===ue.max_variation_price?`R$ ${(ot=ue.min_variation_price)==null?void 0:ot.toFixed(2)}`:`R$ ${(Vt=ue.min_variation_price)==null?void 0:Vt.toFixed(2)} - ${(_t=ue.max_variation_price)==null?void 0:_t.toFixed(2)}`:`R$ ${ue.price.toFixed(2)}`})]}),s.jsx(B,{onClick:()=>Kw(ue),size:"sm",disabled:Ke,children:s.jsx(xr,{className:"h-4 w-4"})})]})})},ue.id)})})]},F)),C.length>0&&s.jsxs(ve,{className:"mt-4",children:[s.jsx(je,{children:s.jsx(Se,{children:"Seu Carrinho"})}),s.jsxs(ye,{className:"space-y-4",children:[C.map(F=>{var ue;return s.jsxs("div",{className:"flex items-center justify-between gap-2 p-3 bg-accent rounded-lg",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("p",{className:"font-medium",children:[F.name," ",F.selectedVariation&&`(${F.selectedVariation.name})`]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:F.isRedeemedWithPoints?s.jsxs("span",{className:"text-purple-600",children:[F.redemption_points_cost.toFixed(0)," pts cada"]}):`R$ ${F.price.toFixed(2)} cada`})]}),s.jsxs("div",{className:"flex items-center gap-2 justify-end flex-col",children:[F.can_be_redeemed_with_points&&b&&s.jsxs(B,{variant:"ghost",size:"sm",className:"h-8 px-2 flex items-center gap-1",onClick:()=>{var Ke;return Qv(F.id,(Ke=F.selectedVariation)==null?void 0:Ke.id,!F.isRedeemedWithPoints)},children:[s.jsx(Kn,{className:Ee("h-4 w-4",F.isRedeemedWithPoints?"fill-primary text-primary":"text-muted-foreground")}),s.jsx("span",{className:"text-xs",children:"Fidelidade?"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(B,{variant:"outline",size:"sm",onClick:()=>{var Ke;return Xv(F.id,(Ke=F.selectedVariation)==null?void 0:Ke.id,F.quantity-1)},children:s.jsx(tm,{className:"h-3 w-3"})}),s.jsx("span",{className:"w-8 text-center",children:F.quantity}),s.jsx(B,{variant:"outline",size:"sm",onClick:()=>{var Ke;return Xv(F.id,(Ke=F.selectedVariation)==null?void 0:Ke.id,F.quantity+1)},children:s.jsx(xr,{className:"h-3 w-3"})})]})]})]},`${F.id}-${((ue=F.selectedVariation)==null?void 0:ue.id)||""}`)}),s.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[s.jsxs("div",{className:"space-y-3 border-b pb-4",children:[s.jsxs("h4",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(Fl,{className:"h-5 w-5"}),"Data e Horrio"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Data de Retirada/Entrega"}),s.jsxs(tc,{children:[s.jsx(rc,{asChild:!0,children:s.jsxs(B,{variant:"outline",className:Ee("w-full justify-start text-left font-normal",!L&&"text-muted-foreground"),children:[s.jsx(Fl,{className:"mr-2 h-4 w-4"}),L?Be(L,"dd/MM/yyyy"):"Selecione a data"]})}),s.jsx(Uo,{className:"w-auto p-0",align:"start",children:s.jsx(qo,{mode:"single",selected:L,onSelect:$,disabled:F=>F<_i(new Date)||F>jn(new Date,30)?!0:!kh(F),initialFocus:!0,locale:Tt,className:"pointer-events-auto"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"At 1 ms  frente. Apenas dias em que a loja est aberta."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(V,{htmlFor:"pickupTime",children:[s.jsx(Qs,{className:"inline h-4 w-4 mr-1"}),"Horrio de Retirada/Entrega"]}),s.jsxs(ir,{value:D,onValueChange:T,children:[s.jsx(er,{id:"pickupTime",children:s.jsx(sr,{placeholder:"Selecione o horrio"})}),s.jsx(tr,{children:Qt.map(F=>s.jsx($e,{value:F,children:F},F))})]})]})]}),s.jsxs("div",{className:"space-y-3 border-t pt-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gi,{id:"isDelivery",checked:H,onCheckedChange:F=>{re(F===!0)}}),s.jsx(V,{htmlFor:"isDelivery",children:" para entrega?"})]}),H&&s.jsxs("div",{className:"space-y-3",children:[nt.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"savedAddress",children:"Endereos Salvos"}),s.jsxs(ir,{value:yr||"",onValueChange:Zv,children:[s.jsx(er,{id:"savedAddress",children:s.jsx(sr,{placeholder:"Selecionar endereo salvo"})}),s.jsx(tr,{children:nt.map(F=>s.jsxs($e,{value:F.id,children:[F.name," - ",F.address,", ",F.number," (",F.neighborhood,")"]},F.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Rua"}),s.jsx(ne,{value:q,onChange:F=>U(F.target.value),required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Nmero"}),s.jsx(ne,{value:ae,onChange:F=>z(F.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Bairro"}),s.jsx(ne,{value:W,onChange:F=>ge(F.target.value),required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Referncia"}),s.jsx(ne,{value:me,onChange:F=>be(F.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(V,{htmlFor:"cep",children:"CEP"}),s.jsx(B,{type:"button",variant:"link",size:"sm",onClick:()=>he(!xe),children:xe?"Informar CEP":"No sei o CEP"})]}),!xe&&s.jsx(ne,{id:"cep",value:X,onChange:F=>ee(F.target.value.replace(/\D/g,"")),placeholder:"00000-000",inputMode:"numeric"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gi,{id:"saveAddress",checked:rn,onCheckedChange:F=>jt(F===!0)}),s.jsx(V,{htmlFor:"saveAddress",children:"Salvar endereo para prxima compra"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"notes",children:"Observao"}),s.jsx(zu,{id:"notes",placeholder:"Ex: menos sal, mais assado, ao ponto, entregar no porto...",value:we,onChange:F=>oe(F.target.value),className:"min-h-[80px]"})]}),el>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Forma de Pagamento"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:["pix","credito","debito","dinheiro"].map(F=>{const ue=Lce[F];return s.jsxs(B,{variant:I===F?"default":"outline",onClick:()=>M(F),className:"flex flex-col items-center justify-center gap-1 h-16 text-sm",children:[s.jsx(ue,{className:"h-5 w-5"}),WT[F]]},F)})})]}),I==="dinheiro"&&el>0&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gi,{id:"needsChange",checked:J,onCheckedChange:F=>le(F===!0)}),s.jsx(V,{htmlFor:"needsChange",children:"Precisa de troco?"})]}),J&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Troco para quanto?"}),s.jsx(ne,{type:"number",step:"0.01",placeholder:"0.00",value:te,onChange:F=>Z(F.target.value)})]})]}),jc>0&&s.jsxs("div",{className:"flex items-center justify-between text-sm text-purple-600 font-medium",children:[s.jsx("span",{children:"Pontos a Resgatar:"}),s.jsxs("span",{children:[jc," pts"]})]}),s.jsxs("div",{className:"text-lg font-bold text-right",children:[s.jsx("span",{children:el>0?"Total Monetrio:":"Total:"}),s.jsxs("span",{className:"text-primary",children:[" R$ ",el.toFixed(2)]})]}),s.jsx(B,{onClick:K,className:"w-full",children:"Finalizar Pedido"})]})]})]})]}),s.jsxs(pa,{value:"active",className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Seus Pedidos Ativos"}),A.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Nenhum pedido ativo"}):A.map(F=>s.jsx(ve,{children:s.jsx(ye,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:F.order_number}),s.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(F.created_at).toLocaleString()}),s.jsx("p",{className:"text-sm",children:F.delivery?" Entrega":" Retirada"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx(kn,{variant:Pt(F.status),children:ct(F.status)}),s.jsxs("p",{className:"text-lg font-bold text-primary mt-2",children:["R$ ",parseFloat(F.total.toString()).toFixed(2)]})]})]})})},F.id))]}),s.jsxs(pa,{value:"loyalty",className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Prmios Disponveis"}),P.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Nenhum prmio disponvel no momento."}):s.jsx("div",{className:"space-y-3",children:P.map(F=>s.jsx(ve,{children:s.jsx(ye,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(r0,{className:"h-6 w-6 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:F.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Recompensa: ",s.jsx("span",{className:"font-semibold",children:F.reward})]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Requer ",F.pointsRequired," pontos"]})]})]})})},F.id))})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Histrico de Transaes"}),s.jsxs(tc,{children:[s.jsx(rc,{asChild:!0,children:s.jsxs(B,{id:"date",variant:"outline",className:Ee("w-full justify-start text-left font-normal",!(Ye!=null&&Ye.from)&&"text-muted-foreground"),children:[s.jsx(Fl,{className:"mr-2 h-4 w-4"}),Ye!=null&&Ye.from?Ye.to?s.jsxs(s.Fragment,{children:[Be(Ye.from,"dd/MM/yyyy",{locale:Tt})," -"," ",Be(Ye.to,"dd/MM/yyyy",{locale:Tt})]}):Be(Ye.from,"dd/MM/yyyy",{locale:Tt}):s.jsx("span",{children:"Filtrar por data"})]})}),s.jsx(Uo,{className:"w-auto p-0",align:"start",children:s.jsx(qo,{initialFocus:!0,mode:"range",defaultMonth:Ye==null?void 0:Ye.from,selected:Ye,onSelect:Rr,numberOfMonths:2,locale:Tt})})]}),s.jsx("div",{className:"space-y-3 max-h-[700px] overflow-y-auto pr-2",children:rr.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Nenhuma movimentao ou pedido finalizado no perodo."}):rr.map(F=>{var ue,Ke,ot,Vt;return s.jsx(ve,{children:s.jsx(ye,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(F.created_at).toLocaleDateString("pt-BR")}),F.type==="order"?s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"text-sm font-medium mt-1 flex items-center gap-1",children:[s.jsx(Bu,{className:"h-4 w-4 text-muted-foreground"}),"Pedido: #",F.order_number]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Total: R$ ",(ue=F.total)==null?void 0:ue.toFixed(2)," | Status: ",ct(F.status||"")]}),F.earned_points!==void 0&&F.earned_points>0&&s.jsxs("div",{className:"flex items-center gap-1 mt-2 px-2 py-1 bg-green-50 dark:bg-green-950 rounded-md w-fit",children:[s.jsx(Kn,{className:"h-3 w-3 text-green-600 dark:text-green-400 fill-green-600 dark:fill-green-400"}),s.jsxs("p",{className:"text-xs font-semibold text-green-600 dark:text-green-400",children:["+",F.earned_points.toFixed(1)," pontos ganhos"]})]}),F.redeemed_points!==void 0&&F.redeemed_points<0&&s.jsxs("div",{className:"flex items-center gap-1 mt-2 px-2 py-1 bg-red-50 dark:bg-red-950 rounded-md w-fit",children:[s.jsx(Kn,{className:"h-3 w-3 text-red-600 dark:text-red-400"}),s.jsxs("p",{className:"text-xs font-semibold text-red-600 dark:text-red-400",children:["-",Math.abs(F.redeemed_points).toFixed(1)," pontos usados"]})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"text-sm font-medium mt-1 flex items-center gap-1",children:[s.jsx(Kn,{className:"h-4 w-4 text-muted-foreground"}),F.transaction_type==="earn"?"Pontos Ganhos":"Pontos Usados"]}),F.order_number&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Pedido: #",F.order_number," (R$ ",(Ke=F.total)==null?void 0:Ke.toFixed(2),")"]}),F.description&&s.jsx("p",{className:"text-xs text-muted-foreground",children:F.description})]})]}),s.jsx("div",{className:"text-right",children:F.type==="order"?s.jsxs("p",{className:"text-lg font-bold text-foreground",children:["R$ ",(ot=F.total)==null?void 0:ot.toFixed(2)]}):s.jsxs("p",{className:`text-lg font-bold ${F.points_change&&F.points_change>0?"text-green-500":"text-red-500"}`,children:[F.points_change&&F.points_change>0?"+":"",(Vt=F.points_change)==null?void 0:Vt.toFixed(1)," pts"]})})]})})},F.id)})})]})]}),s.jsxs("div",{className:"space-y-4 mt-6",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Endereos Salvos"}),nt.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Nenhum endereo salvo."}):s.jsx("div",{className:"space-y-3",children:nt.map(F=>s.jsx(ve,{children:s.jsx(ye,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[F.name.toLowerCase()==="casa"?s.jsx(kE,{className:"h-5 w-5 text-muted-foreground"}):F.name.toLowerCase()==="trabalho"?s.jsx(OE,{className:"h-5 w-5 text-muted-foreground"}):s.jsx(em,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:F.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[F.address,", ",F.number," - ",F.neighborhood]}),F.reference&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Ref: ",F.reference]}),F.cep&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["CEP: ",F.cep]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(B,{variant:"ghost",size:"sm",onClick:()=>Kt(F),children:s.jsx(Tn,{className:"h-4 w-4"})}),s.jsx(B,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-destructive",onClick:()=>Rt(F.id),children:s.jsx(qr,{className:"h-4 w-4"})})]})]})})},F.id))})]})]})]})})]})}),s.jsx(St,{open:Ct,onOpenChange:ht,children:s.jsxs(xt,{children:[s.jsx(bt,{children:s.jsx(wt,{children:"Selecione a Variao"})}),Ft&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-lg font-semibold",children:Ft.name}),s.jsxs(ir,{value:(Me==null?void 0:Me.id)||"",onValueChange:F=>jr(_.find(ue=>ue.id===F)||null),children:[s.jsx(er,{children:s.jsx(sr,{placeholder:"Escolha uma variao"})}),s.jsx(tr,{children:_.filter(F=>F.product_id===Ft.id&&F.stock_quantity>0).map(F=>s.jsxs($e,{value:F.id,children:[F.name," (R$ ",(Ft.price+F.price_adjustment).toFixed(2),") - Estoque: ",F.stock_quantity]},F.id))})]}),Me&&Me.stock_quantity===0&&s.jsx("p",{className:"text-sm text-destructive",children:"Esta variao est sem estoque."}),s.jsx(B,{onClick:Yw,className:"w-full",disabled:!Me||Me.stock_quantity===0,children:"Adicionar ao Carrinho"})]})]})}),s.jsx(St,{open:ce,onOpenChange:F=>{Le(F),F||(Bt(null),de(""),Te(""),tt(""),pr(""),se(""),ie(""),lt(!1))},children:s.jsxs(xt,{children:[s.jsx(bt,{children:s.jsx(wt,{children:"Editar Endereo Salvo"})}),s.jsxs("form",{onSubmit:At,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"editAddressName",children:"Nome do Endereo (Ex: Casa, Trabalho)"}),s.jsx(ne,{id:"editAddressName",value:fr,onChange:F=>de(F.target.value),placeholder:"Ex: Casa",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"editAddressStreet",children:"Rua"}),s.jsx(ne,{id:"editAddressStreet",value:De,onChange:F=>Te(F.target.value),placeholder:"Ex: Rua das Flores",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"editAddressNumber",children:"Nmero"}),s.jsx(ne,{id:"editAddressNumber",value:et,onChange:F=>tt(F.target.value),placeholder:"Ex: 123"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"editAddressNeighborhood",children:"Bairro"}),s.jsx(ne,{id:"editAddressNeighborhood",value:hr,onChange:F=>pr(F.target.value),placeholder:"Ex: Centro",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"editAddressReference",children:"Referncia (Opcional)"}),s.jsx(ne,{id:"editAddressReference",value:Wr,onChange:F=>se(F.target.value),placeholder:"Ex: Prximo  padaria"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(V,{htmlFor:"editAddressCep",children:"CEP"}),s.jsx(B,{type:"button",variant:"link",size:"sm",onClick:()=>lt(!Ge),children:Ge?"Informar CEP":"No sei o CEP"})]}),!Ge&&s.jsx(ne,{id:"editAddressCep",value:G,onChange:F=>ie(F.target.value.replace(/\D/g,"")),placeholder:"00000-000",inputMode:"numeric"})]}),s.jsxs(Lr,{children:[s.jsx(B,{type:"button",variant:"outline",onClick:()=>Le(!1),children:"Cancelar"}),s.jsx(B,{type:"submit",children:"Salvar Alteraes"})]})]})]})})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center p-6 bg-gradient-to-br from-primary/5 to-primary/10",children:s.jsxs(ve,{className:"w-full max-w-md shadow-xl",children:[s.jsxs(je,{children:[c&&s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("img",{src:c,alt:`${a} logo`,className:"h-24 object-contain"})}),s.jsx(Se,{className:"text-2xl text-center",children:a}),s.jsx("p",{className:"text-center text-muted-foreground",children:"Para fazer seu pedido, precisamos de um nmero para contato."})]}),s.jsx(ye,{children:s.jsxs("form",{onSubmit:Gw,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"phone",children:"Nmero de Celular"}),s.jsx(ne,{id:"phone",type:"tel",placeholder:"(11) 99999-9999",value:h,onChange:F=>{p(F.target.value.replace(/\D/g,"")),m(""),Ce(!1)},inputMode:"numeric",pattern:"[0-9]*",required:!0})]}),Ae&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"name",children:"Nome"}),s.jsx(ne,{id:"name",placeholder:"Seu nome",value:y,onChange:F=>m(F.target.value),required:!0})]}),s.jsx(B,{type:"submit",className:"w-full",children:Ae&&!y?"Cadastrar e Ver Cardpio":"Ver Cardpio"})]})})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center p-6 bg-gradient-to-br from-primary/5 to-primary/10",children:s.jsx(ve,{className:"w-full max-w-md shadow-xl",children:s.jsxs(je,{children:[c&&s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("img",{src:c,alt:`${a} logo`,className:"h-24 object-contain"})}),s.jsxs(Se,{className:"text-2xl text-center flex items-center justify-center gap-2",children:[s.jsx(pf,{className:"h-6 w-6"}),a]}),s.jsx("p",{className:"text-center text-muted-foreground",children:"Desculpe, estamos fechados no momento. Volte mais tarde!"})]})})})}function Fce(){const[e,t]=g.useState(""),[r,n]=g.useState(""),[a,i]=g.useState(""),[o,l]=g.useState(!1),{signIn:c,signUp:u,user:d}=Gt(),f=Xi(),{toast:h}=dr();g.useEffect(()=>{d&&f("/")},[d,f]);const p=async m=>{m.preventDefault();const{error:v}=await c(e,r,o);v&&h({variant:"destructive",title:"Erro ao fazer login",description:v.message})},y=async m=>{m.preventDefault();const{error:v}=await u(e,r,a);h(v?{variant:"destructive",title:"Erro ao criar conta",description:v.message}:{title:"Conta criada com sucesso!",description:"Voc j pode fazer login."})};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:s.jsxs(ve,{className:"w-full max-w-md",children:[s.jsx(je,{children:s.jsx(Se,{className:"text-2xl text-center",children:"Sistema de Gesto"})}),s.jsx(ye,{children:s.jsxs(k0,{defaultValue:"login",children:[s.jsxs(Nv,{className:"grid w-full grid-cols-2",children:[s.jsx(ha,{value:"login",children:"Login"}),s.jsx(ha,{value:"signup",children:"Cadastro"})]}),s.jsx(pa,{value:"login",children:s.jsxs("form",{onSubmit:p,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"email",children:"Email"}),s.jsx(ne,{id:"email",type:"email",value:e,onChange:m=>t(m.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"password",children:"Senha"}),s.jsx(ne,{id:"password",type:"password",value:r,onChange:m=>n(m.target.value),required:!0})]}),s.jsxs("div",{className:"flex items-center space-x-2","data-testid":"remember-me-container",children:[s.jsx(gi,{id:"rememberMe",checked:o,onCheckedChange:m=>l(m)}),s.jsx(V,{htmlFor:"rememberMe",className:"text-sm font-normal cursor-pointer",children:"Lembrar de mim"})]}),s.jsx(B,{type:"submit",className:"w-full",children:"Entrar"})]})}),s.jsx(pa,{value:"signup",children:s.jsxs("form",{onSubmit:y,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"fullName",children:"Nome completo"}),s.jsx(ne,{id:"fullName",type:"text",value:a,onChange:m=>i(m.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"signupEmail",children:"Email"}),s.jsx(ne,{id:"signupEmail",type:"email",value:e,onChange:m=>t(m.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"signupPassword",children:"Senha"}),s.jsx(ne,{id:"signupPassword",type:"password",value:r,onChange:m=>n(m.target.value),required:!0})]}),s.jsx(B,{type:"submit",className:"w-full",children:"Criar conta"})]})})]})})]})})}const Bce=()=>{const e=uc();return g.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("h1",{className:"text-6xl font-bold text-primary",children:"404"}),s.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"Pgina no encontrada"}),s.jsx("p",{className:"text-muted-foreground",children:"A pgina que voc est procurando no existe."}),s.jsx(B,{onClick:()=>window.location.href="/",className:"shadow-soft",children:"Voltar ao Dashboard"})]})})},da=ke,qce={pix:n0,credito:ju,debito:hf,dinheiro:hf},HT={pix:"PIX",credito:"Crdito",debito:"Dbito",dinheiro:"Dinheiro"};function GT(){const{slug:e}=tP(),[t,r]=g.useState(void 0),[n,a]=g.useState("Minha Loja"),[i,o]=g.useState(!0),[l,c]=g.useState(null),[u,d]=g.useState(!1),[f,h]=g.useState(""),[p,y]=g.useState(""),[m,v]=g.useState(null),[x,b]=g.useState([]),[w,j]=g.useState([]),[S,_]=g.useState([]),[N,C]=g.useState(null),[E,A]=g.useState(!1),[O,P]=g.useState(void 0),[k,I]=g.useState(""),[M,L]=g.useState(!1),[$,D]=g.useState(""),[T,H]=g.useState(""),[re,J]=g.useState(!1),[le,te]=g.useState(5),[Z,we]=g.useState(""),[oe,q]=g.useState(!1),[U,ae]=g.useState(null),[z,W]=g.useState(null),[ge,me]=g.useState(!1),[be,X]=g.useState(""),[ee,xe]=g.useState([]),[he,Ae]=g.useState(null),[Ce,Ct]=g.useState([]),[ht,Ft]=g.useState([]),[_r]=vc({dragFree:!0,containScroll:"trimSnaps"}),{toast:Me}=dr(),{playClick:jr}=UP(),{getInitialStatus:rn}=Sv(),jt=S.reduce((G,ie)=>G+(ie.isRedeemedWithPoints?0:ie.price*ie.quantity),0),nt=S.reduce((G,ie)=>G+(ie.isRedeemedWithPoints?ie.redemption_points_cost*ie.quantity:0),0),zt=jt;g.useEffect(()=>{t&&f.length>=10?(async()=>{const{data:ie}=await da.from("customers").select("id, name, phone, points").eq("phone",f).eq("store_id",t).maybeSingle();ie?(v(ie),y(ie.name)):(v(null),y(""))})():f.length<10&&(v(null),y(""))},[f,t]),g.useEffect(()=>{yr()},[e]),g.useEffect(()=>{t&&(Rr(),rr())},[t]),g.useEffect(()=>{if(t&&Ce.length>0&&ht.length>=0){const G=ce();G&&P(G)}},[t,Ce,ht]),g.useEffect(()=>{t&&(or(),Ye())},[t,he]),g.useEffect(()=>{let G;return re&&le>0?G=setTimeout(()=>te(le-1),1e3):re&&le===0&&Te(),()=>clearTimeout(G)},[re,le]);const yr=async()=>{if(!e){Me({variant:"destructive",title:"Loja no especificada",description:"Por favor, acesse o totem com a URL correta (ex: /totem/minha-loja)."}),r(null),d(!0);return}let G=da.from("stores").select("id, name, display_name, is_active, image_url");G=G.eq("slug",e);const{data:ie,error:Ge}=await G.maybeSingle();if(Ge||!ie){Me({variant:"destructive",title:"Loja no encontrada",description:e?"Esta URL de loja no existe":"Nenhuma loja disponvel"}),r(null),d(!0);return}r(ie.id),a(ie.display_name||ie.name),o(ie.is_active??!0),c(ie.image_url||null),d(!1)},or=async()=>{if(!t)return;const{data:G,error:ie}=await da.from("categories").select("id, name").eq("store_id",t).order("name");ie?Me({variant:"destructive",title:"Erro ao carregar categorias",description:ie.message}):xe(G||[])},Ye=async()=>{if(!t)return;let G=da.from("products").select("id, name, price, stock_quantity, image_url, earns_loyalty_points, loyalty_points_value, has_variations, can_be_redeemed_with_points, redemption_points_cost, category_id").eq("store_id",t).eq("active",!0).order("name");he&&(G=G.eq("category_id",he));const{data:ie,error:Ge}=await G;if(Ge){Me({variant:"destructive",title:"Erro ao carregar produtos",description:Ge.message});return}const lt=(ie||[]).filter(Qe=>Qe.has_variations).map(Qe=>Qe.id);let qt=[];if(lt.length>0){const{data:Qe,error:Xt}=await da.from("product_variations").select("*").in("product_id",lt).order("name");if(Xt){Me({variant:"destructive",title:"Erro ao carregar variaes",description:Xt.message});return}qt=Qe||[]}j(qt);const Ve=new Map;qt.forEach(Qe=>{const Xt=Ve.get(Qe.product_id)||[];Xt.push(Qe),Ve.set(Qe.product_id,Xt)});const ut=(ie||[]).map(Qe=>{if(Qe.has_variations){const Xt=Ve.get(Qe.id)||[];if(Xt.length>0){const Wt=Xt.map(vt=>Qe.price+vt.price_adjustment);Qe.min_variation_price=Math.min(...Wt),Qe.max_variation_price=Math.max(...Wt)}else Qe.min_variation_price=0,Qe.max_variation_price=0}return Qe});b(ut)},Rr=async()=>{if(!t)return;const{data:G,error:ie}=await da.from("store_operating_hours").select("*").eq("store_id",t).order("day_of_week");ie?console.error("Erro ao carregar horrios de funcionamento:",ie.message):Ct(G||[])},rr=async()=>{if(!t)return;const{data:G,error:ie}=await da.from("store_special_days").select("*").eq("store_id",t).order("date");ie?console.error("Erro ao carregar dias especiais:",ie.message):Ft(G||[])},nn=G=>{if(!t)return!1;const ie=Be(G,"yyyy-MM-dd"),Ge=wx(G),lt=ht.find(Ve=>Ve.date===ie);if(lt)return lt.is_open;const qt=Ce.find(Ve=>Ve.day_of_week===Ge);return(qt==null?void 0:qt.is_open)??!1},ce=()=>{let G=_i(new Date);if(nn(G))return G;for(let ie=1;ie<=30;ie++){const Ge=jn(G,ie);if(nn(Ge))return Ge}},Le=(G,ie)=>{if(!t)return!1;const Ge=Be(G,"yyyy-MM-dd"),lt=wx(G),qt=ht.find(Qe=>Qe.date===Ge),Ve=(Qe,Xt)=>{if(ie){const Wt=zs(Us(G,parseInt(ie.split(":")[0])),parseInt(ie.split(":")[1])),vt=zs(Us(G,parseInt(Qe.split(":")[0])),parseInt(Qe.split(":")[1])),Ie=zs(Us(G,parseInt(Xt.split(":")[0])),parseInt(Xt.split(":")[1]));return(Zl(Wt,vt)||Wt.getTime()===vt.getTime())&&(ec(Wt,Ie)||Wt.getTime()===Ie.getTime())}else{if(!on(G,new Date))return!1;const Wt=new Date,vt=zs(Us(G,parseInt(Qe.split(":")[0])),parseInt(Qe.split(":")[1])),Ie=zs(Us(G,parseInt(Xt.split(":")[0])),parseInt(Xt.split(":")[1]));return Zl(Wt,vt)&&ec(Wt,Ie)}};if(qt)return!qt.is_open||!qt.open_time||!qt.close_time?!1:Ve(qt.open_time,qt.close_time);const ut=Ce.find(Qe=>Qe.day_of_week===lt);return!ut||!ut.is_open||!ut.open_time||!ut.close_time?!1:Ve(ut.open_time,ut.close_time)},Je=G=>{G.has_variations?(ae(G),q(!0)):Bt(G)},Bt=(G,ie)=>{jr();const Ge=ie?G.price+ie.price_adjustment:G.price,lt=ie?ie.stock_quantity:G.stock_quantity,qt=S.find(Ve=>{var ut;return Ve.id===G.id&&((ut=Ve.selectedVariation)==null?void 0:ut.id)===(ie==null?void 0:ie.id)});if(qt){if(qt.quantity>=lt){Me({variant:"destructive",title:"Estoque insuficiente",description:`Apenas ${lt} unidades disponveis para ${G.name} ${ie!=null&&ie.name?`(${ie.name})`:""}.`});return}_(S.map(Ve=>{var ut;return Ve.id===G.id&&((ut=Ve.selectedVariation)==null?void 0:ut.id)===(ie==null?void 0:ie.id)?{...Ve,quantity:Ve.quantity+1}:Ve}))}else{if(1>lt){Me({variant:"destructive",title:"Estoque insuficiente",description:`Apenas ${lt} unidades disponveis para ${G.name} ${ie!=null&&ie.name?`(${ie.name})`:""}.`});return}_([...S,{...G,id:G.id,quantity:1,price:Ge,stock_quantity:lt,selectedVariation:ie,isRedeemedWithPoints:!1}])}Me({title:"Produto adicionado!",description:`${G.name} ${ie?`(${ie.name})`:""} adicionado ao carrinho.`})},fr=()=>{if(!U||!z){Me({variant:"destructive",title:"Erro",description:"Selecione uma variao vlida."});return}Bt(U,z),q(!1),ae(null),W(null)},de=(G,ie,Ge)=>{var Ve;const lt=S.find(ut=>{var Qe;return ut.id===G&&((Qe=ut.selectedVariation)==null?void 0:Qe.id)===ie});if(!lt)return;const qt=lt.selectedVariation?lt.selectedVariation.stock_quantity:lt.stock_quantity;if(Ge>qt){Me({variant:"destructive",title:"Estoque insuficiente",description:`Apenas ${qt} unidades disponveis para ${lt.name} ${(Ve=lt.selectedVariation)!=null&&Ve.name?`(${lt.selectedVariation.name})`:""}.`});return}_(Ge===0?S.filter(ut=>{var Qe;return!(ut.id===G&&((Qe=ut.selectedVariation)==null?void 0:Qe.id)===ie)}):S.map(ut=>{var Qe;return ut.id===G&&((Qe=ut.selectedVariation)==null?void 0:Qe.id)===ie?{...ut,quantity:Ge}:ut}))},De=(G,ie,Ge)=>{if(!m){Me({variant:"destructive",title:"Cliente no identificado",description:"Faa login para usar pontos de fidelidade."});return}_(lt=>lt.map(Ve=>{var ut;if(Ve.id===G&&((ut=Ve.selectedVariation)==null?void 0:ut.id)===ie)if(Ge){const Qe=Ve.redemption_points_cost*Ve.quantity;return m.points<Qe?(Me({variant:"destructive",title:"Pontos insuficientes",description:`Voc precisa de ${Qe} pontos para resgatar ${Ve.name} (${Ve.quantity}x).`}),Ve):{...Ve,isRedeemedWithPoints:!0}}else return{...Ve,isRedeemedWithPoints:!1};return Ve}))},Te=()=>{_([]),C(null),P(ce()),I(""),A(!1),L(!1),D(""),J(!1),te(5),we(""),Ye()},et=()=>{if(S.length===0||zt>0&&!N||!O)return!1;if(on(O,new Date)){if(!Le(O,k||null))return!1}else if(!k||!Le(O,k))return!1;return!0},tt=()=>{const ie=S.reduce((Ge,lt)=>Ge+(lt.isRedeemedWithPoints?0:lt.price*lt.quantity),0);if(!et()){S.length===0?Me({variant:"destructive",title:"Carrinho vazio"}):ie>0&&!N?Me({variant:"destructive",title:"Selecione forma de pagamento"}):O?Le(O,k||null)?!on(O,new Date)&&!k&&Me({variant:"destructive",title:"Horrio obrigatrio",description:"Para pedidos futuros, selecione o horrio de retirada."}):Me({variant:"destructive",title:"Loja fechada",description:"A loja no est aberta neste dia ou horrio."}):Me({variant:"destructive",title:"Data obrigatria",description:"Selecione a data de retirada/entrega"});return}if(m){hr();return}if(f&&f.length>=10&&p){hr();return}me(!0)},hr=async G=>{console.log("--- finishOrder started (Totem) ---"),console.log("Current storeId:",t),console.log("Is delivery:",E),console.log("Reservation Date:",O?Be(O,"yyyy-MM-dd HH:mm:ss"):"null"),console.log("Pickup Time:",k),console.log("Customer name override:",G);const ie=S.reduce((nr,Or)=>nr+(Or.isRedeemedWithPoints?0:Or.price*Or.quantity),0),Ge=S.reduce((nr,Or)=>nr+(Or.isRedeemedWithPoints?Or.redemption_points_cost*Or.quantity:0),0),lt=ie;if(!et()){S.length===0?Me({variant:"destructive",title:"Carrinho vazio"}):lt>0&&!N?Me({variant:"destructive",title:"Selecione forma de pagamento"}):O?Le(O,k||null)?!on(O,new Date)&&!k&&Me({variant:"destructive",title:"Horrio obrigatrio",description:"Para pedidos futuros, selecione o horrio de retirada."}):Me({variant:"destructive",title:"Loja fechada",description:"A loja no est aberta neste dia ou horrio."}):Me({variant:"destructive",title:"Data obrigatria",description:"Selecione a data de retirada/entrega"});return}if(!t){Me({variant:"destructive",title:"Erro",description:"Loja no disponvel"});return}if(!i){Me({variant:"destructive",title:"Loja fechada",description:"A loja no est aceitando pedidos no momento"});return}let qt=null,Ve=m;const ut=G||p;if(f&&f.length>=10){if(!Ve){const{data:nr}=await da.from("customers").select("id, name, phone, points").eq("phone",f).eq("store_id",t).maybeSingle();if(nr)Ve=nr;else if(ut){const{data:Or,error:st}=await da.from("customers").insert({phone:f,name:ut,points:0,store_id:t}).select().single();if(st){Me({variant:"destructive",title:"Erro ao cadastrar cliente",description:st.message});return}Ve=Or,v(Ve)}else Me({title:"Aviso",description:"Pedido ser registrado sem nome de cliente para pontos de fidelidade."})}qt=(Ve==null?void 0:Ve.id)||null}const Qe=`PED-${Date.now().toString().slice(-6)}`,Xt=[];Ge>0&&Xt.push("Fidelidade"),lt>0&&N&&Xt.push(HT[N]);let Wt=Xt.join(" + "),vt=null;const Ie=O&&!on(O,new Date),ka=!Ie;if(console.log("Requires open cash register:",ka,"isFutureReservation:",Ie),ka){console.log("Attempting to find open cash register for storeId:",t);const{data:nr,error:Or}=await da.from("cash_register").select("id").eq("store_id",t).is("closed_at",null).maybeSingle();if(Or){console.error("Error fetching open cash register:",Or),Me({variant:"destructive",title:"Erro ao verificar caixa",description:Or.message});return}if(nr)vt=nr.id,console.log("Found open cash register:",vt);else{console.log("No open cash register found for storeId:",t),Me({variant:"destructive",title:"Caixa fechado",description:"No  possvel fazer pedidos com o caixa fechado. Por favor, avise um funcionrio."});return}}console.log("Final cashRegisterIdForOrder:",vt);const es=on(O,new Date)&&!k?null:k,Ta=rn(),{data:ks,error:ts}=await da.from("orders").insert({store_id:t,order_number:Qe,customer_id:qt,customer_name:ut||null,source:"totem",total:lt,payment_method:Wt,reservation_date:O?Be(O,"yyyy-MM-dd"):null,pickup_time:es,delivery:E,delivery_address:null,delivery_number:null,delivery_reference:null,delivery_cep:null,notes:T||null,change_for:N==="dinheiro"&&M?parseFloat($):null,cash_register_id:vt,status:Ta}).select().single();if(ts||!ks){Me({variant:"destructive",title:"Erro ao criar pedido",description:ts==null?void 0:ts.message});return}const so=S.map(nr=>{var Or,st;return{order_id:ks.id,product_id:nr.id,product_name:nr.name,product_price:nr.isRedeemedWithPoints?0:nr.price,quantity:nr.quantity,subtotal:nr.isRedeemedWithPoints?0:nr.price*nr.quantity,product_variation_id:((Or=nr.selectedVariation)==null?void 0:Or.id)||null,variation_name:((st=nr.selectedVariation)==null?void 0:st.name)||null}});await da.from("order_items").insert(so);const Ts=S.map(async nr=>{if(nr.selectedVariation){const{error:Or}=await da.from("product_variations").update({stock_quantity:nr.selectedVariation.stock_quantity-nr.quantity}).eq("id",nr.selectedVariation.id);Or&&console.error(`Erro ao atualizar estoque da variao ${nr.selectedVariation.name}:`,Or.message)}else{const{error:Or}=await da.from("products").update({stock_quantity:nr.stock_quantity-nr.quantity}).eq("id",nr.id);Or&&console.error(`Erro ao atualizar estoque do produto ${nr.name}:`,Or.message)}});await Promise.all(Ts),Ge>0&&Ve&&"id"in Ve&&(await da.from("customers").update({points:Ve.points-Ge}).eq("id",Ve.id),await da.from("loyalty_transactions").insert({customer_id:Ve.id,order_id:ks.id,points:-Ge,transaction_type:"redeem",store_id:t,description:`Resgate de ${Ge} pontos no pedido ${Qe}`})),Me({title:"Pedido finalizado!",description:`Pedido ${Qe} criado com sucesso`}),we(Qe),J(!0)},pr=[];for(let G=10;G<=14;G++)for(let ie=0;ie<60;ie+=30){if(G===10&&ie===0)continue;if(G===14&&ie>0)break;const Ge=`${String(G).padStart(2,"0")}:${String(ie).padStart(2,"0")}`;pr.push(Ge)}const Wr={};x.forEach(G=>{var Ge;const ie=((Ge=ee.find(lt=>lt.id===G.category_id))==null?void 0:Ge.name)||"Sem Categoria";Wr[ie]||(Wr[ie]=[]),Wr[ie].push(G)});const se=Object.keys(Wr).sort((G,ie)=>G==="Sem Categoria"?1:ie==="Sem Categoria"?-1:G.localeCompare(ie));return t===void 0?s.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",children:s.jsx("p",{className:"text-muted-foreground",children:"Carregando totem..."})}):u?s.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 bg-gradient-to-br from-primary/5 to-primary/10",children:s.jsx(ve,{className:"w-full max-w-md shadow-xl",children:s.jsxs(je,{children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(pf,{className:"h-24 w-24 text-destructive"})}),s.jsx(Se,{className:"text-2xl text-center",children:"Loja No Encontrada"}),s.jsx("p",{className:"text-center text-muted-foreground",children:"Verifique a URL. O monitor deve ser acessado com a URL da loja (ex: /monitor/minha-loja)."})]})})}):i?re?s.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-success/5 to-success/10 text-center animate-fade-in",children:s.jsxs("div",{className:"p-6",children:[" ",s.jsx(Z4,{className:"h-32 w-32 text-success mb-8 animate-bounce mx-auto"}),s.jsx("h1",{className:"text-5xl font-bold text-foreground mb-4",children:"Pedido Concludo!"}),s.jsxs("p",{className:"text-2xl text-muted-foreground mb-8",children:["Seu pedido ",s.jsxs("span",{className:"font-bold text-primary",children:["#",Z]})," foi enviado. S aguardar!"]}),s.jsxs(B,{onClick:Te,className:"w-full max-w-xs text-lg py-6 shadow-soft",children:["Fazer Novo Pedido (",le,"s)"]})]})}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 to-primary/10",children:[s.jsx("div",{className:"max-w-6xl mx-auto p-6",children:s.jsxs(ve,{className:"shadow-xl",children:[s.jsx(je,{children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[l&&s.jsx("div",{className:"flex justify-start mb-2",children:s.jsx("img",{src:l,alt:`${n} logo`,className:"h-16 object-contain"})}),s.jsx(Se,{className:"text-2xl",children:n}),s.jsx("p",{className:"text-muted-foreground",children:"Faa seu pedido"})]})})}),s.jsx(ye,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Nosso Cardpio"}),s.jsx("div",{className:"embla overflow-hidden",ref:_r,children:s.jsxs("div",{className:"embla__container flex gap-2 pb-2 flex-nowrap",children:[s.jsx(B,{variant:he===null?"default":"outline",onClick:()=>Ae(null),className:"embla__slide flex-shrink-0",children:"Todas"}),ee.map(G=>s.jsx(B,{variant:he===G.id?"default":"outline",onClick:()=>Ae(G.id),className:"embla__slide flex-shrink-0",children:G.name},G.id))]})}),se.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Nenhum produto disponvel nesta categoria."}):se.map(G=>s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-xl font-bold mt-6 mb-4",children:G}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Wr[G].map(ie=>{var lt,qt,Ve;const Ge=ie.has_variations?w.filter(ut=>ut.product_id===ie.id).every(ut=>ut.stock_quantity===0):ie.stock_quantity===0;return s.jsx(ve,{children:s.jsx(ye,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[ie.image_url&&s.jsx("img",{src:ie.image_url,alt:ie.name,className:"w-16 h-16 object-cover rounded"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:ie.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:ie.has_variations?"Com variaes":`Estoque: ${ie.stock_quantity}`}),s.jsx("p",{className:"text-lg font-bold text-primary",children:ie.has_variations?ie.min_variation_price===ie.max_variation_price?`R$ ${(lt=ie.min_variation_price)==null?void 0:lt.toFixed(2)}`:`R$ ${(qt=ie.min_variation_price)==null?void 0:qt.toFixed(2)} - ${(Ve=ie.max_variation_price)==null?void 0:Ve.toFixed(2)}`:`R$ ${ie.price.toFixed(2)}`})]}),s.jsx(B,{onClick:()=>Je(ie),size:"sm",disabled:Ge,children:s.jsx(xr,{className:"h-4 w-4"})})]})})},ie.id)})})]},G)),S.length>0&&s.jsxs(ve,{className:"mt-4",children:[s.jsx(je,{children:s.jsx(Se,{children:"Seu Carrinho"})}),s.jsxs(ye,{className:"space-y-4",children:[S.map(G=>{var ie;return s.jsxs("div",{className:"flex items-center justify-between gap-2 p-3 bg-accent rounded-lg",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("p",{className:"font-medium",children:[G.name," ",G.selectedVariation&&`(${G.selectedVariation.name})`]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:G.isRedeemedWithPoints?s.jsxs("span",{className:"text-purple-600",children:[G.redemption_points_cost.toFixed(0)," pts cada"]}):`R$ ${G.price.toFixed(2)} cada`}),G.can_be_redeemed_with_points&&m&&s.jsxs(B,{variant:"ghost",size:"sm",className:"h-8 px-2 flex items-center gap-1",onClick:()=>{var Ge;return De(G.id,(Ge=G.selectedVariation)==null?void 0:Ge.id,!G.isRedeemedWithPoints)},children:[s.jsx(Kn,{className:Ee("h-4 w-4",G.isRedeemedWithPoints?"fill-primary text-primary":"text-muted-foreground")}),s.jsx("span",{className:"text-xs",children:"Fidelidade?"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[s.jsx(B,{variant:"outline",size:"sm",onClick:()=>{var Ge;return de(G.id,(Ge=G.selectedVariation)==null?void 0:Ge.id,G.quantity-1)},children:s.jsx(tm,{className:"h-3 w-3"})}),s.jsx("span",{className:"w-8 text-center",children:G.quantity}),s.jsx(B,{variant:"outline",size:"sm",onClick:()=>{var Ge;return de(G.id,(Ge=G.selectedVariation)==null?void 0:Ge.id,G.quantity+1)},children:s.jsx(xr,{className:"h-3 w-3"})})]})]},`${G.id}-${((ie=G.selectedVariation)==null?void 0:ie.id)||""}`)}),s.jsx("div",{className:"space-y-3 pt-4 border-t",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"phone",children:"Nmero para ganhar pontos (opcional)"}),s.jsx(ne,{id:"phone",type:"tel",placeholder:"(11) 99999-9999",value:f,onChange:G=>{h(G.target.value.replace(/\D/g,""))},inputMode:"numeric",pattern:"[0-9]*"})]}),f.length>=10&&!m&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"name",children:"Seu Nome (opcional, para novos clientes)"}),s.jsx(ne,{id:"name",placeholder:"Seu nome",value:p,onChange:G=>y(G.target.value)})]}),f.length>=10&&m&&s.jsxs("div",{className:"p-3 bg-accent rounded-lg",children:[s.jsxs("p",{className:"font-medium",children:["Ol, ",m.name,"!"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Seu nmero j est cadastrado."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Forma de Pagamento"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:["pix","credito","debito","dinheiro"].map(G=>{const ie=qce[G];return s.jsxs(B,{variant:N===G?"default":"outline",onClick:()=>C(G),className:"flex flex-col items-center justify-center gap-1 h-16 text-lg",children:[s.jsx(ie,{className:"h-6 w-6"}),HT[G]]},G)})})]}),N==="dinheiro"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gi,{id:"needsChange",checked:M,onCheckedChange:G=>L(G===!0)}),s.jsx(V,{htmlFor:"needsChange",children:"Precisa de troco?"})]}),M&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Troco para quanto?"}),s.jsx(ne,{type:"number",step:"0.01",placeholder:"0.00",value:$,onChange:G=>D(G.target.value)})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"notes",children:"Observao"}),s.jsx(zu,{id:"notes",placeholder:"Ex: menos sal, mais assado, ao ponto, entregar no porto...",value:T,onChange:G=>H(G.target.value),className:"min-h-[80px] text-base"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gi,{id:"isDelivery",checked:E,onCheckedChange:G=>{A(G===!0)}}),s.jsx(V,{htmlFor:"isDelivery",children:" para entrega?"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(V,{htmlFor:"pickupTime",children:[s.jsx(Qs,{className:"inline h-4 w-4 mr-1"}),"Horrio de Retirada (Opcional para hoje)"]}),s.jsxs(ir,{value:k,onValueChange:I,children:[s.jsx(er,{id:"pickupTime",children:s.jsx(sr,{placeholder:"Selecione o horrio"})}),s.jsx(tr,{children:pr.map(G=>s.jsx($e,{value:G,children:G},G))})]}),!on(O||new Date,new Date)&&s.jsx("p",{className:"text-xs text-destructive",children:" Para pedidos futuros, o horrio  obrigatrio."})]})]}),nt>0&&s.jsxs("div",{className:"flex items-center justify-between text-sm text-purple-600 font-medium",children:[s.jsx("span",{children:"Pontos a Resgatar:"}),s.jsxs("span",{children:[nt," pts"]})]}),s.jsxs("div",{className:"text-lg font-bold text-right",children:["Total Monetrio: R$ ",zt.toFixed(2)]}),s.jsx(B,{onClick:tt,className:"w-full h-12 text-xl",disabled:!et(),children:"Finalizar Pedido"})]})})]})]})]})})]})}),s.jsx(St,{open:oe,onOpenChange:q,children:s.jsxs(xt,{children:[s.jsx(bt,{children:s.jsx(wt,{children:"Selecione a Variao"})}),U&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-lg font-semibold",children:U.name}),s.jsxs(ir,{value:(z==null?void 0:z.id)||"",onValueChange:G=>W(w.find(ie=>ie.id===G)||null),children:[s.jsx(er,{children:s.jsx(sr,{placeholder:"Escolha uma variao"})}),s.jsx(tr,{children:w.filter(G=>G.product_id===U.id&&G.stock_quantity>0).map(G=>s.jsxs($e,{value:G.id,children:[G.name," (R$ ",(U.price+G.price_adjustment).toFixed(2),") - Estoque: ",G.stock_quantity]},G.id))})]}),z&&z.stock_quantity===0&&s.jsx("p",{className:"text-sm text-destructive",children:"Esta variao est sem estoque."}),s.jsx(B,{onClick:fr,className:"w-full",disabled:!z||z.stock_quantity===0,children:"Adicionar ao Carrinho"})]})]})}),s.jsx(St,{open:ge,onOpenChange:me,children:s.jsxs(xt,{className:"max-w-md",children:[s.jsx(bt,{children:s.jsx(wt,{className:"text-2xl",children:"Nome do Cliente"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsx("p",{className:"text-muted-foreground",children:f&&f.length>=10?"Digite seu nome para completar o cadastro (opcional):":"Digite seu nome para identificarmos seu pedido (obrigatrio):"}),s.jsx(ne,{id:"customer-name-dialog-input",type:"text",placeholder:f&&f.length>=10?"Seu nome (opcional)":"Seu nome",value:be,onChange:G=>X(G.target.value),className:"text-lg h-12",onKeyDown:G=>{if(G.key==="Enter"){if(G.preventDefault(),(!f||f.length<10)&&!be.trim()){Me({variant:"destructive",title:"Nome obrigatrio",description:"Por favor, digite seu nome para continuar."});return}const ie=be.trim();ie&&y(ie),me(!1),hr(ie||void 0)}}}),s.jsxs("div",{className:"flex gap-3",children:[f&&f.length>=10&&s.jsx(B,{variant:"outline",className:"flex-1 h-12 text-lg",onClick:()=>{X(""),me(!1),hr()},children:"Pular"}),s.jsx(B,{className:"flex-1 h-12 text-lg",onClick:()=>{if((!f||f.length<10)&&!be.trim()){Me({variant:"destructive",title:"Nome obrigatrio",description:"Por favor, digite seu nome para continuar."});return}const G=be.trim();G&&y(G),me(!1),hr(G||void 0)},children:"OK"})]})]})]})})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center p-6 bg-gradient-to-br from-primary/5 to-primary/10",children:s.jsx(ve,{className:"w-full max-w-md shadow-xl",children:s.jsxs(je,{children:[l&&s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("img",{src:l,alt:`${n} logo`,className:"h-24 object-contain"})}),s.jsxs(Se,{className:"text-2xl text-center flex items-center justify-center gap-2",children:[s.jsx(pf,{className:"h-6 w-6"}),n]}),s.jsx("p",{className:"text-center text-muted-foreground",children:"Desculpe, estamos fechados no momento. Volte mais tarde!"})]})})})}const Uce=hv("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),z1=g.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:Ee(Uce({variant:t}),e),...r}));z1.displayName="Alert";const zce=g.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:Ee("mb-1 font-medium leading-none tracking-tight",e),...t}));zce.displayName="AlertTitle";const W1=g.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Ee("text-sm [&_p]:leading-relaxed",e),...t}));W1.displayName="AlertDescription";var HP="Progress",GP=100,[Wce]=Xa(HP),[Vce,Hce]=Wce(HP),IU=g.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=Gce,...o}=e;(a||a===0)&&!KT(a)&&console.error(Kce(`${a}`,"Progress"));const l=KT(a)?a:GP;n!==null&&!YT(n,l)&&console.error(Yce(`${n}`,"Progress"));const c=YT(n,l)?n:null,u=Nx(c)?i(c,l):void 0;return s.jsx(Vce,{scope:r,value:c,max:l,children:s.jsx(Ze.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Nx(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":MU(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});IU.displayName=HP;var RU="ProgressIndicator",$U=g.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=Hce(RU,r);return s.jsx(Ze.div,{"data-state":MU(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});$U.displayName=RU;function Gce(e,t){return`${Math.round(e/t*100)}%`}function MU(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Nx(e){return typeof e=="number"}function KT(e){return Nx(e)&&!isNaN(e)&&e>0}function YT(e,t){return Nx(e)&&!isNaN(e)&&e<=t&&e>=0}function Kce(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${GP}\`.`}function Yce(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${GP} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var LU=IU,Xce=$U;const KP=g.forwardRef(({className:e,value:t,...r},n)=>s.jsx(LU,{ref:n,className:Ee("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:s.jsx(Xce,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));KP.displayName=LU.displayName;function Qce(){const{isAdmin:e,user:t,loading:r}=Gt(),{toast:n}=dr(),a=Xi(),[i,o]=g.useState(!1),[l,c]=g.useState(0),[u,d]=g.useState(!1),[f,h]=g.useState(!1),[p,y]=g.useState(!1),[m,v]=g.useState({email:"",password:"",confirmPassword:"",fullName:"",storeName:""}),[x,b]=g.useState([{name:"Verificar permisses",description:"Validando acesso administrativo",status:"pending"},{name:"Criar tabelas principais",description:"stores, profiles, user_roles",status:"pending"},{name:"Criar tabelas de produtos",description:"products, product_variations, categories",status:"pending"},{name:"Criar tabelas de pedidos",description:"orders, order_items, cash_register",status:"pending"},{name:"Criar tabelas de fidelidade",description:"customers, loyalty_rules, loyalty_transactions",status:"pending"},{name:"Configurar polticas RLS",description:"Row Level Security para todas as tabelas",status:"pending"},{name:"Criar funes e triggers",description:"Funes auxiliares e triggers automticos",status:"pending"},{name:"Configurar autenticao",description:"Auto-confirm email e configuraes de segurana",status:"pending"},{name:"Finalizar instalao",description:"Verificar integridade do sistema",status:"pending"}]),w=(C,E,A)=>{b(O=>{const P=[...O];return P[C]={...P[C],status:E,message:A},P}),c((C+1)/x.length*100)},j=async()=>{if(!m.email||!m.password||!m.fullName||!m.storeName){n({variant:"destructive",title:"Campos obrigatrios",description:"Preencha todos os campos para criar o usurio administrador."});return}if(m.password!==m.confirmPassword){n({variant:"destructive",title:"Senhas no coincidem",description:"As senhas digitadas no so iguais."});return}if(m.password.length<6){n({variant:"destructive",title:"Senha muito curta",description:"A senha deve ter pelo menos 6 caracteres."});return}h(!0);try{const{data:C,error:E}=await ke.from("stores").insert({name:m.storeName,slug:m.storeName.toLowerCase().replace(/\s+/g,"-")}).select().single();if(E)throw new Error(`Erro ao criar loja: ${E.message}`);const{data:A,error:O}=await ke.functions.invoke("admin-create-user",{body:{email:m.email,password:m.password,full_name:m.fullName,role:"admin",store_id:C.id}});if(O)throw new Error(O.message);n({title:"Usurio administrador criado!",description:"Voc pode fazer login agora com suas credenciais."}),setTimeout(()=>{a("/login")},2e3)}catch(C){console.error("Erro ao criar usurio administrador:",C),n({variant:"destructive",title:"Erro ao criar administrador",description:C.message||"Ocorreu um erro ao criar o usurio administrador."})}finally{h(!1)}},S=async()=>{o(!0),c(0);try{w(0,"running"),await new Promise(O=>setTimeout(O,500)),w(0,"completed","Verificao inicial concluda"),w(1,"running");const{data:C,error:E}=await ke.functions.invoke("setup-system",{body:{}});if(E)throw new Error(E.message);((C==null?void 0:C.steps)||[]).forEach((O,P)=>{P+1<x.length&&w(P+1,O.success?"completed":"error",O.message)}),C!=null&&C.success?(x.forEach((O,P)=>{P>0&&x[P].status!=="error"&&w(P,"completed")}),d(!0),n({title:"Instalao concluda!",description:"Agora crie um usurio administrador para comear."})):n({variant:"destructive",title:"Instalao com falhas",description:(C==null?void 0:C.message)||"Alguns passos da instalao falharam. Verifique os detalhes."})}catch(C){console.error("Erro durante instalao:",C);const E=x.findIndex(A=>A.status==="running");E!==-1&&w(E,"error",C.message||"Erro desconhecido"),n({variant:"destructive",title:"Erro na instalao",description:C.message||"Ocorreu um erro durante a instalao do sistema."})}finally{o(!1)}},_=C=>{switch(C){case"completed":return s.jsx(Gi,{className:"h-5 w-5 text-green-500"});case"running":return s.jsx(Bi,{className:"h-5 w-5 text-blue-500 animate-spin"});case"error":return s.jsx(Yl,{className:"h-5 w-5 text-red-500"});default:return s.jsx("div",{className:"h-5 w-5 rounded-full border-2 border-muted"})}},N=C=>{switch(C){case"completed":return s.jsx(kn,{className:"bg-green-500",children:"Concludo"});case"running":return s.jsx(kn,{className:"bg-blue-500",children:"Em execuo"});case"error":return s.jsx(kn,{variant:"destructive",children:"Erro"});default:return s.jsx(kn,{variant:"outline",children:"Aguardando"})}};return r?s.jsxs("div",{className:"flex items-center justify-center min-h-screen",children:[s.jsx(Bi,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("p",{className:"ml-2 text-muted-foreground",children:"Carregando autenticao..."})]}):s.jsxs("div",{className:"space-y-6 p-6 max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 rounded-lg bg-primary/10",children:s.jsx(G_,{className:"h-8 w-8 text-primary"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Instalao do Sistema"}),s.jsx("p",{className:"text-muted-foreground",children:"Configure toda a infraestrutura necessria para o funcionamento"})]})]}),!u&&!p&&x.every(C=>C.status==="pending")&&s.jsxs(ve,{className:"shadow-soft border-blue-200 bg-blue-50 dark:bg-blue-950/20",children:[s.jsx(je,{children:s.jsxs(Se,{className:"flex items-center gap-2",children:[s.jsx(t2,{className:"h-5 w-5 text-blue-600"}),"Antes de comear"]})}),s.jsxs(ye,{className:"space-y-3 text-sm",children:[s.jsx("p",{children:"Certifique-se de ter executado os seguintes passos no Supabase SQL Editor:"}),s.jsxs("ol",{className:"list-decimal list-inside space-y-2 ml-4",children:[s.jsx("li",{children:"Habilitar extenses UUID e pgcrypto"}),s.jsx("li",{children:"Executar a migration completa (20251029022239_complete_setup.sql)"}),s.jsx("li",{children:"Fazer deploy das Edge Functions usando o CLI do Supabase"}),s.jsx("li",{children:"Configurar a varivel SUPABASE_SERVICE_ROLE_KEY nas secrets"})]}),s.jsxs("p",{className:"text-blue-700 dark:text-blue-300 font-medium",children:[" Consulte o arquivo ",s.jsx("code",{children:"INSTRUCOES_INSTALACAO.md"})," para mais detalhes."]}),s.jsxs("div",{className:"pt-3 border-t mt-4",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"J executou a migration manualmente?"}),s.jsx(B,{variant:"outline",size:"sm",onClick:()=>{y(!0),d(!0)},children:"Pular para Criao de Admin"})]})]})]}),!p&&s.jsxs(ve,{className:"shadow-soft",children:[s.jsxs(je,{children:[s.jsxs(Se,{className:"flex items-center gap-2",children:[s.jsx(z_,{className:"h-5 w-5"}),"Status da Instalao"]}),s.jsx(Jt,{children:"Acompanhe o progresso da configurao do sistema"})]}),s.jsxs(ye,{className:"space-y-6",children:[i&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Progresso geral"}),s.jsxs("span",{className:"font-medium",children:[Math.round(l),"%"]})]}),s.jsx(KP,{value:l,className:"h-2"})]}),s.jsx("div",{className:"space-y-3",children:x.map((C,E)=>s.jsx("div",{className:`p-4 rounded-lg border transition-all ${C.status==="running"?"border-blue-500 bg-blue-50 dark:bg-blue-950/20":C.status==="completed"?"border-green-500 bg-green-50 dark:bg-green-950/20":C.status==="error"?"border-red-500 bg-red-50 dark:bg-red-950/20":"border-border"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"mt-0.5",children:_(C.status)}),s.jsxs("div",{className:"flex-1 space-y-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h4",{className:"font-medium",children:[E+1,". ",C.name]}),N(C.status)]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:C.description}),C.message&&s.jsx("p",{className:`text-xs mt-2 ${C.status==="error"?"text-red-600 dark:text-red-400":"text-muted-foreground"}`,children:C.message})]})]})},E))}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(B,{onClick:S,disabled:i,className:"flex-1",size:"lg",children:i?s.jsxs(s.Fragment,{children:[s.jsx(Bi,{className:"h-4 w-4 mr-2 animate-spin"}),"Instalando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(z_,{className:"h-4 w-4 mr-2"}),"Iniciar Instalao"]})}),!i&&s.jsx(B,{variant:"outline",onClick:()=>a("/"),size:"lg",children:"Voltar"})]}),!i&&x.every(C=>C.status==="pending")&&s.jsxs(z1,{variant:"default",className:"mt-4",children:[s.jsx(t2,{className:"h-4 w-4"}),s.jsxs(W1,{children:[s.jsx("strong",{children:"Importante:"})," Este processo pode levar alguns minutos para ser concludo. Certifique-se de que as variveis de ambiente do Supabase esto configuradas corretamente."]})]})]})]}),u&&s.jsxs(ve,{className:"shadow-soft border-green-200 bg-green-50 dark:bg-green-950/20",children:[s.jsxs(je,{children:[s.jsxs(Se,{className:"flex items-center gap-2",children:[s.jsx(H_,{className:"h-5 w-5 text-green-600"}),"Criar Usurio Administrador"]}),s.jsx(Jt,{children:"Configure o primeiro usurio administrador do sistema"})]}),s.jsxs(ye,{className:"space-y-4",children:[s.jsxs(z1,{className:"bg-blue-50 dark:bg-blue-950/20 border-blue-200",children:[s.jsx(V_,{className:"h-4 w-4 text-blue-600"}),s.jsx(W1,{children:"Este ser o usurio principal do sistema com acesso total a todas as funcionalidades."})]}),s.jsxs("div",{className:"grid gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"storeName",children:"Nome da Loja *"}),s.jsx(ne,{id:"storeName",type:"text",placeholder:"Minha Loja",value:m.storeName,onChange:C=>v({...m,storeName:C.target.value}),disabled:f})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"fullName",children:"Nome Completo *"}),s.jsx(ne,{id:"fullName",type:"text",placeholder:"Joo Silva",value:m.fullName,onChange:C=>v({...m,fullName:C.target.value}),disabled:f})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"email",children:"Email *"}),s.jsx(ne,{id:"email",type:"email",placeholder:"admin@exemplo.com",value:m.email,onChange:C=>v({...m,email:C.target.value}),disabled:f})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"password",children:"Senha *"}),s.jsx(ne,{id:"password",type:"password",placeholder:"",value:m.password,onChange:C=>v({...m,password:C.target.value}),disabled:f})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"confirmPassword",children:"Confirmar Senha *"}),s.jsx(ne,{id:"confirmPassword",type:"password",placeholder:"",value:m.confirmPassword,onChange:C=>v({...m,confirmPassword:C.target.value}),disabled:f})]})]})]}),s.jsx("div",{className:"flex gap-3 pt-4",children:s.jsx(B,{onClick:j,disabled:f,className:"flex-1",size:"lg",children:f?s.jsxs(s.Fragment,{children:[s.jsx(Bi,{className:"h-4 w-4 mr-2 animate-spin"}),"Criando Administrador..."]}):s.jsxs(s.Fragment,{children:[s.jsx(H_,{className:"h-4 w-4 mr-2"}),"Criar Administrador"]})})})]})]})]})}function Jce(){const e=Xi(),[t,r]=g.useState("loading"),[n,a]=g.useState("");g.useEffect(()=>{i()},[]);const i=async()=>{try{const{data:o,error:l}=await ke.from("stores").select("id").eq("slug","loja-principal").single();if(l||!o)throw new Error("Erro ao buscar loja: "+((l==null?void 0:l.message)||"Loja no encontrada"));const{data:c,error:u}=await ke.functions.invoke("admin-create-user",{body:{email:"neto@admin.com",password:"123as123",full_name:"Neto",role:"admin",store_id:o.id}});if(u)throw new Error(u.message);r("success"),a("Usurio administrador criado com sucesso! Email: neto@admin.com")}catch(o){console.error("Erro ao criar usurio:",o),r("error"),a(o.message||"Erro ao criar usurio administrador")}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center p-6 bg-gradient-to-br from-background to-muted",children:s.jsxs(ve,{className:"w-full max-w-md",children:[s.jsx(je,{children:s.jsx(Se,{className:"text-center",children:"Inicializao do Sistema"})}),s.jsxs(ye,{className:"space-y-6",children:[t==="loading"&&s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx(Bi,{className:"h-12 w-12 animate-spin text-primary"}),s.jsx("p",{className:"text-center text-muted-foreground",children:"Criando usurio administrador..."})]}),t==="success"&&s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx(Gi,{className:"h-12 w-12 text-green-500"}),s.jsx("p",{className:"text-center text-foreground font-medium",children:n}),s.jsxs("div",{className:"w-full space-y-2 p-4 bg-muted rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium",children:"Credenciais de acesso:"}),s.jsxs("p",{className:"text-sm",children:["Email: ",s.jsx("span",{className:"font-mono",children:"neto@admin.com"})]}),s.jsxs("p",{className:"text-sm",children:["Senha: ",s.jsx("span",{className:"font-mono",children:"123as123"})]})]}),s.jsx(B,{onClick:()=>e("/login"),className:"w-full",size:"lg",children:"Ir para Login"})]}),t==="error"&&s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx(Yl,{className:"h-12 w-12 text-destructive"}),s.jsx("p",{className:"text-center text-destructive",children:n}),s.jsx(B,{onClick:i,variant:"outline",className:"w-full",children:"Tentar Novamente"})]})]})]})})}function Zce(){const[e,t]=g.useState("pending"),[r,n]=g.useState(""),a=Xi(),i=async()=>{t("running"),n("Criando usurio administrador...");try{const{data:o,error:l}=await ke.from("stores").select("id").eq("slug","neto").single();if(l)throw new Error(`Erro ao buscar loja: ${l.message}`);const{data:c,error:u}=await ke.functions.invoke("admin-create-user",{body:{email:"neto@admin.com",password:"123as123",full_name:"Neto",role:"admin",store_id:o.id}});if(u)throw new Error(u.message);t("success"),n("Usurio administrador criado com sucesso!")}catch(o){console.error("Erro ao criar usurio:",o),t("error"),n(o.message||"Erro ao criar usurio administrador")}};return s.jsx("div",{className:"flex items-center justify-center min-h-screen p-6",children:s.jsxs(ve,{className:"max-w-md w-full",children:[s.jsxs(je,{children:[s.jsx(Se,{children:"Setup Automtico"}),s.jsx(Jt,{children:"Criar usurio administrador do sistema"})]}),s.jsxs(ye,{className:"space-y-4",children:[e==="pending"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Email: neto@admin.com",s.jsx("br",{}),"Senha: 123as123",s.jsx("br",{}),"Nome: Neto",s.jsx("br",{}),"Loja: Neto"]}),s.jsx(B,{onClick:i,className:"w-full",children:"Criar Usurio Admin"})]}),e==="running"&&s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-blue-50 dark:bg-blue-950/20 rounded-lg",children:[s.jsx(Bi,{className:"h-5 w-5 text-blue-500 animate-spin"}),s.jsx("p",{className:"text-sm",children:r})]}),e==="success"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 dark:bg-green-950/20 rounded-lg",children:[s.jsx(Gi,{className:"h-5 w-5 text-green-500"}),s.jsx("p",{className:"text-sm",children:r})]}),s.jsx(B,{onClick:()=>a("/login"),className:"w-full",children:"Ir para Login"})]}),e==="error"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-red-50 dark:bg-red-950/20 rounded-lg",children:[s.jsx(Yl,{className:"h-5 w-5 text-red-500"}),s.jsx("p",{className:"text-sm",children:r})]}),s.jsx(B,{onClick:i,variant:"outline",className:"w-full",children:"Tentar Novamente"})]})]})]})})}const eue=[{title:"Dashboard & Caixa",description:"Abertura de caixa, relatrios dirios de vendas e estoque."},{title:"PDV Integrado",description:"Ponto de Venda com atualizao de estoque em tempo real e registro de reservas."},{title:"Programa de Fidelidade",description:"Cadastro via WhatsApp, regras customizveis de pontuao e resgate de prmios."},{title:"Painel de Pedidos",description:"Fila de pedidos em tempo real com status 'Em preparo' / 'Pronto'."},{title:"Relatrios Detalhados",description:"Anlise de vendas, horrios de pico e histrico completo de movimentao."},{title:"Gesto de Estoque",description:"Controle em tempo real de produtos e variaes."}];function tue(){const e=Xi();return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx("header",{className:"p-6 border-b bg-card shadow-sm sticky top-0 z-10",children:s.jsxs("div",{className:"max-w-6xl mx-auto flex justify-between items-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-primary",children:"Gesto Food Flow"}),s.jsxs(B,{onClick:()=>e("/login"),className:"shadow-soft",children:[s.jsx(qK,{className:"h-4 w-4 mr-2"}),"Login"]})]})}),s.jsx("main",{className:"flex-1 p-6",children:s.jsxs("div",{className:"max-w-6xl mx-auto space-y-12",children:[s.jsxs("section",{className:"text-center py-16 bg-gradient-hero rounded-xl shadow-strong text-white",children:[s.jsx("h2",{className:"text-5xl font-extrabold mb-4",children:"O Sistema Completo para seu Negcio de Assados"}),s.jsx("p",{className:"text-xl font-light mb-8 max-w-3xl mx-auto",children:"Gesto de pedidos, controle de estoque e programa de fidelidade em uma nica plataforma."}),s.jsx(B,{onClick:()=>e("/login"),size:"lg",className:"bg-white text-primary hover:bg-gray-100 text-lg shadow-medium",children:"Acessar o Sistema"})]}),s.jsxs("section",{className:"space-y-6",children:[s.jsx("h3",{className:"text-3xl font-bold text-center text-foreground",children:"Funcionalidades Chave"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:eue.map((t,r)=>s.jsxs(ve,{className:"shadow-soft hover:shadow-medium transition-shadow",children:[s.jsx(je,{children:s.jsx(Se,{className:"text-xl text-primary",children:t.title})}),s.jsx(ye,{children:s.jsx("p",{className:"text-muted-foreground",children:t.description})})]},r))})]})]})}),s.jsxs("footer",{className:"p-4 border-t text-center text-sm text-muted-foreground",children:[" ",new Date().getFullYear()," Gesto Food Flow. Todos os direitos reservados."]})]})}const Ec=ke;function rue(){const[e,t]=g.useState(""),[r,n]=g.useState([]),[a,i]=g.useState(!1),[o,l]=g.useState(null),[c,u]=g.useState(""),[d,f]=g.useState(!1),[h,p]=g.useState({slideshowDelay:5e3,idleTimeoutSeconds:30,fullscreenSlideshow:!1}),{toast:y}=dr(),{profile:m}=Gt();g.useEffect(()=>{m!=null&&m.store_id&&v()},[m]);const v=async()=>{if(!(m!=null&&m.store_id))return;const{data:N,error:C}=await Ec.from("banners").select("id, url, order").eq("store_id",m.store_id).order("order",{ascending:!0});C?y({variant:"destructive",title:"Erro ao carregar banners",description:C.message}):n(N||[]);const{data:E,error:A}=await Ec.from("stores").select("monitor_slideshow_delay, monitor_idle_timeout_seconds, monitor_fullscreen_slideshow").eq("id",m.store_id).single();A?console.error("Erro ao carregar configuraes do monitor:",A.message):E&&p({slideshowDelay:E.monitor_slideshow_delay||5e3,idleTimeoutSeconds:E.monitor_idle_timeout_seconds||30,fullscreenSlideshow:E.monitor_fullscreen_slideshow||!1})},x=async N=>{if(N.preventDefault(),!e.trim()){y({variant:"destructive",title:"URL invlida",description:"Por favor, insira uma URL de imagem vlida."});return}if(!(m!=null&&m.store_id)){y({variant:"destructive",title:"Erro",description:"Voc precisa estar vinculado a uma loja para adicionar banners."});return}const C={store_id:m.store_id,url:e.trim(),order:r.length+1},{error:E}=await Ec.from("banners").insert(C);E?y({variant:"destructive",title:"Erro ao adicionar banner",description:E.message}):(y({title:"Banner adicionado!",description:"O novo banner foi adicionado  lista."}),t(""),v())},b=N=>{l(N),u(N.url),i(!0)},w=async N=>{if(N.preventDefault(),!o||!c.trim()){y({variant:"destructive",title:"URL invlida",description:"Por favor, insira uma URL de imagem vlida."});return}const{error:C}=await Ec.from("banners").update({url:c.trim()}).eq("id",o.id);C?y({variant:"destructive",title:"Erro ao atualizar banner",description:C.message}):(y({title:"Banner atualizado!"}),i(!1),l(null),u(""),v())},j=async N=>{if(!confirm("Tem certeza que deseja excluir este banner?"))return;const{error:C}=await Ec.from("banners").delete().eq("id",N);C?y({variant:"destructive",title:"Erro ao excluir banner",description:C.message}):(y({title:"Banner excludo!"}),i(!1),l(null),u(""),v())},S=async(N,C)=>{const E=r.findIndex(k=>k.id===N);if(E===-1)return;const A=C==="up"?E-1:E+1;if(A<0||A>=r.length)return;const O=[...r];[O[E],O[A]]=[O[A],O[E]];const P=O.map(async(k,I)=>{if(I===E||I===A){const{error:M}=await Ec.from("banners").update({order:I+1}).eq("id",k.id);if(M)throw M}});try{await Promise.all(P),v(),y({title:"Ordem do banner atualizada!"})}catch(k){y({variant:"destructive",title:"Erro ao reordenar banner",description:k.message})}},_=async()=>{if(!(m!=null&&m.store_id))return;const{error:N}=await Ec.from("stores").update({monitor_slideshow_delay:h.slideshowDelay,monitor_idle_timeout_seconds:h.idleTimeoutSeconds,monitor_fullscreen_slideshow:h.fullscreenSlideshow}).eq("id",m.store_id);N?y({variant:"destructive",title:"Erro ao salvar configuraes do monitor",description:N.message}):(y({title:"Configuraes do monitor salvas!",description:"As alteraes foram aplicadas com sucesso."}),v())};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(n3,{className:"h-8 w-8 text-primary"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Marketing"}),s.jsx("p",{className:"text-muted-foreground",children:"Gerencie banners, promoes e comunicao com clientes."})]})]}),s.jsxs(ve,{className:"shadow-soft",children:[s.jsxs(je,{children:[s.jsxs(Se,{className:"flex items-center gap-2",children:[s.jsx(t3,{className:"h-5 w-5"}),"Gerenciamento de Banners"]}),s.jsx(Jt,{children:"Adicione e organize as imagens que aparecero no topo da loja online e totem."})]}),s.jsxs(ye,{className:"space-y-6",children:[s.jsxs("form",{onSubmit:x,className:"space-y-4 border-b pb-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"bannerUrl",children:"URL da Imagem do Banner"}),s.jsx(ne,{id:"bannerUrl",type:"url",value:e,onChange:N=>t(N.target.value),placeholder:"https://exemplo.com/banner-promocional.jpg",required:!0}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Use URLs de imagens hospedadas (ex: Supabase Storage, Imgur, etc.)."})]}),s.jsxs(B,{type:"submit",className:"w-full",children:[s.jsx(xr,{className:"h-4 w-4 mr-2"}),"Adicionar Banner"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(B,{variant:"outline",className:"w-full",onClick:()=>f(!0),children:[s.jsx(Ny,{className:"h-4 w-4 mr-2"}),"Configurar Banners (",r.length,")"]}),s.jsx("p",{className:"text-sm text-muted-foreground text-center",children:r.length===0?"Nenhum banner cadastrado.":`${r.length} ${r.length===1?"banner ativo":"banners ativos"}`})]})]})]}),s.jsx(St,{open:d,onOpenChange:f,children:s.jsxs(xt,{className:"sm:max-w-[600px]",children:[s.jsx(bt,{children:s.jsxs(wt,{children:["Banners Ativos (",r.length,")"]})}),s.jsx("div",{className:"space-y-3 py-4 max-h-[60vh] overflow-y-auto",children:r.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Nenhum banner cadastrado."}):r.map((N,C)=>s.jsxs("div",{className:"flex items-center gap-4 p-3 bg-accent rounded-lg border border-border",children:[s.jsx("div",{className:"w-16 h-16 flex-shrink-0 overflow-hidden rounded-md",children:s.jsx("img",{src:N.url,alt:`Banner ${C+1}`,className:"w-full h-full object-cover",onError:E=>{E.currentTarget.src="/placeholder.svg"}})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("p",{className:"font-medium truncate",children:["Banner #",C+1]}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:N.url})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx(B,{variant:"outline",size:"icon",className:"h-6 w-6 p-0",onClick:()=>S(N.id,"up"),disabled:C===0,children:s.jsx(SK,{className:"h-3 w-3"})}),s.jsx(B,{variant:"outline",size:"icon",className:"h-6 w-6 p-0",onClick:()=>S(N.id,"down"),disabled:C===r.length-1,children:s.jsx(wK,{className:"h-3 w-3"})})]}),s.jsx(B,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>b(N),children:s.jsx(Ny,{className:"h-4 w-4"})})]})]},N.id))})]})}),s.jsx(St,{open:a,onOpenChange:i,children:s.jsxs(xt,{children:[s.jsx(bt,{children:s.jsx(wt,{children:"Editar Banner"})}),o&&s.jsxs("form",{onSubmit:w,className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"editBannerUrl",children:"URL da Imagem"}),s.jsx(ne,{id:"editBannerUrl",type:"url",value:c,onChange:N=>u(N.target.value),required:!0})]}),s.jsxs(Lr,{className:"flex flex-col sm:flex-row sm:justify-between gap-2 pt-4",children:[s.jsxs(B,{type:"button",variant:"destructive",onClick:()=>j(o.id),children:[s.jsx(qr,{className:"h-4 w-4 mr-2"}),"Excluir Banner"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(B,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancelar"}),s.jsx(B,{type:"submit",children:"Salvar Alteraes"})]})]})]})]})}),s.jsxs(ve,{className:"shadow-soft",children:[s.jsxs(je,{children:[s.jsxs(Se,{className:"flex items-center gap-2",children:[s.jsx(Ny,{className:"h-5 w-5"}),"Configuraes do Monitor"]}),s.jsx(Jt,{children:"Ajuste como o slideshow de banners se comporta no monitor de pedidos."})]}),s.jsxs(ye,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"slideshowDelay",children:"Tempo de Durao do Slide (segundos)"}),s.jsx(ne,{id:"slideshowDelay",type:"number",min:"1",value:h.slideshowDelay/1e3,onChange:N=>p({...h,slideshowDelay:parseInt(N.target.value)*1e3})}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Tempo que cada banner ficar visvel antes de mudar para o prximo."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"idleTimeoutSeconds",children:"Tempo de Inatividade para Slideshow (segundos)"}),s.jsx(ne,{id:"idleTimeoutSeconds",type:"number",min:"0",value:h.idleTimeoutSeconds,onChange:N=>p({...h,idleTimeoutSeconds:parseInt(N.target.value)})}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Tempo sem novos pedidos para o monitor comear a exibir o slideshow. Defina como 0 para sempre exibir pedidos."})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-accent rounded-lg",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(V,{htmlFor:"fullscreenSlideshow",children:"Slideshow em Tela Cheia"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Quando o slideshow estiver ativo, ele ocupar a tela inteira."})]}),s.jsx(cr,{id:"fullscreenSlideshow",checked:h.fullscreenSlideshow,onCheckedChange:N=>p({...h,fullscreenSlideshow:N})})]}),s.jsx(B,{onClick:_,className:"w-full shadow-soft",children:"Salvar Configuraes do Monitor"})]})]})]})}const Pc=ke,XT=e=>{const t=e.split("-");if(t.length===3){const[r,n,a]=t;return`${a}/${n}/${r}`}return e},QT={pending:{bg:"bg-[#C3D3E2]",text:"text-gray-800",border:"border-[#C3D3E2]"},preparing:{bg:"bg-[#FFEB99]",text:"text-yellow-900",border:"border-[#FFEB99]"},ready:{bg:"bg-[#B2E5B2]",text:"text-green-900",border:"border-[#B2E5B2]"},delivered:{bg:"bg-green-500",text:"text-white",border:"border-green-500"},cancelled:{bg:"bg-gray-300",text:"text-gray-800",border:"border-gray-300"}},JT={pending:"Aguardando",preparing:"Em Preparo",ready:"Pronto",delivered:"Entregue",cancelled:"Cancelado"};function ZT(){const{slug:e}=tP(),[t,r]=g.useState(null),[n,a]=g.useState("Monitor de Pedidos"),[i,o]=g.useState(null),[l,c]=g.useState([]),[u,d]=g.useState([]),[f,h]=g.useState([]),{toast:p}=dr(),{notify:y,isEnabled:m,toggleSound:v,preloadSound:x}=zP(),{activeFlow:b,loading:w}=Sv(),[j,S]=g.useState(!1),[_,N]=g.useState(()=>{const q=localStorage.getItem("monitor_showOnlyActiveCash");return q?JSON.parse(q):!1}),[C,E]=g.useState(null),[A,O]=g.useState({slideshowDelay:5e3,idleTimeoutSeconds:30,fullscreenSlideshow:!1}),[P,k]=g.useState(!1),[I,M]=g.useState(Date.now()),[L,$]=vc({loop:!0});g.useEffect(()=>{if(!$||!P||f.length===0)return;const U=setInterval(()=>{$.scrollNext()},A.slideshowDelay);return()=>clearInterval(U)},[$,P,f.length,A.slideshowDelay]),g.useEffect(()=>{if(u.length>0){const q=setTimeout(()=>{d(U=>U.slice(1))},1e4);return()=>clearTimeout(q)}},[u]),g.useEffect(()=>{x()},[x]),g.useEffect(()=>{t&&(async()=>{if(!t)return;const{data:U}=await Pc.from("cash_register").select("id").eq("store_id",t).is("closed_at",null).maybeSingle();U&&E(U.id)})()},[t]),g.useEffect(()=>{localStorage.setItem("monitor_showOnlyActiveCash",JSON.stringify(_))},[_]),g.useEffect(()=>{T()},[e]),g.useEffect(()=>{t&&(H(),re())},[t]),g.useEffect(()=>{let q=null;const U=A.idleTimeoutSeconds*1e3;return U>0?q=setTimeout(()=>{k(!0),console.log(`Monitor: Entrando em modo ocioso aps ${A.idleTimeoutSeconds}s.`)},U):k(!1),()=>{q&&(clearTimeout(q),console.log("Monitor: Timer de ociosidade resetado/limpo."))}},[I,A.idleTimeoutSeconds]);const D=P&&f.length>0;console.log("Monitor: showSlideshow:",D),g.useEffect(()=>{if(t&&!w&&b.length>0){J();const q=Pc.channel("orders-changes-monitor").on("postgres_changes",{event:"*",schema:"public",table:"orders",filter:`store_id=eq.${t}`},U=>{if(console.log("Monitor: Realtime event received!",U),M(Date.now()),k(!1),U.eventType==="INSERT"){const ae=U.new;(ae.source==="whatsapp"||ae.source==="totem"||ae.source==="loja_online")&&(y(),d(z=>[...z,ae.id])),setTimeout(()=>{J()},100)}else U.eventType==="UPDATE"&&J()}).subscribe();return()=>{Pc.removeChannel(q)}}},[t,w,b,y,_,C]);const T=async()=>{let q=Pc.from("stores").select("id, name, display_name, image_url, monitor_slideshow_delay, monitor_idle_timeout_seconds, monitor_fullscreen_slideshow");if(e)q=q.eq("slug",e);else{p({variant:"destructive",title:"Loja no especificada",description:"Por favor, acesse o monitor com a URL da loja (ex: /monitor/minha-loja)."});return}const{data:U,error:ae}=await q.maybeSingle();if(ae||!U){p({variant:"destructive",title:"Loja no encontrada",description:e?"Esta URL de loja no existe":"Nenhuma loja disponvel"}),r(null);return}r(U.id),a(U.display_name||U.name),o(U.image_url||null),O({slideshowDelay:U.monitor_slideshow_delay||5e3,idleTimeoutSeconds:U.monitor_idle_timeout_seconds||30,fullscreenSlideshow:U.monitor_fullscreen_slideshow||!1})},H=async()=>{if(!t){console.log("Monitor: loadBanners skipped, storeId is null.");return}const{data:q,error:U}=await Pc.from("banners").select("id, url, order").eq("store_id",t).order("order",{ascending:!0});U?(console.error("Monitor: Erro ao carregar banners:",U.message),p({variant:"destructive",title:"Erro ao carregar banners",description:U.message})):(console.log("Monitor: Banners carregados:",q),h(q||[]))},re=async()=>{if(!t)return;const{data:q,error:U}=await Pc.from("stores").select("monitor_slideshow_delay, monitor_idle_timeout_seconds, monitor_fullscreen_slideshow").eq("id",t).single();U?console.error("Erro ao carregar configuraes do monitor:",U.message):q&&O({slideshowDelay:q.monitor_slideshow_delay||5e3,idleTimeoutSeconds:q.monitor_idle_timeout_seconds||30,fullscreenSlideshow:q.monitor_fullscreen_slideshow||!1})},J=async()=>{if(!t||b.length===0)return;const q=b;if(q.length===0){c([]);return}let U=Pc.from("orders").select(`
        *,
        customers (
          name,
          phone
        ),
        order_items (
          product_id,
          product_name,
          quantity,
          variation_name,
          product_price,
          subtotal
        )
      `).eq("store_id",t).in("status",q);_&&C&&(U=U.eq("cash_register_id",C));const{data:ae,error:z}=await U.order("created_at",{ascending:!1});z?p({variant:"destructive",title:"Erro ao carregar pedidos",description:z.message}):c(ae||[])},le=q=>{const U=JT[q]||q,ae=QT[q]||QT.pending;return s.jsx(kn,{className:`${ae.bg} ${ae.text} border ${ae.border}`,variant:"outline",children:U})},Z=b.map(q=>({status_key:q,status_label:JT[q]||q})),we=q=>l.filter(U=>U.status===q),oe=q=>({pending:Qs,preparing:Bu,ready:Gi,delivered:Gi,cancelled:Yl})[q]||Qs;return t?D?s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-black",onClick:()=>{k(!1),M(Date.now())},children:f.length>0?s.jsx("div",{className:"embla w-full h-screen",children:s.jsx("div",{className:"embla__viewport h-full",ref:L,children:s.jsx("div",{className:"embla__container flex h-full",children:f.map(q=>s.jsx("div",{className:"embla__slide flex-none w-full h-full",children:s.jsx("img",{src:q.url,alt:`Banner ${q.order}`,className:"w-full h-full object-cover",onError:U=>{U.currentTarget.src="/placeholder.svg",U.currentTarget.style.objectFit="contain",U.currentTarget.style.backgroundColor="#000"}})},q.id))})})}):s.jsxs(ve,{className:"w-full max-w-md shadow-xl text-center bg-background",children:[s.jsxs(je,{children:[s.jsx(pf,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),s.jsx(Se,{className:"text-2xl",children:"Nenhum Pedido Ativo"}),s.jsx("p",{className:"text-muted-foreground",children:"Aguardando novos pedidos."})]}),s.jsx(ye,{children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"Adicione banners na pgina de Marketing para exibir promoes aqui."})})]})}):s.jsxs("div",{className:"flex flex-col h-screen bg-background",children:[s.jsx("div",{className:"sticky top-0 bg-background z-10 p-6 -mx-6 -mt-6 border-b shadow-sm",children:s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[i&&s.jsx("img",{src:i,alt:`${n} logo`,className:"h-12 object-contain"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:n}),s.jsx("p",{className:"text-muted-foreground",children:"Monitor de Pedidos"})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(z6,{}),s.jsxs(B,{variant:"outline",size:"sm",onClick:()=>S(!0),className:"flex items-center gap-2",children:[s.jsx(qu,{className:"h-4 w-4"}),"Configuraes"]})]})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto pt-6",children:s.jsx("div",{className:`grid grid-cols-1 gap-6 ${Z.length===1?"lg:grid-cols-1":Z.length===2?"lg:grid-cols-2":"lg:grid-cols-3"}`,children:Z.map(q=>{const U=oe(q.status_key),ae=we(q.status_key);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(U,{className:"h-5 w-5 text-primary"}),s.jsxs("h2",{className:"text-xl font-semibold",children:[q.status_label," (",ae.length,")"]})]}),ae.length>0?ae.map(z=>{var xe;const W=u.includes(z.id),ge=((xe=z.customers)==null?void 0:xe.name)||z.customer_name||"Cliente Annimo",me=z.pickup_time,be=!!z.reservation_date,X=z.reservation_date?XT(z.reservation_date).substring(0,5):null,ee=[ge,me,be&&X?X:null].filter(Boolean).join(" | ");return s.jsxs(ve,{className:"shadow-soft relative transition-shadow hover:shadow-medium",children:[W&&s.jsx("div",{className:"absolute -top-1 -right-1 z-50 text-4xl animate-bounce",style:{filter:"drop-shadow(0 0 8px rgba(255, 0, 0, 0.5))",animation:"pulse 1s cubic-bezier(0.4, 0, 0.6, 1) infinite"},children:""}),s.jsx("div",{className:"bg-gray-200 dark:bg-gray-800 text-gray-800 dark:text-gray-200 text-center py-2 rounded-t-lg font-bold text-sm",children:ee}),s.jsxs(je,{className:"pb-3",children:[s.jsxs(Se,{className:"flex items-center justify-between text-base",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:z.order_number}),s.jsxs(St,{children:[s.jsx(Ki,{asChild:!0,children:s.jsx(B,{variant:"ghost",size:"icon",className:"h-6 w-6",children:s.jsx(TE,{className:"h-4 w-4"})})}),s.jsxs(xt,{children:[s.jsx(bt,{children:s.jsx(wt,{children:"Detalhes do Pedido"})}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Pedido:"})," ",z.order_number]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Origem:"})," ",z.source.charAt(0).toUpperCase()+z.source.slice(1)]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Pagamento:"})," ",z.payment_method]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Total:"})," R$ ",z.total.toFixed(2)]}),z.customers&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Cliente:"})," ",z.customers.name]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Telefone:"})," ",z.customers.phone]})]}),z.delivery&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Entrega:"})," Sim"]}),z.delivery_address&&s.jsxs("div",{children:[s.jsx("strong",{children:"Endereo:"})," ",z.delivery_address,", ",z.delivery_number]}),z.delivery_reference&&s.jsxs("div",{children:[s.jsx("strong",{children:"Referncia:"})," ",z.delivery_reference]})]}),!z.delivery&&(z.pickup_time||z.reservation_date)&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Retirada:"})," Sim"]}),z.pickup_time&&s.jsxs("div",{children:[s.jsx("strong",{children:"Horrio:"})," ",z.pickup_time]}),z.reservation_date&&s.jsxs("div",{children:[s.jsx("strong",{children:"Data da Reserva:"})," ",XT(z.reservation_date)]})]}),s.jsxs("div",{className:"pt-2 border-t",children:[s.jsx("strong",{children:"Itens:"}),z.order_items.map((he,Ae)=>{const Ce=he.product_price===0&&he.subtotal===0;return s.jsxs("div",{className:"flex justify-between mt-1",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[he.product_name," ",he.variation_name&&`(${he.variation_name})`,Ce&&s.jsx(Kn,{className:"h-3 w-3 text-purple-600 fill-purple-600","aria-label":"Resgatado com pontos"})]}),s.jsxs("span",{className:"font-medium",children:["x",he.quantity]})]},Ae)})]})]})]})]})]}),le(z.status)]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:ge})]}),s.jsx(ye,{className:"space-y-3",children:s.jsx("div",{className:"text-sm space-y-1",children:z.order_items.map((he,Ae)=>{const Ce=he.product_price===0&&he.subtotal===0;return s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[he.product_name," ",he.variation_name&&`(${he.variation_name})`,Ce&&s.jsx(Kn,{className:"h-3 w-3 text-purple-600 fill-purple-600","aria-label":"Resgatado com pontos"})]}),s.jsxs("span",{className:"font-medium",children:["x",he.quantity]})]},Ae)})})})]},z.id)}):s.jsx("div",{className:"text-center text-muted-foreground py-8",children:"Nenhum pedido neste status."})]},q.status_key)})})}),s.jsx(St,{open:j,onOpenChange:S,children:s.jsxs(xt,{className:"sm:max-w-[425px]",children:[s.jsx(bt,{children:s.jsx(wt,{children:"Configuraes do Monitor"})}),s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("label",{className:"text-sm font-medium",children:"Notificao Sonora"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Tocar som quando novos pedidos chegarem"})]}),s.jsx(cr,{checked:m,onCheckedChange:q=>{v(q),q&&y()}})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("label",{className:"text-sm font-medium",children:"Filtrar por Caixa Ativo"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:C?"Mostrar apenas pedidos do caixa aberto":"Nenhum caixa aberto no momento"})]}),s.jsx(cr,{checked:_,onCheckedChange:N,disabled:!C})]})]})]})})]}):s.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 bg-gradient-to-br from-primary/5 to-primary/10",children:s.jsx(ve,{className:"w-full max-w-md shadow-xl",children:s.jsxs(je,{children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(pf,{className:"h-24 w-24 text-destructive"})}),s.jsx(Se,{className:"text-2xl text-center",children:"Loja No Encontrada"}),s.jsx("p",{className:"text-center text-muted-foreground",children:"Verifique a URL. O monitor deve ser acessado com o slug da loja (ex: /monitor/minha-loja)."})]})})})}const Ep=ke;function nue(){const{isAdmin:e}=Gt(),{toast:t}=dr(),[r,n]=g.useState({is_subscription_active:!1,monthly_price:0,annual_price:0}),[a,i]=g.useState(!0);g.useEffect(()=>{e&&o()},[e]);const o=async()=>{i(!0);const{data:c,error:u}=await Ep.from("system_settings").select("is_subscription_active, monthly_price, annual_price").limit(1).maybeSingle();if(u)console.error("Erro ao carregar configuraes de assinatura:",u),t({variant:"destructive",title:"Erro ao carregar configuraes",description:u.message});else if(c)n(c);else{const{data:d,error:f}=await Ep.from("system_settings").insert({is_subscription_active:!1,monthly_price:0,annual_price:0}).select("is_subscription_active, monthly_price, annual_price").single();f?(console.error("Erro ao inserir configuraes padro:",f),t({variant:"destructive",title:"Erro",description:"No foi possvel inicializar as configuraes de assinatura."})):n(d)}i(!1)},l=async()=>{if(!e){t({variant:"destructive",title:"Permisso negada",description:"Voc no tem permisso para salvar estas configuraes."});return}const{error:c}=await Ep.from("system_settings").update({is_subscription_active:r.is_subscription_active,monthly_price:r.monthly_price,annual_price:r.annual_price}).limit(1);c?t({variant:"destructive",title:"Erro ao salvar configuraes",description:c.message}):(t({title:"Configuraes de assinatura salvas!",description:"Os planos foram atualizados com sucesso."}),o())};return a?s.jsxs(ve,{className:"shadow-soft",children:[s.jsxs(je,{children:[s.jsxs(Se,{className:"flex items-center gap-2",children:[s.jsx(Fi,{className:"h-5 w-5"}),"Configuraes de Planos"]}),s.jsx(Jt,{children:"Carregando configuraes de planos de assinatura..."})]}),s.jsx(ye,{children:s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(qu,{className:"h-8 w-8 animate-spin text-primary"})})})]}):s.jsxs(ve,{className:"shadow-soft",children:[s.jsxs(je,{children:[s.jsxs(Se,{className:"flex items-center gap-2",children:[s.jsx(Fi,{className:"h-5 w-5"}),"Configuraes de Planos"]}),s.jsx(Jt,{children:"Defina os preos e ative os planos pagos do sistema."})]}),s.jsxs(ye,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-accent rounded-lg",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(V,{htmlFor:"isSubscriptionActive",children:"Ativar sistema de assinatura"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Habilita a cobrana e gesto de planos para lojistas."})]}),s.jsx(cr,{id:"isSubscriptionActive",checked:r.is_subscription_active,onCheckedChange:c=>n(u=>({...u,is_subscription_active:c}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"monthlyPrice",children:"Preo do plano Mensal (R$)"}),s.jsx(ne,{id:"monthlyPrice",type:"number",step:"0.01",min:"0",value:r.monthly_price.toFixed(2),onChange:c=>n(u=>({...u,monthly_price:parseFloat(c.target.value)||0})),placeholder:"0.00"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"annualPrice",children:"Preo do plano Anual (R$)"}),s.jsx(ne,{id:"annualPrice",type:"number",step:"0.01",min:"0",value:r.annual_price.toFixed(2),onChange:c=>n(u=>({...u,annual_price:parseFloat(c.target.value)||0})),placeholder:"0.00"})]}),s.jsx(B,{onClick:l,className:"w-full shadow-soft",children:"Salvar Configuraes"}),s.jsxs("div",{className:"pt-4 border-t space-y-2",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Status Atual dos Planos:"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:"Sistema de Assinatura:"}),r.is_subscription_active?s.jsxs(kn,{className:"bg-green-500 text-white flex items-center gap-1",children:[s.jsx(Gi,{className:"h-3 w-3"})," Ativo"]}):s.jsxs(kn,{variant:"secondary",className:"flex items-center gap-1",children:[s.jsx(Yl,{className:"h-3 w-3"})," Inativo"]})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Plano Mensal: ",s.jsxs("span",{className:"font-medium",children:["R$ ",r.monthly_price.toFixed(2)]})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Plano Anual: ",s.jsxs("span",{className:"font-medium",children:["R$ ",r.annual_price.toFixed(2)]})]})]})]})]})}function aue(){const{isAdmin:e}=Gt(),{toast:t}=dr(),[r,n]=g.useState([]),[a,i]=g.useState(!0),[o,l]=g.useState(!1),[c,u]=g.useState(null),[d,f]=g.useState(""),[h,p]=g.useState(void 0),[y,m]=g.useState(void 0),v=g.useCallback(async()=>{i(!0);const{data:w,error:j}=await Ep.from("stores").select(`
        id,
        name,
        display_name,
        subscription_plan,
        subscription_start_date,
        subscription_end_date,
        profiles (
          id,
          full_name,
          email
        )
      `).order("name",{ascending:!0});j?(console.error("Erro ao carregar lojas e usurios:",j),t({variant:"destructive",title:"Erro ao carregar lojas",description:j.message})):n(w||[]),i(!1)},[t]);g.useEffect(()=>{e&&v()},[e,v]);const x=w=>{u(w),f(w.subscription_plan||""),p(w.subscription_start_date?Er(w.subscription_start_date):void 0),m(w.subscription_end_date?Er(w.subscription_end_date):void 0),l(!0)},b=async()=>{if(!c||!d){t({variant:"destructive",title:"Erro",description:"Selecione um plano vlido."});return}if(d!=="free"){if(!h||!y){t({variant:"destructive",title:"Datas obrigatrias",description:"Para planos pagos, as datas de incio e expirao so obrigatrias."});return}if(on(h,y)||Zl(h,y)){t({variant:"destructive",title:"Data de expirao invlida",description:"A data de expirao deve ser posterior  data de incio."});return}}const{error:w}=await Ep.from("stores").update({subscription_plan:d,subscription_start_date:d!=="free"&&h?Be(h,"yyyy-MM-dd"):null,subscription_end_date:d!=="free"&&y?Be(y,"yyyy-MM-dd"):null}).eq("id",c.id);w?t({variant:"destructive",title:"Erro ao atualizar plano",description:w.message}):(t({title:"Plano atualizado!",description:`O plano da loja ${c.display_name||c.name} foi atualizado para ${d}.`}),l(!1),v())};return e?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Fi,{className:"h-8 w-8 text-primary"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Assinaturas"}),s.jsx("p",{className:"text-muted-foreground",children:"Gerencie os planos de assinatura do sistema e das lojas."})]})]}),s.jsx(nue,{})," ",s.jsxs(ve,{className:"shadow-soft",children:[s.jsxs(je,{children:[s.jsxs(Se,{className:"flex items-center gap-2",children:[s.jsx(pv,{className:"h-5 w-5"}),"Lojas e Planos Atuais"]}),s.jsx(Jt,{children:"Visualize e gerencie os planos de assinatura de cada loja."})]}),s.jsx(ye,{children:a?s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx(qu,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("p",{className:"ml-3 text-lg text-muted-foreground",children:"Carregando lojas..."})]}):s.jsxs(Ga,{children:[s.jsx(Ka,{children:s.jsxs(ur,{children:[s.jsx(yt,{children:"Loja"}),s.jsx(yt,{children:"Administrador(es)"}),s.jsx(yt,{children:"Plano"}),s.jsx(yt,{children:"Incio"}),s.jsx(yt,{children:"Expira"}),s.jsx(yt,{className:"text-right",children:"Aes"})]})}),s.jsx(Ya,{children:r.length===0?s.jsx(ur,{children:s.jsx(rt,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"Nenhuma loja encontrada."})}):r.map(w=>s.jsxs(ur,{children:[s.jsx(rt,{className:"font-medium",children:w.display_name||w.name}),s.jsx(rt,{children:w.profiles&&w.profiles.length>0?w.profiles.map(j=>s.jsxs("div",{className:"text-sm text-muted-foreground",children:[j.full_name," (",j.email,")"]},j.id)):s.jsx("span",{className:"text-muted-foreground text-sm",children:"Nenhum"})}),s.jsx(rt,{children:s.jsx(kn,{variant:w.subscription_plan==="free"?"secondary":"default",className:w.subscription_plan==="annual"?"bg-green-500 text-white":"",children:w.subscription_plan.charAt(0).toUpperCase()+w.subscription_plan.slice(1)})}),s.jsx(rt,{children:w.subscription_start_date?Be(Er(w.subscription_start_date),"dd/MM/yyyy",{locale:Tt}):"N/A"}),s.jsx(rt,{children:w.subscription_end_date?Be(Er(w.subscription_end_date),"dd/MM/yyyy",{locale:Tt}):"N/A"}),s.jsx(rt,{className:"text-right",children:s.jsxs(B,{variant:"outline",size:"sm",onClick:()=>x(w),children:[s.jsx(Tn,{className:"h-4 w-4 mr-2"}),"Alterar Plano"]})})]},w.id))})]})})]}),s.jsx(St,{open:o,onOpenChange:l,children:s.jsxs(xt,{children:[s.jsx(bt,{children:s.jsx(wt,{children:"Alterar Plano de Assinatura"})}),c&&s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Loja: ",s.jsx("span",{className:"font-medium",children:c.display_name||c.name})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"newPlan",children:"Novo Plano"}),s.jsxs(ir,{value:d,onValueChange:w=>{f(w),w==="free"&&(p(void 0),m(void 0))},children:[s.jsx(er,{id:"newPlan",children:s.jsx(sr,{placeholder:"Selecione o novo plano"})}),s.jsxs(tr,{children:[s.jsx($e,{value:"free",children:"Grtis"}),s.jsx($e,{value:"monthly",children:"Mensal"}),s.jsx($e,{value:"annual",children:"Anual"})]})]})]}),d!=="free"&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"startDate",children:"Data de Incio"}),s.jsxs(tc,{children:[s.jsx(rc,{asChild:!0,children:s.jsxs(B,{variant:"outline",className:Ee("w-full justify-start text-left font-normal",!h&&"text-muted-foreground"),children:[s.jsx(Fl,{className:"mr-2 h-4 w-4"}),h?Be(h,"dd/MM/yyyy",{locale:Tt}):"Selecione a data"]})}),s.jsx(Uo,{className:"w-auto p-0",align:"start",children:s.jsx(qo,{mode:"single",selected:h,onSelect:p,initialFocus:!0,locale:Tt})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"endDate",children:"Data de Expirao"}),s.jsxs(tc,{children:[s.jsx(rc,{asChild:!0,children:s.jsxs(B,{variant:"outline",className:Ee("w-full justify-start text-left font-normal",!y&&"text-muted-foreground"),children:[s.jsx(Fl,{className:"mr-2 h-4 w-4"}),y?Be(y,"dd/MM/yyyy",{locale:Tt}):"Selecione a data"]})}),s.jsx(Uo,{className:"w-auto p-0",align:"start",children:s.jsx(qo,{mode:"single",selected:y,onSelect:m,initialFocus:!0,locale:Tt})})]})]})]}),s.jsxs(Lr,{children:[s.jsx(B,{variant:"outline",onClick:()=>l(!1),children:"Cancelar"}),s.jsx(B,{onClick:b,children:"Salvar Plano"})]})]})]})})]}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx(ve,{children:s.jsx(ye,{className:"pt-6",children:s.jsx("p",{className:"text-muted-foreground",children:"Voc no tem permisso para acessar esta pgina."})})})})}function V1(e,t){return V1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},V1(e,t)}function FU(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,V1(e,t)}function mt(){return mt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mt.apply(null,arguments)}function pm(e){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pm(e)}function iue(e,t){if(pm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sue(e){var t=iue(e,"string");return pm(t)=="symbol"?t:t+""}function oue(e,t,r){return(t=sue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eD(Object(r),!0).forEach(function(n){oue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ra(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var rD=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),nD=function(){return Math.random().toString(36).substring(7).split("").join(".")},aD={INIT:"@@redux/INIT"+nD(),REPLACE:"@@redux/REPLACE"+nD()};function lue(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function BU(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Ra(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Ra(1));return r(BU)(e,t)}if(typeof e!="function")throw new Error(Ra(2));var a=e,i=t,o=[],l=o,c=!1;function u(){l===o&&(l=o.slice())}function d(){if(c)throw new Error(Ra(3));return i}function f(m){if(typeof m!="function")throw new Error(Ra(4));if(c)throw new Error(Ra(5));var v=!0;return u(),l.push(m),function(){if(v){if(c)throw new Error(Ra(6));v=!1,u();var b=l.indexOf(m);l.splice(b,1),o=null}}}function h(m){if(!lue(m))throw new Error(Ra(7));if(typeof m.type>"u")throw new Error(Ra(8));if(c)throw new Error(Ra(9));try{c=!0,i=a(i,m)}finally{c=!1}for(var v=o=l,x=0;x<v.length;x++){var b=v[x];b()}return m}function p(m){if(typeof m!="function")throw new Error(Ra(10));a=m,h({type:aD.REPLACE})}function y(){var m,v=f;return m={subscribe:function(b){if(typeof b!="object"||b===null)throw new Error(Ra(11));function w(){b.next&&b.next(d())}w();var j=v(w);return{unsubscribe:j}}},m[rD]=function(){return this},m}return h({type:aD.INIT}),n={dispatch:h,subscribe:f,getState:d,replaceReducer:p},n[rD]=y,n}function iD(e,t){return function(){return t(e.apply(this,arguments))}}function sD(e,t){if(typeof e=="function")return iD(e,t);if(typeof e!="object"||e===null)throw new Error(Ra(16));var r={};for(var n in e){var a=e[n];typeof a=="function"&&(r[n]=iD(a,t))}return r}function qU(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,a){return function(){return n(a.apply(void 0,arguments))}})}function cue(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var a=n.apply(void 0,arguments),i=function(){throw new Error(Ra(15))},o={getState:a.getState,dispatch:function(){return i.apply(void 0,arguments)}},l=t.map(function(c){return c(o)});return i=qU.apply(void 0,l)(a.dispatch),tD(tD({},a),{},{dispatch:i})}}}var UU={exports:{}},uue="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",due=uue,fue=due;function zU(){}function WU(){}WU.resetWarningCache=zU;var hue=function(){function e(n,a,i,o,l,c){if(c!==fue){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:WU,resetWarningCache:zU};return r.PropTypes=r,r};UU.exports=hue();var pue=UU.exports;const Cr=Sr(pue);var VU=R.createContext(null);function mue(e){e()}var HU=mue,vue=function(t){return HU=t},gue=function(){return HU};function yue(){var e=gue(),t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e(function(){for(var a=t;a;)a.callback(),a=a.next})},get:function(){for(var a=[],i=t;i;)a.push(i),i=i.next;return a},subscribe:function(a){var i=!0,o=r={callback:a,next:null,prev:r};return o.prev?o.prev.next=o:t=o,function(){!i||t===null||(i=!1,o.next?o.next.prev=o.prev:r=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}var oD={notify:function(){},get:function(){return[]}};function GU(e,t){var r,n=oD;function a(f){return c(),n.subscribe(f)}function i(){n.notify()}function o(){d.onStateChange&&d.onStateChange()}function l(){return!!r}function c(){r||(r=t?t.addNestedSub(o):e.subscribe(o),n=yue())}function u(){r&&(r(),r=void 0,n.clear(),n=oD)}var d={addNestedSub:a,notifyNestedSubs:i,handleChangeWrapper:o,isSubscribed:l,trySubscribe:c,tryUnsubscribe:u,getListeners:function(){return n}};return d}var KU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?g.useLayoutEffect:g.useEffect;function xue(e){var t=e.store,r=e.context,n=e.children,a=g.useMemo(function(){var l=GU(t);return{store:t,subscription:l}},[t]),i=g.useMemo(function(){return t.getState()},[t]);KU(function(){var l=a.subscription;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),i!==t.getState()&&l.notifyNestedSubs(),function(){l.tryUnsubscribe(),l.onStateChange=null}},[a,i]);var o=r||VU;return R.createElement(o.Provider,{value:a},n)}function Cx(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var YU={exports:{}},Dr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jn=typeof Symbol=="function"&&Symbol.for,YP=Jn?Symbol.for("react.element"):60103,XP=Jn?Symbol.for("react.portal"):60106,T0=Jn?Symbol.for("react.fragment"):60107,D0=Jn?Symbol.for("react.strict_mode"):60108,I0=Jn?Symbol.for("react.profiler"):60114,R0=Jn?Symbol.for("react.provider"):60109,$0=Jn?Symbol.for("react.context"):60110,QP=Jn?Symbol.for("react.async_mode"):60111,M0=Jn?Symbol.for("react.concurrent_mode"):60111,L0=Jn?Symbol.for("react.forward_ref"):60112,F0=Jn?Symbol.for("react.suspense"):60113,bue=Jn?Symbol.for("react.suspense_list"):60120,B0=Jn?Symbol.for("react.memo"):60115,q0=Jn?Symbol.for("react.lazy"):60116,wue=Jn?Symbol.for("react.block"):60121,jue=Jn?Symbol.for("react.fundamental"):60117,Sue=Jn?Symbol.for("react.responder"):60118,_ue=Jn?Symbol.for("react.scope"):60119;function Ei(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case YP:switch(e=e.type,e){case QP:case M0:case T0:case I0:case D0:case F0:return e;default:switch(e=e&&e.$$typeof,e){case $0:case L0:case q0:case B0:case R0:return e;default:return t}}case XP:return t}}}function XU(e){return Ei(e)===M0}Dr.AsyncMode=QP;Dr.ConcurrentMode=M0;Dr.ContextConsumer=$0;Dr.ContextProvider=R0;Dr.Element=YP;Dr.ForwardRef=L0;Dr.Fragment=T0;Dr.Lazy=q0;Dr.Memo=B0;Dr.Portal=XP;Dr.Profiler=I0;Dr.StrictMode=D0;Dr.Suspense=F0;Dr.isAsyncMode=function(e){return XU(e)||Ei(e)===QP};Dr.isConcurrentMode=XU;Dr.isContextConsumer=function(e){return Ei(e)===$0};Dr.isContextProvider=function(e){return Ei(e)===R0};Dr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===YP};Dr.isForwardRef=function(e){return Ei(e)===L0};Dr.isFragment=function(e){return Ei(e)===T0};Dr.isLazy=function(e){return Ei(e)===q0};Dr.isMemo=function(e){return Ei(e)===B0};Dr.isPortal=function(e){return Ei(e)===XP};Dr.isProfiler=function(e){return Ei(e)===I0};Dr.isStrictMode=function(e){return Ei(e)===D0};Dr.isSuspense=function(e){return Ei(e)===F0};Dr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===T0||e===M0||e===I0||e===D0||e===F0||e===bue||typeof e=="object"&&e!==null&&(e.$$typeof===q0||e.$$typeof===B0||e.$$typeof===R0||e.$$typeof===$0||e.$$typeof===L0||e.$$typeof===jue||e.$$typeof===Sue||e.$$typeof===_ue||e.$$typeof===wue)};Dr.typeOf=Ei;YU.exports=Dr;var Nue=YU.exports,JP=Nue,Cue={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Eue={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Pue={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},QU={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ZP={};ZP[JP.ForwardRef]=Pue;ZP[JP.Memo]=QU;function lD(e){return JP.isMemo(e)?QU:ZP[e.$$typeof]||Cue}var Oue=Object.defineProperty,Aue=Object.getOwnPropertyNames,cD=Object.getOwnPropertySymbols,kue=Object.getOwnPropertyDescriptor,Tue=Object.getPrototypeOf,uD=Object.prototype;function JU(e,t,r){if(typeof t!="string"){if(uD){var n=Tue(t);n&&n!==uD&&JU(e,n,r)}var a=Aue(t);cD&&(a=a.concat(cD(t)));for(var i=lD(e),o=lD(t),l=0;l<a.length;++l){var c=a[l];if(!Eue[c]&&!(r&&r[c])&&!(o&&o[c])&&!(i&&i[c])){var u=kue(t,c);try{Oue(e,c,u)}catch{}}}}return e}var Due=JU;const dD=Sr(Due);var ZU={exports:{}},zr={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U0=60103,z0=60106,Cv=60107,Ev=60108,Pv=60114,Ov=60109,Av=60110,kv=60112,Tv=60113,eO=60120,Dv=60115,Iv=60116,ez=60121,tz=60122,rz=60117,nz=60129,az=60131;if(typeof Symbol=="function"&&Symbol.for){var ea=Symbol.for;U0=ea("react.element"),z0=ea("react.portal"),Cv=ea("react.fragment"),Ev=ea("react.strict_mode"),Pv=ea("react.profiler"),Ov=ea("react.provider"),Av=ea("react.context"),kv=ea("react.forward_ref"),Tv=ea("react.suspense"),eO=ea("react.suspense_list"),Dv=ea("react.memo"),Iv=ea("react.lazy"),ez=ea("react.block"),tz=ea("react.server.block"),rz=ea("react.fundamental"),nz=ea("react.debug_trace_mode"),az=ea("react.legacy_hidden")}function Os(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case U0:switch(e=e.type,e){case Cv:case Pv:case Ev:case Tv:case eO:return e;default:switch(e=e&&e.$$typeof,e){case Av:case kv:case Iv:case Dv:case Ov:return e;default:return t}}case z0:return t}}}var Iue=Ov,Rue=U0,$ue=kv,Mue=Cv,Lue=Iv,Fue=Dv,Bue=z0,que=Pv,Uue=Ev,zue=Tv;zr.ContextConsumer=Av;zr.ContextProvider=Iue;zr.Element=Rue;zr.ForwardRef=$ue;zr.Fragment=Mue;zr.Lazy=Lue;zr.Memo=Fue;zr.Portal=Bue;zr.Profiler=que;zr.StrictMode=Uue;zr.Suspense=zue;zr.isAsyncMode=function(){return!1};zr.isConcurrentMode=function(){return!1};zr.isContextConsumer=function(e){return Os(e)===Av};zr.isContextProvider=function(e){return Os(e)===Ov};zr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===U0};zr.isForwardRef=function(e){return Os(e)===kv};zr.isFragment=function(e){return Os(e)===Cv};zr.isLazy=function(e){return Os(e)===Iv};zr.isMemo=function(e){return Os(e)===Dv};zr.isPortal=function(e){return Os(e)===z0};zr.isProfiler=function(e){return Os(e)===Pv};zr.isStrictMode=function(e){return Os(e)===Ev};zr.isSuspense=function(e){return Os(e)===Tv};zr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Cv||e===Pv||e===nz||e===Ev||e===Tv||e===eO||e===az||typeof e=="object"&&e!==null&&(e.$$typeof===Iv||e.$$typeof===Dv||e.$$typeof===Ov||e.$$typeof===Av||e.$$typeof===kv||e.$$typeof===rz||e.$$typeof===ez||e[0]===tz)};zr.typeOf=Os;ZU.exports=zr;var Wue=ZU.exports,Vue=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],Hue=["reactReduxForwardedRef"],Gue=[],Kue=[null,null];function Yue(e,t){var r=e[1];return[t.payload,r+1]}function fD(e,t,r){KU(function(){return e.apply(void 0,t)},r)}function Xue(e,t,r,n,a,i,o){e.current=n,t.current=a,r.current=!1,i.current&&(i.current=null,o())}function Que(e,t,r,n,a,i,o,l,c,u){if(e){var d=!1,f=null,h=function(){if(!d){var m=t.getState(),v,x;try{v=n(m,a.current)}catch(b){x=b,f=b}x||(f=null),v===i.current?o.current||c():(i.current=v,l.current=v,o.current=!0,u({type:"STORE_UPDATED",payload:{error:x}}))}};r.onStateChange=h,r.trySubscribe(),h();var p=function(){if(d=!0,r.tryUnsubscribe(),r.onStateChange=null,f)throw f};return p}}var Jue=function(){return[null,0]};function Zue(e,t){t===void 0&&(t={});var r=t,n=r.getDisplayName,a=n===void 0?function(w){return"ConnectAdvanced("+w+")"}:n,i=r.methodName,o=i===void 0?"connectAdvanced":i,l=r.renderCountProp,c=l===void 0?void 0:l,u=r.shouldHandleStateChanges,d=u===void 0?!0:u,f=r.storeKey,h=f===void 0?"store":f;r.withRef;var p=r.forwardRef,y=p===void 0?!1:p,m=r.context,v=m===void 0?VU:m,x=Cx(r,Vue),b=v;return function(j){var S=j.displayName||j.name||"Component",_=a(S),N=mt({},x,{getDisplayName:a,methodName:o,renderCountProp:c,shouldHandleStateChanges:d,storeKey:h,displayName:_,wrappedComponentName:S,WrappedComponent:j}),C=x.pure;function E(I){return e(I.dispatch,N)}var A=C?g.useMemo:function(I){return I()};function O(I){var M=g.useMemo(function(){var he=I.reactReduxForwardedRef,Ae=Cx(I,Hue);return[I.context,he,Ae]},[I]),L=M[0],$=M[1],D=M[2],T=g.useMemo(function(){return L&&L.Consumer&&Wue.isContextConsumer(R.createElement(L.Consumer,null))?L:b},[L,b]),H=g.useContext(T),re=!!I.store&&!!I.store.getState&&!!I.store.dispatch;H&&H.store;var J=re?I.store:H.store,le=g.useMemo(function(){return E(J)},[J]),te=g.useMemo(function(){if(!d)return Kue;var he=GU(J,re?null:H.subscription),Ae=he.notifyNestedSubs.bind(he);return[he,Ae]},[J,re,H]),Z=te[0],we=te[1],oe=g.useMemo(function(){return re?H:mt({},H,{subscription:Z})},[re,H,Z]),q=g.useReducer(Yue,Gue,Jue),U=q[0],ae=U[0],z=q[1];if(ae&&ae.error)throw ae.error;var W=g.useRef(),ge=g.useRef(D),me=g.useRef(),be=g.useRef(!1),X=A(function(){return me.current&&D===ge.current?me.current:le(J.getState(),D)},[J,ae,D]);fD(Xue,[ge,W,be,D,X,me,we]),fD(Que,[d,J,Z,le,ge,W,be,me,we,z],[J,Z,le]);var ee=g.useMemo(function(){return R.createElement(j,mt({},X,{ref:$}))},[$,j,X]),xe=g.useMemo(function(){return d?R.createElement(T.Provider,{value:oe},ee):ee},[T,ee,oe]);return xe}var P=C?R.memo(O):O;if(P.WrappedComponent=j,P.displayName=O.displayName=_,y){var k=R.forwardRef(function(M,L){return R.createElement(P,mt({},M,{reactReduxForwardedRef:L}))});return k.displayName=_,k.WrappedComponent=j,dD(k,j)}return dD(P,j)}}function hD(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function oS(e,t){if(hD(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!hD(e[r[a]],t[r[a]]))return!1;return!0}function ede(e,t){var r={},n=function(o){var l=e[o];typeof l=="function"&&(r[o]=function(){return t(l.apply(void 0,arguments))})};for(var a in e)n(a);return r}function tO(e){return function(r,n){var a=e(r,n);function i(){return a}return i.dependsOnOwnProps=!1,i}}function pD(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function iz(e,t){return function(n,a){a.displayName;var i=function(l,c){return i.dependsOnOwnProps?i.mapToProps(l,c):i.mapToProps(l)};return i.dependsOnOwnProps=!0,i.mapToProps=function(l,c){i.mapToProps=e,i.dependsOnOwnProps=pD(e);var u=i(l,c);return typeof u=="function"&&(i.mapToProps=u,i.dependsOnOwnProps=pD(u),u=i(l,c)),u},i}}function tde(e){return typeof e=="function"?iz(e):void 0}function rde(e){return e?void 0:tO(function(t){return{dispatch:t}})}function nde(e){return e&&typeof e=="object"?tO(function(t){return ede(e,t)}):void 0}const ade=[tde,rde,nde];function ide(e){return typeof e=="function"?iz(e):void 0}function sde(e){return e?void 0:tO(function(){return{}})}const ode=[ide,sde];function lde(e,t,r){return mt({},r,e,t)}function cde(e){return function(r,n){n.displayName;var a=n.pure,i=n.areMergedPropsEqual,o=!1,l;return function(u,d,f){var h=e(u,d,f);return o?(!a||!i(h,l))&&(l=h):(o=!0,l=h),l}}}function ude(e){return typeof e=="function"?cde(e):void 0}function dde(e){return e?void 0:function(){return lde}}const fde=[ude,dde];var hde=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function pde(e,t,r,n){return function(i,o){return r(e(i,o),t(n,o),o)}}function mde(e,t,r,n,a){var i=a.areStatesEqual,o=a.areOwnPropsEqual,l=a.areStatePropsEqual,c=!1,u,d,f,h,p;function y(w,j){return u=w,d=j,f=e(u,d),h=t(n,d),p=r(f,h,d),c=!0,p}function m(){return f=e(u,d),t.dependsOnOwnProps&&(h=t(n,d)),p=r(f,h,d),p}function v(){return e.dependsOnOwnProps&&(f=e(u,d)),t.dependsOnOwnProps&&(h=t(n,d)),p=r(f,h,d),p}function x(){var w=e(u,d),j=!l(w,f);return f=w,j&&(p=r(f,h,d)),p}function b(w,j){var S=!o(j,d),_=!i(w,u,j,d);return u=w,d=j,S&&_?m():S?v():_?x():p}return function(j,S){return c?b(j,S):y(j,S)}}function vde(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,a=t.initMergeProps,i=Cx(t,hde),o=r(e,i),l=n(e,i),c=a(e,i),u=i.pure?mde:pde;return u(o,l,c,e,i)}var gde=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function lS(e,t,r){for(var n=t.length-1;n>=0;n--){var a=t[n](e);if(a)return a}return function(i,o){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+o.wrappedComponentName+".")}}function yde(e,t){return e===t}function xde(e){var t=e===void 0?{}:e,r=t.connectHOC,n=r===void 0?Zue:r,a=t.mapStateToPropsFactories,i=a===void 0?ode:a,o=t.mapDispatchToPropsFactories,l=o===void 0?ade:o,c=t.mergePropsFactories,u=c===void 0?fde:c,d=t.selectorFactory,f=d===void 0?vde:d;return function(p,y,m,v){v===void 0&&(v={});var x=v,b=x.pure,w=b===void 0?!0:b,j=x.areStatesEqual,S=j===void 0?yde:j,_=x.areOwnPropsEqual,N=_===void 0?oS:_,C=x.areStatePropsEqual,E=C===void 0?oS:C,A=x.areMergedPropsEqual,O=A===void 0?oS:A,P=Cx(x,gde),k=lS(p,i,"mapStateToProps"),I=lS(y,l,"mapDispatchToProps"),M=lS(m,u,"mergeProps");return n(f,mt({methodName:"connect",getDisplayName:function($){return"Connect("+$+")"},shouldHandleStateChanges:!!p,initMapStateToProps:k,initMapDispatchToProps:I,initMergeProps:M,pure:w,areStatesEqual:S,areOwnPropsEqual:N,areStatePropsEqual:E,areMergedPropsEqual:O},P))}}const sz=xde();vue(lc.unstable_batchedUpdates);function bde(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function oz(e,t){var r=g.useState(function(){return{inputs:t,result:e()}})[0],n=g.useRef(!0),a=g.useRef(r),i=n.current||!!(t&&a.current.inputs&&bde(t,a.current.inputs)),o=i?a.current:{inputs:t,result:e()};return g.useEffect(function(){n.current=!1,a.current=o},[o]),o.result}function wde(e,t){return oz(function(){return e},t)}var vr=oz,it=wde,jde="Invariant failed";function nc(e,t){throw new Error(jde)}var xs=function(t){var r=t.top,n=t.right,a=t.bottom,i=t.left,o=n-i,l=a-r,c={top:r,right:n,bottom:a,left:i,width:o,height:l,x:i,y:r,center:{x:(n+i)/2,y:(a+r)/2}};return c},rO=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},mD=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},Sde=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},cS={top:0,right:0,bottom:0,left:0},nO=function(t){var r=t.borderBox,n=t.margin,a=n===void 0?cS:n,i=t.border,o=i===void 0?cS:i,l=t.padding,c=l===void 0?cS:l,u=xs(rO(r,a)),d=xs(mD(r,o)),f=xs(mD(d,c));return{marginBox:u,borderBox:xs(r),paddingBox:d,contentBox:f,margin:a,border:o,padding:c}},Pi=function(t){var r=t.slice(0,-2),n=t.slice(-2);if(n!=="px")return 0;var a=Number(r);return isNaN(a)&&nc(),a},_de=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Ex=function(t,r){var n=t.borderBox,a=t.border,i=t.margin,o=t.padding,l=Sde(n,r);return nO({borderBox:l,border:a,margin:i,padding:o})},Px=function(t,r){return r===void 0&&(r=_de()),Ex(t,r)},lz=function(t,r){var n={top:Pi(r.marginTop),right:Pi(r.marginRight),bottom:Pi(r.marginBottom),left:Pi(r.marginLeft)},a={top:Pi(r.paddingTop),right:Pi(r.paddingRight),bottom:Pi(r.paddingBottom),left:Pi(r.paddingLeft)},i={top:Pi(r.borderTopWidth),right:Pi(r.borderRightWidth),bottom:Pi(r.borderBottomWidth),left:Pi(r.borderLeftWidth)};return nO({borderBox:t,margin:n,padding:a,border:i})},cz=function(t){var r=t.getBoundingClientRect(),n=window.getComputedStyle(t);return lz(r,n)},vD=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Nde(e,t){return!!(e===t||vD(e)&&vD(t))}function Cde(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!Nde(e[r],t[r]))return!1;return!0}function Xn(e,t){t===void 0&&(t=Cde);var r,n=[],a,i=!1;function o(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return i&&r===this&&t(l,n)||(a=e.apply(this,l),i=!0,r=this,n=l),a}return o}var mm=function(t){var r=[],n=null,a=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];r=l,!n&&(n=requestAnimationFrame(function(){n=null,t.apply(void 0,r)}))};return a.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},a};function uz(e,t){}uz.bind(null,"warn");uz.bind(null,"error");function zl(){}function Ede(e,t){return mt({},e,{},t)}function qi(e,t,r){var n=t.map(function(a){var i=Ede(r,a.options);return e.addEventListener(a.eventName,a.fn,i),function(){e.removeEventListener(a.eventName,a.fn,i)}});return function(){n.forEach(function(i){i()})}}var Pde="Invariant failed";function Ox(e){this.message=e}Ox.prototype.toString=function(){return this.message};function Oe(e,t){throw new Ox(Pde)}var Ode=function(e){FU(t,e);function t(){for(var n,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i))||this,n.callbacks=null,n.unbind=zl,n.onWindowError=function(l){var c=n.getCallbacks();c.isDragging()&&c.tryAbort();var u=l.error;u instanceof Ox&&l.preventDefault()},n.getCallbacks=function(){if(!n.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return n.callbacks},n.setCallbacks=function(l){n.callbacks=l},n}var r=t.prototype;return r.componentDidMount=function(){this.unbind=qi(window,[{eventName:"error",fn:this.onWindowError}])},r.componentDidCatch=function(a){if(a instanceof Ox){this.setState({});return}throw a},r.componentWillUnmount=function(){this.unbind()},r.render=function(){return this.props.children(this.setCallbacks)},t}(R.Component),Ade=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Ax=function(t){return t+1},kde=function(t){return`
  You have lifted an item in position `+Ax(t.source.index)+`
`},dz=function(t,r){var n=t.droppableId===r.droppableId,a=Ax(t.index),i=Ax(r.index);return n?`
      You have moved the item from position `+a+`
      to position `+i+`
    `:`
    You have moved the item from position `+a+`
    in list `+t.droppableId+`
    to list `+r.droppableId+`
    in position `+i+`
  `},fz=function(t,r,n){var a=r.droppableId===n.droppableId;return a?`
      The item `+t+`
      has been combined with `+n.draggableId:`
      The item `+t+`
      in list `+r.droppableId+`
      has been combined with `+n.draggableId+`
      in list `+n.droppableId+`
    `},Tde=function(t){var r=t.destination;if(r)return dz(t.source,r);var n=t.combine;return n?fz(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},gD=function(t){return`
  The item has returned to its starting position
  of `+Ax(t.index)+`
`},Dde=function(t){if(t.reason==="CANCEL")return`
      Movement cancelled.
      `+gD(t.source)+`
    `;var r=t.destination,n=t.combine;return r?`
      You have dropped the item.
      `+dz(t.source,r)+`
    `:n?`
      You have dropped the item.
      `+fz(t.draggableId,t.source,n)+`
    `:`
    The item has been dropped while not over a drop area.
    `+gD(t.source)+`
  `},Dy={dragHandleUsageInstructions:Ade,onDragStart:kde,onDragUpdate:Tde,onDragEnd:Dde},Qn={x:0,y:0},aa=function(t,r){return{x:t.x+r.x,y:t.y+r.y}},pi=function(t,r){return{x:t.x-r.x,y:t.y-r.y}},Wl=function(t,r){return t.x===r.x&&t.y===r.y},dh=function(t){return{x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}},Tu=function(t,r,n){var a;return n===void 0&&(n=0),a={},a[t]=r,a[t==="x"?"y":"x"]=n,a},vm=function(t,r){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))},yD=function(t,r){return Math.min.apply(Math,r.map(function(n){return vm(t,n)}))},hz=function(t){return function(r){return{x:t(r.x),y:t(r.y)}}},Ide=function(e,t){var r=xs({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r},Rv=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},xD=function(t){return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}]},Rde={top:0,right:0,bottom:0,left:0},$de=function(t,r){return r?Rv(t,r.scroll.diff.displacement):t},Mde=function(t,r,n){if(n&&n.increasedBy){var a;return mt({},t,(a={},a[r.end]=t[r.end]+n.increasedBy[r.line],a))}return t},Lde=function(t,r){return r&&r.shouldClipSubject?Ide(r.pageMarginBox,t):xs(t)},jf=function(e){var t=e.page,r=e.withPlaceholder,n=e.axis,a=e.frame,i=$de(t.marginBox,a),o=Mde(i,n,r),l=Lde(o,a);return{page:t,withPlaceholder:r,active:l}},aO=function(e,t){e.frame||Oe();var r=e.frame,n=pi(t,r.scroll.initial),a=dh(n),i=mt({},r,{scroll:{initial:r.scroll.initial,current:t,diff:{value:n,displacement:a},max:r.scroll.max}}),o=jf({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i}),l=mt({},e,{frame:i,subject:o});return l};function kx(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function iO(e,t){if(e.findIndex)return e.findIndex(t);for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}function gc(e,t){if(e.find)return e.find(t);var r=iO(e,t);if(r!==-1)return e[r]}function pz(e){return Array.prototype.slice.call(e)}var mz=Xn(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),vz=Xn(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),W0=Xn(function(e){return kx(e)}),Fde=Xn(function(e){return kx(e)}),fh=Xn(function(e,t){var r=Fde(t).filter(function(n){return e===n.descriptor.droppableId}).sort(function(n,a){return n.descriptor.index-a.descriptor.index});return r});function sO(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function V0(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var H0=Xn(function(e,t){return t.filter(function(r){return r.descriptor.id!==e.descriptor.id})}),Bde=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,a=e.insideDestination,i=e.previousImpact;if(!n.isCombineEnabled)return null;var o=sO(i);if(!o)return null;function l(m){var v={type:"COMBINE",combine:{draggableId:m,droppableId:n.descriptor.id}};return mt({},i,{at:v})}var c=i.displaced.all,u=c.length?c[0]:null;if(t)return u?l(u):null;var d=H0(r,a);if(!u){if(!d.length)return null;var f=d[d.length-1];return l(f.descriptor.id)}var h=iO(d,function(m){return m.descriptor.id===u});h===-1&&Oe();var p=h-1;if(p<0)return null;var y=d[p];return l(y.descriptor.id)},hh=function(e,t){return e.descriptor.droppableId===t.descriptor.id},gz={point:Qn,value:0},gm={invisible:{},visible:{},all:[]},qde={displaced:gm,displacedBy:gz,at:null},Wi=function(e,t){return function(r){return e<=r&&r<=t}},yz=function(e){var t=Wi(e.top,e.bottom),r=Wi(e.left,e.right);return function(n){var a=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);if(a)return!0;var i=t(n.top)||t(n.bottom),o=r(n.left)||r(n.right),l=i&&o;if(l)return!0;var c=n.top<e.top&&n.bottom>e.bottom,u=n.left<e.left&&n.right>e.right,d=c&&u;if(d)return!0;var f=c&&o||u&&i;return f}},Ude=function(e){var t=Wi(e.top,e.bottom),r=Wi(e.left,e.right);return function(n){var a=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);return a}},oO={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},xz={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},zde=function(e){return function(t){var r=Wi(t.top,t.bottom),n=Wi(t.left,t.right);return function(a){return e===oO?r(a.top)&&r(a.bottom):n(a.left)&&n(a.right)}}},Wde=function(t,r){var n=r.frame?r.frame.scroll.diff.displacement:Qn;return Rv(t,n)},Vde=function(t,r,n){return r.subject.active?n(r.subject.active)(t):!1},Hde=function(t,r,n){return n(r)(t)},lO=function(t){var r=t.target,n=t.destination,a=t.viewport,i=t.withDroppableDisplacement,o=t.isVisibleThroughFrameFn,l=i?Wde(r,n):r;return Vde(l,n,o)&&Hde(l,a,o)},Gde=function(t){return lO(mt({},t,{isVisibleThroughFrameFn:yz}))},bz=function(t){return lO(mt({},t,{isVisibleThroughFrameFn:Ude}))},Kde=function(t){return lO(mt({},t,{isVisibleThroughFrameFn:zde(t.destination.axis)}))},Yde=function(t,r,n){if(typeof n=="boolean")return n;if(!r)return!0;var a=r.invisible,i=r.visible;if(a[t])return!1;var o=i[t];return o?o.shouldAnimate:!0};function Xde(e,t){var r=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return xs(rO(r,n))}function ym(e){var t=e.afterDragging,r=e.destination,n=e.displacedBy,a=e.viewport,i=e.forceShouldAnimate,o=e.last;return t.reduce(function(c,u){var d=Xde(u,n),f=u.descriptor.id;c.all.push(f);var h=Gde({target:d,destination:r,viewport:a,withDroppableDisplacement:!0});if(!h)return c.invisible[u.descriptor.id]=!0,c;var p=Yde(f,o,i),y={draggableId:f,shouldAnimate:p};return c.visible[f]=y,c},{all:[],visible:{},invisible:{}})}function Qde(e,t){if(!e.length)return 0;var r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}function bD(e){var t=e.insideDestination,r=e.inHomeList,n=e.displacedBy,a=e.destination,i=Qde(t,{inHomeList:r});return{displaced:gm,displacedBy:n,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:i}}}}function Tx(e){var t=e.draggable,r=e.insideDestination,n=e.destination,a=e.viewport,i=e.displacedBy,o=e.last,l=e.index,c=e.forceShouldAnimate,u=hh(t,n);if(l==null)return bD({insideDestination:r,inHomeList:u,displacedBy:i,destination:n});var d=gc(r,function(m){return m.descriptor.index===l});if(!d)return bD({insideDestination:r,inHomeList:u,displacedBy:i,destination:n});var f=H0(t,r),h=r.indexOf(d),p=f.slice(h),y=ym({afterDragging:p,destination:n,displacedBy:i,last:o,viewport:a.frame,forceShouldAnimate:c});return{displaced:y,displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:l}}}}function ac(e,t){return!!t.effected[e]}var Jde=function(e){var t=e.isMovingForward,r=e.destination,n=e.draggables,a=e.combine,i=e.afterCritical;if(!r.isCombineEnabled)return null;var o=a.draggableId,l=n[o],c=l.descriptor.index,u=ac(o,i);return u?t?c:c-1:t?c+1:c},Zde=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.insideDestination,a=e.location;if(!n.length)return null;var i=a.index,o=t?i+1:i-1,l=n[0].descriptor.index,c=n[n.length-1].descriptor.index,u=r?c:c+1;return o<l||o>u?null:o},efe=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.draggable,a=e.draggables,i=e.destination,o=e.insideDestination,l=e.previousImpact,c=e.viewport,u=e.afterCritical,d=l.at;if(d||Oe(),d.type==="REORDER"){var f=Zde({isMovingForward:t,isInHomeList:r,location:d.destination,insideDestination:o});return f==null?null:Tx({draggable:n,insideDestination:o,destination:i,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:f})}var h=Jde({isMovingForward:t,destination:i,displaced:l.displaced,draggables:a,combine:d.combine,afterCritical:u});return h==null?null:Tx({draggable:n,insideDestination:o,destination:i,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:h})},tfe=function(e){var t=e.displaced,r=e.afterCritical,n=e.combineWith,a=e.displacedBy,i=!!(t.visible[n]||t.invisible[n]);return ac(n,r)?i?Qn:dh(a.point):i?a.point:Qn},rfe=function(e){var t=e.afterCritical,r=e.impact,n=e.draggables,a=V0(r);a||Oe();var i=a.draggableId,o=n[i].page.borderBox.center,l=tfe({displaced:r.displaced,afterCritical:t,combineWith:i,displacedBy:r.displacedBy});return aa(o,l)},wz=function(t,r){return r.margin[t.start]+r.borderBox[t.size]/2},nfe=function(t,r){return r.margin[t.end]+r.borderBox[t.size]/2},cO=function(t,r,n){return r[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2},wD=function(t){var r=t.axis,n=t.moveRelativeTo,a=t.isMoving;return Tu(r.line,n.marginBox[r.end]+wz(r,a),cO(r,n.marginBox,a))},jD=function(t){var r=t.axis,n=t.moveRelativeTo,a=t.isMoving;return Tu(r.line,n.marginBox[r.start]-nfe(r,a),cO(r,n.marginBox,a))},afe=function(t){var r=t.axis,n=t.moveInto,a=t.isMoving;return Tu(r.line,n.contentBox[r.start]+wz(r,a),cO(r,n.contentBox,a))},ife=function(e){var t=e.impact,r=e.draggable,n=e.draggables,a=e.droppable,i=e.afterCritical,o=fh(a.descriptor.id,n),l=r.page,c=a.axis;if(!o.length)return afe({axis:c,moveInto:a.page,isMoving:l});var u=t.displaced,d=t.displacedBy,f=u.all[0];if(f){var h=n[f];if(ac(f,i))return jD({axis:c,moveRelativeTo:h.page,isMoving:l});var p=Ex(h.page,d.point);return jD({axis:c,moveRelativeTo:p,isMoving:l})}var y=o[o.length-1];if(y.descriptor.id===r.descriptor.id)return l.borderBox.center;if(ac(y.descriptor.id,i)){var m=Ex(y.page,dh(i.displacedBy.point));return wD({axis:c,moveRelativeTo:m,isMoving:l})}return wD({axis:c,moveRelativeTo:y.page,isMoving:l})},H1=function(e,t){var r=e.frame;return r?aa(t,r.scroll.diff.displacement):t},sfe=function(t){var r=t.impact,n=t.draggable,a=t.droppable,i=t.draggables,o=t.afterCritical,l=n.page.borderBox.center,c=r.at;return!a||!c?l:c.type==="REORDER"?ife({impact:r,draggable:n,draggables:i,droppable:a,afterCritical:o}):rfe({impact:r,draggables:i,afterCritical:o})},G0=function(e){var t=sfe(e),r=e.droppable,n=r?H1(r,t):t;return n},jz=function(e,t){var r=pi(t,e.scroll.initial),n=dh(r),a=xs({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),i={frame:a,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:n}}};return i};function SD(e,t){return e.map(function(r){return t[r]})}function ofe(e,t){for(var r=0;r<t.length;r++){var n=t[r].visible[e];if(n)return n}return null}var lfe=function(e){var t=e.impact,r=e.viewport,n=e.destination,a=e.draggables,i=e.maxScrollChange,o=jz(r,aa(r.scroll.current,i)),l=n.frame?aO(n,aa(n.frame.scroll.current,i)):n,c=t.displaced,u=ym({afterDragging:SD(c.all,a),destination:n,displacedBy:t.displacedBy,viewport:o.frame,last:c,forceShouldAnimate:!1}),d=ym({afterDragging:SD(c.all,a),destination:l,displacedBy:t.displacedBy,viewport:r.frame,last:c,forceShouldAnimate:!1}),f={},h={},p=[c,u,d];c.all.forEach(function(m){var v=ofe(m,p);if(v){h[m]=v;return}f[m]=!0});var y=mt({},t,{displaced:{all:c.all,invisible:f,visible:h}});return y},cfe=function(e,t){return aa(e.scroll.diff.displacement,t)},uO=function(e){var t=e.pageBorderBoxCenter,r=e.draggable,n=e.viewport,a=cfe(n,t),i=pi(a,r.page.borderBox.center);return aa(r.client.borderBox.center,i)},Sz=function(e){var t=e.draggable,r=e.destination,n=e.newPageBorderBoxCenter,a=e.viewport,i=e.withDroppableDisplacement,o=e.onlyOnMainAxis,l=o===void 0?!1:o,c=pi(n,t.page.borderBox.center),u=Rv(t.page.borderBox,c),d={target:u,destination:r,withDroppableDisplacement:i,viewport:a};return l?Kde(d):bz(d)},ufe=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,a=e.draggables,i=e.previousImpact,o=e.viewport,l=e.previousPageBorderBoxCenter,c=e.previousClientSelection,u=e.afterCritical;if(!n.isEnabled)return null;var d=fh(n.descriptor.id,a),f=hh(r,n),h=Bde({isMovingForward:t,draggable:r,destination:n,insideDestination:d,previousImpact:i})||efe({isMovingForward:t,isInHomeList:f,draggable:r,draggables:a,destination:n,insideDestination:d,previousImpact:i,viewport:o,afterCritical:u});if(!h)return null;var p=G0({impact:h,draggable:r,droppable:n,draggables:a,afterCritical:u}),y=Sz({draggable:r,destination:n,newPageBorderBoxCenter:p,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(y){var m=uO({pageBorderBoxCenter:p,draggable:r,viewport:o});return{clientSelection:m,impact:h,scrollJumpRequest:null}}var v=pi(p,l),x=lfe({impact:h,viewport:o,destination:n,draggables:a,maxScrollChange:v});return{clientSelection:c,impact:x,scrollJumpRequest:v}},ya=function(t){var r=t.subject.active;return r||Oe(),r},dfe=function(e){var t=e.isMovingForward,r=e.pageBorderBoxCenter,n=e.source,a=e.droppables,i=e.viewport,o=n.subject.active;if(!o)return null;var l=n.axis,c=Wi(o[l.start],o[l.end]),u=W0(a).filter(function(f){return f!==n}).filter(function(f){return f.isEnabled}).filter(function(f){return!!f.subject.active}).filter(function(f){return yz(i.frame)(ya(f))}).filter(function(f){var h=ya(f);return t?o[l.crossAxisEnd]<h[l.crossAxisEnd]:h[l.crossAxisStart]<o[l.crossAxisStart]}).filter(function(f){var h=ya(f),p=Wi(h[l.start],h[l.end]);return c(h[l.start])||c(h[l.end])||p(o[l.start])||p(o[l.end])}).sort(function(f,h){var p=ya(f)[l.crossAxisStart],y=ya(h)[l.crossAxisStart];return t?p-y:y-p}).filter(function(f,h,p){return ya(f)[l.crossAxisStart]===ya(p[0])[l.crossAxisStart]});if(!u.length)return null;if(u.length===1)return u[0];var d=u.filter(function(f){var h=Wi(ya(f)[l.start],ya(f)[l.end]);return h(r[l.line])});return d.length===1?d[0]:d.length>1?d.sort(function(f,h){return ya(f)[l.start]-ya(h)[l.start]})[0]:u.sort(function(f,h){var p=yD(r,xD(ya(f))),y=yD(r,xD(ya(h)));return p!==y?p-y:ya(f)[l.start]-ya(h)[l.start]})[0]},_D=function(t,r){var n=t.page.borderBox.center;return ac(t.descriptor.id,r)?pi(n,r.displacedBy.point):n},ffe=function(t,r){var n=t.page.borderBox;return ac(t.descriptor.id,r)?Rv(n,dh(r.displacedBy.point)):n},hfe=function(e){var t=e.pageBorderBoxCenter,r=e.viewport,n=e.destination,a=e.insideDestination,i=e.afterCritical,o=a.filter(function(l){return bz({target:ffe(l,i),destination:n,viewport:r.frame,withDroppableDisplacement:!0})}).sort(function(l,c){var u=vm(t,H1(n,_D(l,i))),d=vm(t,H1(n,_D(c,i)));return u<d?-1:d<u?1:l.descriptor.index-c.descriptor.index});return o[0]||null},$v=Xn(function(t,r){var n=r[t.line];return{value:n,point:Tu(t.line,n)}}),pfe=function(t,r,n){var a=t.axis;if(t.descriptor.mode==="virtual")return Tu(a.line,r[a.line]);var i=t.subject.page.contentBox[a.size],o=fh(t.descriptor.id,n),l=o.reduce(function(d,f){return d+f.client.marginBox[a.size]},0),c=l+r[a.line],u=c-i;return u<=0?null:Tu(a.line,u)},_z=function(t,r){return mt({},t,{scroll:mt({},t.scroll,{max:r})})},Nz=function(t,r,n){var a=t.frame;hh(r,t)&&Oe(),t.subject.withPlaceholder&&Oe();var i=$v(t.axis,r.displaceBy).point,o=pfe(t,i,n),l={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!a){var c=jf({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:t.frame});return mt({},t,{subject:c})}var u=o?aa(a.scroll.max,o):a.scroll.max,d=_z(a,u),f=jf({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:d});return mt({},t,{subject:f,frame:d})},mfe=function(t){var r=t.subject.withPlaceholder;r||Oe();var n=t.frame;if(!n){var a=jf({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return mt({},t,{subject:a})}var i=r.oldFrameMaxScroll;i||Oe();var o=_z(n,i),l=jf({page:t.subject.page,axis:t.axis,frame:o,withPlaceholder:null});return mt({},t,{subject:l,frame:o})},vfe=function(e){var t=e.previousPageBorderBoxCenter,r=e.moveRelativeTo,n=e.insideDestination,a=e.draggable,i=e.draggables,o=e.destination,l=e.viewport,c=e.afterCritical;if(!r){if(n.length)return null;var u={displaced:gm,displacedBy:gz,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},d=G0({impact:u,draggable:a,droppable:o,draggables:i,afterCritical:c}),f=hh(a,o)?o:Nz(o,a,i),h=Sz({draggable:a,destination:f,newPageBorderBoxCenter:d,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return h?u:null}var p=t[o.axis.line]<=r.page.borderBox.center[o.axis.line],y=function(){var v=r.descriptor.index;return r.descriptor.id===a.descriptor.id||p?v:v+1}(),m=$v(o.axis,a.displaceBy);return Tx({draggable:a,insideDestination:n,destination:o,viewport:l,displacedBy:m,last:gm,index:y})},gfe=function(e){var t=e.isMovingForward,r=e.previousPageBorderBoxCenter,n=e.draggable,a=e.isOver,i=e.draggables,o=e.droppables,l=e.viewport,c=e.afterCritical,u=dfe({isMovingForward:t,pageBorderBoxCenter:r,source:a,droppables:o,viewport:l});if(!u)return null;var d=fh(u.descriptor.id,i),f=hfe({pageBorderBoxCenter:r,viewport:l,destination:u,insideDestination:d,afterCritical:c}),h=vfe({previousPageBorderBoxCenter:r,destination:u,draggable:n,draggables:i,moveRelativeTo:f,insideDestination:d,viewport:l,afterCritical:c});if(!h)return null;var p=G0({impact:h,draggable:n,droppable:u,draggables:i,afterCritical:c}),y=uO({pageBorderBoxCenter:p,draggable:n,viewport:l});return{clientSelection:y,impact:h,scrollJumpRequest:null}},yi=function(e){var t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null},yfe=function(t,r){var n=yi(t);return n?r[n]:null},xfe=function(e){var t=e.state,r=e.type,n=yfe(t.impact,t.dimensions.droppables),a=!!n,i=t.dimensions.droppables[t.critical.droppable.id],o=n||i,l=o.axis.direction,c=l==="vertical"&&(r==="MOVE_UP"||r==="MOVE_DOWN")||l==="horizontal"&&(r==="MOVE_LEFT"||r==="MOVE_RIGHT");if(c&&!a)return null;var u=r==="MOVE_DOWN"||r==="MOVE_RIGHT",d=t.dimensions.draggables[t.critical.draggable.id],f=t.current.page.borderBoxCenter,h=t.dimensions,p=h.draggables,y=h.droppables;return c?ufe({isMovingForward:u,previousPageBorderBoxCenter:f,draggable:d,destination:o,draggables:p,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):gfe({isMovingForward:u,previousPageBorderBoxCenter:f,draggable:d,isOver:o,draggables:p,droppables:y,viewport:t.viewport,afterCritical:t.afterCritical})};function Mc(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function Cz(e){var t=Wi(e.top,e.bottom),r=Wi(e.left,e.right);return function(a){return t(a.y)&&r(a.x)}}function bfe(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function wfe(e){var t=e.pageBorderBox,r=e.draggable,n=e.candidates,a=r.page.borderBox.center,i=n.map(function(o){var l=o.axis,c=Tu(o.axis.line,t.center[l.line],o.page.borderBox.center[l.crossAxisLine]);return{id:o.descriptor.id,distance:vm(a,c)}}).sort(function(o,l){return l.distance-o.distance});return i[0]?i[0].id:null}function jfe(e){var t=e.pageBorderBox,r=e.draggable,n=e.droppables,a=W0(n).filter(function(i){if(!i.isEnabled)return!1;var o=i.subject.active;if(!o||!bfe(t,o))return!1;if(Cz(o)(t.center))return!0;var l=i.axis,c=o.center[l.crossAxisLine],u=t[l.crossAxisStart],d=t[l.crossAxisEnd],f=Wi(o[l.crossAxisStart],o[l.crossAxisEnd]),h=f(u),p=f(d);return!h&&!p?!0:h?u<c:d>c});return a.length?a.length===1?a[0].descriptor.id:wfe({pageBorderBox:t,draggable:r,candidates:a}):null}var Ez=function(t,r){return xs(Rv(t,r))},Sfe=function(e,t){var r=e.frame;return r?Ez(t,r.scroll.diff.value):t};function Pz(e){var t=e.displaced,r=e.id;return!!(t.visible[r]||t.invisible[r])}function _fe(e){var t=e.draggable,r=e.closest,n=e.inHomeList;return r?n&&r.descriptor.index>t.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}var Nfe=function(e){var t=e.pageBorderBoxWithDroppableScroll,r=e.draggable,n=e.destination,a=e.insideDestination,i=e.last,o=e.viewport,l=e.afterCritical,c=n.axis,u=$v(n.axis,r.displaceBy),d=u.value,f=t[c.start],h=t[c.end],p=H0(r,a),y=gc(p,function(v){var x=v.descriptor.id,b=v.page.borderBox.center[c.line],w=ac(x,l),j=Pz({displaced:i,id:x});return w?j?h<=b:f<b-d:j?h<=b+d:f<b}),m=_fe({draggable:r,closest:y,inHomeList:hh(r,n)});return Tx({draggable:r,insideDestination:a,destination:n,viewport:o,last:i,displacedBy:u,index:m})},Cfe=4,Efe=function(e){var t=e.draggable,r=e.pageBorderBoxWithDroppableScroll,n=e.previousImpact,a=e.destination,i=e.insideDestination,o=e.afterCritical;if(!a.isCombineEnabled)return null;var l=a.axis,c=$v(a.axis,t.displaceBy),u=c.value,d=r[l.start],f=r[l.end],h=H0(t,i),p=gc(h,function(m){var v=m.descriptor.id,x=m.page.borderBox,b=x[l.size],w=b/Cfe,j=ac(v,o),S=Pz({displaced:n.displaced,id:v});return j?S?f>x[l.start]+w&&f<x[l.end]-w:d>x[l.start]-u+w&&d<x[l.end]-u-w:S?f>x[l.start]+u+w&&f<x[l.end]+u-w:d>x[l.start]+w&&d<x[l.end]-w});if(!p)return null;var y={displacedBy:c,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:a.descriptor.id}}};return y},Oz=function(e){var t=e.pageOffset,r=e.draggable,n=e.draggables,a=e.droppables,i=e.previousImpact,o=e.viewport,l=e.afterCritical,c=Ez(r.page.borderBox,t),u=jfe({pageBorderBox:c,draggable:r,droppables:a});if(!u)return qde;var d=a[u],f=fh(d.descriptor.id,n),h=Sfe(d,c);return Efe({pageBorderBoxWithDroppableScroll:h,draggable:r,previousImpact:i,destination:d,insideDestination:f,afterCritical:l})||Nfe({pageBorderBoxWithDroppableScroll:h,draggable:r,destination:d,insideDestination:f,last:i.displaced,viewport:o,afterCritical:l})},dO=function(e,t){var r;return mt({},e,(r={},r[t.descriptor.id]=t,r))},Pfe=function(t){var r=t.previousImpact,n=t.impact,a=t.droppables,i=yi(r),o=yi(n);if(!i||i===o)return a;var l=a[i];if(!l.subject.withPlaceholder)return a;var c=mfe(l);return dO(a,c)},Ofe=function(e){var t=e.draggable,r=e.draggables,n=e.droppables,a=e.previousImpact,i=e.impact,o=Pfe({previousImpact:a,impact:i,droppables:n}),l=yi(i);if(!l)return o;var c=n[l];if(hh(t,c)||c.subject.withPlaceholder)return o;var u=Nz(c,t,r);return dO(o,u)},Pp=function(e){var t=e.state,r=e.clientSelection,n=e.dimensions,a=e.viewport,i=e.impact,o=e.scrollJumpRequest,l=a||t.viewport,c=n||t.dimensions,u=r||t.current.client.selection,d=pi(u,t.initial.client.selection),f={offset:d,selection:u,borderBoxCenter:aa(t.initial.client.borderBoxCenter,d)},h={selection:aa(f.selection,l.scroll.current),borderBoxCenter:aa(f.borderBoxCenter,l.scroll.current),offset:aa(f.offset,l.scroll.diff.value)},p={client:f,page:h};if(t.phase==="COLLECTING")return mt({phase:"COLLECTING"},t,{dimensions:c,viewport:l,current:p});var y=c.draggables[t.critical.draggable.id],m=i||Oz({pageOffset:h.offset,draggable:y,draggables:c.draggables,droppables:c.droppables,previousImpact:t.impact,viewport:l,afterCritical:t.afterCritical}),v=Ofe({draggable:y,impact:m,previousImpact:t.impact,draggables:c.draggables,droppables:c.droppables}),x=mt({},t,{current:p,dimensions:{draggables:c.draggables,droppables:v},impact:m,viewport:l,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null});return x};function Afe(e,t){return e.map(function(r){return t[r]})}var Az=function(e){var t=e.impact,r=e.viewport,n=e.draggables,a=e.destination,i=e.forceShouldAnimate,o=t.displaced,l=Afe(o.all,n),c=ym({afterDragging:l,destination:a,displacedBy:t.displacedBy,viewport:r.frame,forceShouldAnimate:i,last:o});return mt({},t,{displaced:c})},kz=function(e){var t=e.impact,r=e.draggable,n=e.droppable,a=e.draggables,i=e.viewport,o=e.afterCritical,l=G0({impact:t,draggable:r,draggables:a,droppable:n,afterCritical:o});return uO({pageBorderBoxCenter:l,draggable:r,viewport:i})},Tz=function(e){var t=e.state,r=e.dimensions,n=e.viewport;t.movementMode!=="SNAP"&&Oe();var a=t.impact,i=n||t.viewport,o=r||t.dimensions,l=o.draggables,c=o.droppables,u=l[t.critical.draggable.id],d=yi(a);d||Oe();var f=c[d],h=Az({impact:a,viewport:i,destination:f,draggables:l}),p=kz({impact:h,draggable:u,droppable:f,draggables:l,viewport:i,afterCritical:t.afterCritical});return Pp({impact:h,clientSelection:p,state:t,dimensions:o,viewport:i})},kfe=function(e){return{index:e.index,droppableId:e.droppableId}},Dz=function(e){var t=e.draggable,r=e.home,n=e.draggables,a=e.viewport,i=$v(r.axis,t.displaceBy),o=fh(r.descriptor.id,n),l=o.indexOf(t);l===-1&&Oe();var c=o.slice(l+1),u=c.reduce(function(p,y){return p[y.descriptor.id]=!0,p},{}),d={inVirtualList:r.descriptor.mode==="virtual",displacedBy:i,effected:u},f=ym({afterDragging:c,destination:r,displacedBy:i,last:null,viewport:a.frame,forceShouldAnimate:!1}),h={displaced:f,displacedBy:i,at:{type:"REORDER",destination:kfe(t.descriptor)}};return{impact:h,afterCritical:d}},Tfe=function(e,t){return{draggables:e.draggables,droppables:dO(e.droppables,t)}},Dfe=function(e){var t=e.draggable,r=e.offset,n=e.initialWindowScroll,a=Ex(t.client,r),i=Px(a,n),o=mt({},t,{placeholder:mt({},t.placeholder,{client:a}),client:a,page:i});return o},Ife=function(e){var t=e.frame;return t||Oe(),t},Rfe=function(e){var t=e.additions,r=e.updatedDroppables,n=e.viewport,a=n.scroll.diff.value;return t.map(function(i){var o=i.descriptor.droppableId,l=r[o],c=Ife(l),u=c.scroll.diff.value,d=aa(a,u),f=Dfe({draggable:i,offset:d,initialWindowScroll:n.scroll.initial});return f})},$fe=function(e){var t=e.state,r=e.published,n=r.modified.map(function(w){var j=t.dimensions.droppables[w.droppableId],S=aO(j,w.scroll);return S}),a=mt({},t.dimensions.droppables,{},mz(n)),i=vz(Rfe({additions:r.additions,updatedDroppables:a,viewport:t.viewport})),o=mt({},t.dimensions.draggables,{},i);r.removals.forEach(function(w){delete o[w]});var l={droppables:a,draggables:o},c=yi(t.impact),u=c?l.droppables[c]:null,d=l.draggables[t.critical.draggable.id],f=l.droppables[t.critical.droppable.id],h=Dz({draggable:d,home:f,draggables:o,viewport:t.viewport}),p=h.impact,y=h.afterCritical,m=u&&u.isCombineEnabled?t.impact:p,v=Oz({pageOffset:t.current.page.offset,draggable:l.draggables[t.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:m,viewport:t.viewport,afterCritical:y}),x=mt({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:v,onLiftImpact:p,dimensions:l,afterCritical:y,forceShouldAnimate:!1});if(t.phase==="COLLECTING")return x;var b=mt({phase:"DROP_PENDING"},x,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1});return b},G1=function(t){return t.movementMode==="SNAP"},uS=function(t,r,n){var a=Tfe(t.dimensions,r);return!G1(t)||n?Pp({state:t,dimensions:a}):Tz({state:t,dimensions:a})};function dS(e){return e.isDragging&&e.movementMode==="SNAP"?mt({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var ND={phase:"IDLE",completed:null,shouldFlush:!1},Mfe=function(e,t){if(e===void 0&&(e=ND),t.type==="FLUSH")return mt({},ND,{shouldFlush:!0});if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&Oe();var r=t.payload,n=r.critical,a=r.clientSelection,i=r.viewport,o=r.dimensions,l=r.movementMode,c=o.draggables[n.draggable.id],u=o.droppables[n.droppable.id],d={selection:a,borderBoxCenter:c.client.borderBox.center,offset:Qn},f={client:d,page:{selection:aa(d.selection,i.scroll.initial),borderBoxCenter:aa(d.selection,i.scroll.initial),offset:aa(d.selection,i.scroll.diff.value)}},h=W0(o.droppables).every(function(z){return!z.isFixedOnPage}),p=Dz({draggable:c,home:u,draggables:o.draggables,viewport:i}),y=p.impact,m=p.afterCritical,v={phase:"DRAGGING",isDragging:!0,critical:n,movementMode:l,dimensions:o,initial:f,current:f,isWindowScrollAllowed:h,impact:y,afterCritical:m,onLiftImpact:y,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null};return v}if(t.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Oe();var x=mt({phase:"COLLECTING"},e,{phase:"COLLECTING"});return x}if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||Oe(),$fe({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Mc(e)||Oe();var b=t.payload.client;return Wl(b,e.current.client.selection)?e:Pp({state:e,clientSelection:b,impact:G1(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return dS(e);Mc(e)||Oe();var w=t.payload,j=w.id,S=w.newScroll,_=e.dimensions.droppables[j];if(!_)return e;var N=aO(_,S);return uS(e,N,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Mc(e)||Oe();var C=t.payload,E=C.id,A=C.isEnabled,O=e.dimensions.droppables[E];O||Oe(),O.isEnabled===A&&Oe();var P=mt({},O,{isEnabled:A});return uS(e,P,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Mc(e)||Oe();var k=t.payload,I=k.id,M=k.isCombineEnabled,L=e.dimensions.droppables[I];L||Oe(),L.isCombineEnabled===M&&Oe();var $=mt({},L,{isCombineEnabled:M});return uS(e,$,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Mc(e)||Oe(),e.isWindowScrollAllowed||Oe();var D=t.payload.newScroll;if(Wl(e.viewport.scroll.current,D))return dS(e);var T=jz(e.viewport,D);return G1(e)?Tz({state:e,viewport:T}):Pp({state:e,viewport:T})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Mc(e))return e;var H=t.payload.maxScroll;if(Wl(H,e.viewport.scroll.max))return e;var re=mt({},e.viewport,{scroll:mt({},e.viewport.scroll,{max:H})});return mt({phase:"DRAGGING"},e,{viewport:re})}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Oe();var J=xfe({state:e,type:t.type});return J?Pp({state:e,impact:J.impact,clientSelection:J.clientSelection,scrollJumpRequest:J.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){var le=t.payload.reason;e.phase!=="COLLECTING"&&Oe();var te=mt({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:le});return te}if(t.type==="DROP_ANIMATE"){var Z=t.payload,we=Z.completed,oe=Z.dropDuration,q=Z.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||Oe();var U={phase:"DROP_ANIMATING",completed:we,dropDuration:oe,newHomeClientOffset:q,dimensions:e.dimensions};return U}if(t.type==="DROP_COMPLETE"){var ae=t.payload.completed;return{phase:"IDLE",completed:ae,shouldFlush:!1}}return e},Lfe=function(t){return{type:"BEFORE_INITIAL_CAPTURE",payload:t}},Ffe=function(t){return{type:"LIFT",payload:t}},Bfe=function(t){return{type:"INITIAL_PUBLISH",payload:t}},qfe=function(t){return{type:"PUBLISH_WHILE_DRAGGING",payload:t}},Ufe=function(){return{type:"COLLECTION_STARTING",payload:null}},zfe=function(t){return{type:"UPDATE_DROPPABLE_SCROLL",payload:t}},Wfe=function(t){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}},Vfe=function(t){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}},Iz=function(t){return{type:"MOVE",payload:t}},Hfe=function(t){return{type:"MOVE_BY_WINDOW_SCROLL",payload:t}},Gfe=function(t){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}},Kfe=function(){return{type:"MOVE_UP",payload:null}},Yfe=function(){return{type:"MOVE_DOWN",payload:null}},Xfe=function(){return{type:"MOVE_RIGHT",payload:null}},Qfe=function(){return{type:"MOVE_LEFT",payload:null}},fO=function(){return{type:"FLUSH",payload:null}},Jfe=function(t){return{type:"DROP_ANIMATE",payload:t}},hO=function(t){return{type:"DROP_COMPLETE",payload:t}},Rz=function(t){return{type:"DROP",payload:t}},Zfe=function(t){return{type:"DROP_PENDING",payload:t}},$z=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},ehe=function(e){return function(t){var r=t.getState,n=t.dispatch;return function(a){return function(i){if(i.type!=="LIFT"){a(i);return}var o=i.payload,l=o.id,c=o.clientSelection,u=o.movementMode,d=r();d.phase==="DROP_ANIMATING"&&n(hO({completed:d.completed})),r().phase!=="IDLE"&&Oe(),n(fO()),n(Lfe({draggableId:l,movementMode:u}));var f={shouldPublishImmediately:u==="SNAP"},h={draggableId:l,scrollOptions:f},p=e.startPublishing(h),y=p.critical,m=p.dimensions,v=p.viewport;n(Bfe({critical:y,dimensions:m,clientSelection:c,movementMode:u,viewport:v}))}}}},the=function(e){return function(){return function(t){return function(r){r.type==="INITIAL_PUBLISH"&&e.dragging(),r.type==="DROP_ANIMATE"&&e.dropping(r.payload.completed.result.reason),(r.type==="FLUSH"||r.type==="DROP_COMPLETE")&&e.resting(),t(r)}}}},pO={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},xm={opacity:{drop:0,combining:.7},scale:{drop:.75}},mO={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Oc=mO.outOfTheWay+"s "+pO.outOfTheWay,Op={fluid:"opacity "+Oc,snap:"transform "+Oc+", opacity "+Oc,drop:function(t){var r=t+"s "+pO.drop;return"transform "+r+", opacity "+r},outOfTheWay:"transform "+Oc,placeholder:"height "+Oc+", width "+Oc+", margin "+Oc},CD=function(t){return Wl(t,Qn)?null:"translate("+t.x+"px, "+t.y+"px)"},K1={moveTo:CD,drop:function(t,r){var n=CD(t);return n?r?n+" scale("+xm.scale.drop+")":n:null}},Y1=mO.minDropTime,Mz=mO.maxDropTime,rhe=Mz-Y1,ED=1500,nhe=.6,ahe=function(e){var t=e.current,r=e.destination,n=e.reason,a=vm(t,r);if(a<=0)return Y1;if(a>=ED)return Mz;var i=a/ED,o=Y1+rhe*i,l=n==="CANCEL"?o*nhe:o;return Number(l.toFixed(2))},ihe=function(e){var t=e.impact,r=e.draggable,n=e.dimensions,a=e.viewport,i=e.afterCritical,o=n.draggables,l=n.droppables,c=yi(t),u=c?l[c]:null,d=l[r.descriptor.droppableId],f=kz({impact:t,draggable:r,draggables:o,afterCritical:i,droppable:u||d,viewport:a}),h=pi(f,r.client.borderBox.center);return h},she=function(e){var t=e.draggables,r=e.reason,n=e.lastImpact,a=e.home,i=e.viewport,o=e.onLiftImpact;if(!n.at||r!=="DROP"){var l=Az({draggables:t,impact:o,destination:a,viewport:i,forceShouldAnimate:!0});return{impact:l,didDropInsideDroppable:!1}}if(n.at.type==="REORDER")return{impact:n,didDropInsideDroppable:!0};var c=mt({},n,{displaced:gm});return{impact:c,didDropInsideDroppable:!0}},ohe=function(e){var t=e.getState,r=e.dispatch;return function(n){return function(a){if(a.type!=="DROP"){n(a);return}var i=t(),o=a.payload.reason;if(i.phase==="COLLECTING"){r(Zfe({reason:o}));return}if(i.phase!=="IDLE"){var l=i.phase==="DROP_PENDING"&&i.isWaiting;l&&Oe(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||Oe();var c=i.critical,u=i.dimensions,d=u.draggables[i.critical.draggable.id],f=she({reason:o,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),h=f.impact,p=f.didDropInsideDroppable,y=p?sO(h):null,m=p?V0(h):null,v={index:c.draggable.index,droppableId:c.droppable.id},x={draggableId:d.descriptor.id,type:d.descriptor.type,source:v,reason:o,mode:i.movementMode,destination:y,combine:m},b=ihe({impact:h,draggable:d,dimensions:u,viewport:i.viewport,afterCritical:i.afterCritical}),w={critical:i.critical,afterCritical:i.afterCritical,result:x,impact:h},j=!Wl(i.current.client.offset,b)||!!x.combine;if(!j){r(hO({completed:w}));return}var S=ahe({current:i.current.client.offset,destination:b,reason:o}),_={newHomeClientOffset:b,dropDuration:S,completed:w};r(Jfe(_))}}}},Lz=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function lhe(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(r){r.target!==window&&r.target!==window.document||e()}}}function che(e){var t=e.onWindowScroll;function r(){t(Lz())}var n=mm(r),a=lhe(n),i=zl;function o(){return i!==zl}function l(){o()&&Oe(),i=qi(window,[a])}function c(){o()||Oe(),n.cancel(),i(),i=zl}return{start:l,stop:c,isActive:o}}var uhe=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},dhe=function(e){var t=che({onWindowScroll:function(n){e.dispatch(Hfe({newScroll:n}))}});return function(r){return function(n){!t.isActive()&&n.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&uhe(n)&&t.stop(),r(n)}}},fhe=function(e){var t=!1,r=!1,n=setTimeout(function(){r=!0}),a=function(o){t||r||(t=!0,e(o),clearTimeout(n))};return a.wasCalled=function(){return t},a},hhe=function(){var e=[],t=function(i){var o=iO(e,function(u){return u.timerId===i});o===-1&&Oe();var l=e.splice(o,1),c=l[0];c.callback()},r=function(i){var o=setTimeout(function(){return t(o)}),l={timerId:o,callback:i};e.push(l)},n=function(){if(e.length){var i=[].concat(e);e.length=0,i.forEach(function(o){clearTimeout(o.timerId),o.callback()})}};return{add:r,flush:n}},phe=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.droppableId===r.droppableId&&t.index===r.index},mhe=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.draggableId===r.draggableId&&t.droppableId===r.droppableId},vhe=function(t,r){if(t===r)return!0;var n=t.draggable.id===r.draggable.id&&t.draggable.droppableId===r.draggable.droppableId&&t.draggable.type===r.draggable.type&&t.draggable.index===r.draggable.index,a=t.droppable.id===r.droppable.id&&t.droppable.type===r.droppable.type;return n&&a},Vh=function(t,r){r()},Hg=function(t,r){return{draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:r}},fS=function(t,r,n,a){if(!t){n(a(r));return}var i=fhe(n),o={announce:i};t(r,o),i.wasCalled()||n(a(r))},ghe=function(e,t){var r=hhe(),n=null,a=function(h,p){n&&Oe(),Vh("onBeforeCapture",function(){var y=e().onBeforeCapture;if(y){var m={draggableId:h,mode:p};y(m)}})},i=function(h,p){n&&Oe(),Vh("onBeforeDragStart",function(){var y=e().onBeforeDragStart;y&&y(Hg(h,p))})},o=function(h,p){n&&Oe();var y=Hg(h,p);n={mode:p,lastCritical:h,lastLocation:y.source,lastCombine:null},r.add(function(){Vh("onDragStart",function(){return fS(e().onDragStart,y,t,Dy.onDragStart)})})},l=function(h,p){var y=sO(p),m=V0(p);n||Oe();var v=!vhe(h,n.lastCritical);v&&(n.lastCritical=h);var x=!phe(n.lastLocation,y);x&&(n.lastLocation=y);var b=!mhe(n.lastCombine,m);if(b&&(n.lastCombine=m),!(!v&&!x&&!b)){var w=mt({},Hg(h,n.mode),{combine:m,destination:y});r.add(function(){Vh("onDragUpdate",function(){return fS(e().onDragUpdate,w,t,Dy.onDragUpdate)})})}},c=function(){n||Oe(),r.flush()},u=function(h){n||Oe(),n=null,Vh("onDragEnd",function(){return fS(e().onDragEnd,h,t,Dy.onDragEnd)})},d=function(){if(n){var h=mt({},Hg(n.lastCritical,n.mode),{combine:null,destination:null,reason:"CANCEL"});u(h)}};return{beforeCapture:a,beforeStart:i,start:o,update:l,flush:c,drop:u,abort:d}},yhe=function(e,t){var r=ghe(e,t);return function(n){return function(a){return function(i){if(i.type==="BEFORE_INITIAL_CAPTURE"){r.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(i.type==="INITIAL_PUBLISH"){var o=i.payload.critical;r.beforeStart(o,i.payload.movementMode),a(i),r.start(o,i.payload.movementMode);return}if(i.type==="DROP_COMPLETE"){var l=i.payload.completed.result;r.flush(),a(i),r.drop(l);return}if(a(i),i.type==="FLUSH"){r.abort();return}var c=n.getState();c.phase==="DRAGGING"&&r.update(c.critical,c.impact)}}}},xhe=function(e){return function(t){return function(r){if(r.type!=="DROP_ANIMATION_FINISHED"){t(r);return}var n=e.getState();n.phase!=="DROP_ANIMATING"&&Oe(),e.dispatch(hO({completed:n.completed}))}}},bhe=function(e){var t=null,r=null;function n(){r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)}return function(a){return function(i){if((i.type==="FLUSH"||i.type==="DROP_COMPLETE"||i.type==="DROP_ANIMATION_FINISHED")&&n(),a(i),i.type==="DROP_ANIMATE"){var o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var c=e.getState();c.phase==="DROP_ANIMATING"&&e.dispatch($z())}};r=requestAnimationFrame(function(){r=null,t=qi(window,[o])})}}}},whe=function(e){return function(){return function(t){return function(r){(r.type==="DROP_COMPLETE"||r.type==="FLUSH"||r.type==="DROP_ANIMATE")&&e.stopPublishing(),t(r)}}}},jhe=function(e){var t=!1;return function(){return function(r){return function(n){if(n.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),r(n),e.tryRestoreFocusRecorded();return}if(r(n),!!t){if(n.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(n.type==="DROP_COMPLETE"){t=!1;var a=n.payload.completed.result;a.combine&&e.tryShiftRecord(a.draggableId,a.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},She=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},_he=function(e){return function(t){return function(r){return function(n){if(She(n)){e.stop(),r(n);return}if(n.type==="INITIAL_PUBLISH"){r(n);var a=t.getState();a.phase!=="DRAGGING"&&Oe(),e.start(a);return}r(n),e.scroll(t.getState())}}}},Nhe=function(e){return function(t){return function(r){if(t(r),r.type==="PUBLISH_WHILE_DRAGGING"){var n=e.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||e.dispatch(Rz({reason:n.reason})))}}}},Che=qU,Ehe=function(e){var t=e.dimensionMarshal,r=e.focusMarshal,n=e.styleMarshal,a=e.getResponders,i=e.announce,o=e.autoScroller;return BU(Mfe,Che(cue(the(n),whe(t),ehe(t),ohe,xhe,bhe,Nhe,_he(o),dhe,jhe(r),yhe(a,i))))},hS=function(){return{additions:{},removals:{},modified:{}}};function Phe(e){var t=e.registry,r=e.callbacks,n=hS(),a=null,i=function(){a||(r.collectionStarting(),a=requestAnimationFrame(function(){a=null;var d=n,f=d.additions,h=d.removals,p=d.modified,y=Object.keys(f).map(function(x){return t.draggable.getById(x).getDimension(Qn)}).sort(function(x,b){return x.descriptor.index-b.descriptor.index}),m=Object.keys(p).map(function(x){var b=t.droppable.getById(x),w=b.callbacks.getScrollWhileDragging();return{droppableId:x,scroll:w}}),v={additions:y,removals:Object.keys(h),modified:m};n=hS(),r.publish(v)}))},o=function(d){var f=d.descriptor.id;n.additions[f]=d,n.modified[d.descriptor.droppableId]=!0,n.removals[f]&&delete n.removals[f],i()},l=function(d){var f=d.descriptor;n.removals[f.id]=!0,n.modified[f.droppableId]=!0,n.additions[f.id]&&delete n.additions[f.id],i()},c=function(){a&&(cancelAnimationFrame(a),a=null,n=hS())};return{add:o,remove:l,stop:c}}var Fz=function(e){var t=e.scrollHeight,r=e.scrollWidth,n=e.height,a=e.width,i=pi({x:r,y:t},{x:a,y:n}),o={x:Math.max(0,i.x),y:Math.max(0,i.y)};return o},Bz=function(){var e=document.documentElement;return e||Oe(),e},qz=function(){var e=Bz(),t=Fz({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return t},Ohe=function(){var e=Lz(),t=qz(),r=e.y,n=e.x,a=Bz(),i=a.clientWidth,o=a.clientHeight,l=n+i,c=r+o,u=xs({top:r,left:n,right:l,bottom:c}),d={frame:u,scroll:{initial:e,current:e,max:t,diff:{value:Qn,displacement:Qn}}};return d},Ahe=function(e){var t=e.critical,r=e.scrollOptions,n=e.registry,a=Ohe(),i=a.scroll.current,o=t.droppable,l=n.droppable.getAllByType(o.type).map(function(f){return f.callbacks.getDimensionAndWatchScroll(i,r)}),c=n.draggable.getAllByType(t.draggable.type).map(function(f){return f.getDimension(i)}),u={draggables:vz(c),droppables:mz(l)},d={dimensions:u,critical:t,viewport:a};return d};function PD(e,t,r){if(r.descriptor.id===t.id||r.descriptor.type!==t.type)return!1;var n=e.droppable.getById(r.descriptor.droppableId);return n.descriptor.mode==="virtual"}var khe=function(e,t){var r=null,n=Phe({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),a=function(p,y){e.droppable.exists(p)||Oe(),r&&t.updateDroppableIsEnabled({id:p,isEnabled:y})},i=function(p,y){r&&(e.droppable.exists(p)||Oe(),t.updateDroppableIsCombineEnabled({id:p,isCombineEnabled:y}))},o=function(p,y){r&&(e.droppable.exists(p)||Oe(),t.updateDroppableScroll({id:p,newScroll:y}))},l=function(p,y){r&&e.droppable.getById(p).callbacks.scroll(y)},c=function(){if(r){n.stop();var p=r.critical.droppable;e.droppable.getAllByType(p.type).forEach(function(y){return y.callbacks.dragStopped()}),r.unsubscribe(),r=null}},u=function(p){r||Oe();var y=r.critical.draggable;p.type==="ADDITION"&&PD(e,y,p.value)&&n.add(p.value),p.type==="REMOVAL"&&PD(e,y,p.value)&&n.remove(p.value)},d=function(p){r&&Oe();var y=e.draggable.getById(p.draggableId),m=e.droppable.getById(y.descriptor.droppableId),v={draggable:y.descriptor,droppable:m.descriptor},x=e.subscribe(u);return r={critical:v,unsubscribe:x},Ahe({critical:v,registry:e,scrollOptions:p.scrollOptions})},f={updateDroppableIsEnabled:a,updateDroppableIsCombineEnabled:i,scrollDroppable:l,updateDroppableScroll:o,startPublishing:d,stopPublishing:c};return f},Uz=function(e,t){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP"},The=function(e){window.scrollBy(e.x,e.y)},Dhe=Xn(function(e){return W0(e).filter(function(t){return!(!t.isEnabled||!t.frame)})}),Ihe=function(t,r){var n=gc(Dhe(r),function(a){return a.frame||Oe(),Cz(a.frame.pageMarginBox)(t)});return n},Rhe=function(e){var t=e.center,r=e.destination,n=e.droppables;if(r){var a=n[r];return a.frame?a:null}var i=Ihe(t,n);return i},Vl={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(t){return Math.pow(t,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},$he=function(e,t){var r=e[t.size]*Vl.startFromPercentage,n=e[t.size]*Vl.maxScrollAtPercentage,a={startScrollingFrom:r,maxScrollValueAt:n};return a},zz=function(e){var t=e.startOfRange,r=e.endOfRange,n=e.current,a=r-t;if(a===0)return 0;var i=n-t,o=i/a;return o},vO=1,Mhe=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return Vl.maxPixelScroll;if(e===t.startScrollingFrom)return vO;var r=zz({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),n=1-r,a=Vl.maxPixelScroll*Vl.ease(n);return Math.ceil(a)},OD=Vl.durationDampening.accelerateAt,AD=Vl.durationDampening.stopDampeningAt,Lhe=function(e,t){var r=t,n=AD,a=Date.now(),i=a-r;if(i>=AD)return e;if(i<OD)return vO;var o=zz({startOfRange:OD,endOfRange:n,current:i}),l=e*Vl.ease(o);return Math.ceil(l)},kD=function(e){var t=e.distanceToEdge,r=e.thresholds,n=e.dragStartTime,a=e.shouldUseTimeDampening,i=Mhe(t,r);return i===0?0:a?Math.max(Lhe(i,n),vO):i},TD=function(e){var t=e.container,r=e.distanceToEdges,n=e.dragStartTime,a=e.axis,i=e.shouldUseTimeDampening,o=$he(t,a),l=r[a.end]<r[a.start];return l?kD({distanceToEdge:r[a.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i}):-1*kD({distanceToEdge:r[a.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i})},Fhe=function(e){var t=e.container,r=e.subject,n=e.proposedScroll,a=r.height>t.height,i=r.width>t.width;return!i&&!a?n:i&&a?null:{x:i?0:n.x,y:a?0:n.y}},Bhe=hz(function(e){return e===0?0:e}),Wz=function(e){var t=e.dragStartTime,r=e.container,n=e.subject,a=e.center,i=e.shouldUseTimeDampening,o={top:a.y-r.top,right:r.right-a.x,bottom:r.bottom-a.y,left:a.x-r.left},l=TD({container:r,distanceToEdges:o,dragStartTime:t,axis:oO,shouldUseTimeDampening:i}),c=TD({container:r,distanceToEdges:o,dragStartTime:t,axis:xz,shouldUseTimeDampening:i}),u=Bhe({x:c,y:l});if(Wl(u,Qn))return null;var d=Fhe({container:r,subject:n,proposedScroll:u});return d?Wl(d,Qn)?null:d:null},qhe=hz(function(e){return e===0?0:e>0?1:-1}),gO=function(){var e=function(r,n){return r<0?r:r>n?r-n:0};return function(t){var r=t.current,n=t.max,a=t.change,i=aa(r,a),o={x:e(i.x,n.x),y:e(i.y,n.y)};return Wl(o,Qn)?null:o}}(),Vz=function(t){var r=t.max,n=t.current,a=t.change,i={x:Math.max(n.x,r.x),y:Math.max(n.y,r.y)},o=qhe(a),l=gO({max:i,current:n,change:o});return!l||o.x!==0&&l.x===0||o.y!==0&&l.y===0},yO=function(t,r){return Vz({current:t.scroll.current,max:t.scroll.max,change:r})},Uhe=function(t,r){if(!yO(t,r))return null;var n=t.scroll.max,a=t.scroll.current;return gO({current:a,max:n,change:r})},xO=function(t,r){var n=t.frame;return n?Vz({current:n.scroll.current,max:n.scroll.max,change:r}):!1},zhe=function(t,r){var n=t.frame;return!n||!xO(t,r)?null:gO({current:n.scroll.current,max:n.scroll.max,change:r})},Whe=function(e){var t=e.viewport,r=e.subject,n=e.center,a=e.dragStartTime,i=e.shouldUseTimeDampening,o=Wz({dragStartTime:a,container:t.frame,subject:r,center:n,shouldUseTimeDampening:i});return o&&yO(t,o)?o:null},Vhe=function(e){var t=e.droppable,r=e.subject,n=e.center,a=e.dragStartTime,i=e.shouldUseTimeDampening,o=t.frame;if(!o)return null;var l=Wz({dragStartTime:a,container:o.pageMarginBox,subject:r,center:n,shouldUseTimeDampening:i});return l&&xO(t,l)?l:null},DD=function(e){var t=e.state,r=e.dragStartTime,n=e.shouldUseTimeDampening,a=e.scrollWindow,i=e.scrollDroppable,o=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id],c=l.page.marginBox;if(t.isWindowScrollAllowed){var u=t.viewport,d=Whe({dragStartTime:r,viewport:u,subject:c,center:o,shouldUseTimeDampening:n});if(d){a(d);return}}var f=Rhe({center:o,destination:yi(t.impact),droppables:t.dimensions.droppables});if(f){var h=Vhe({dragStartTime:r,droppable:f,subject:c,center:o,shouldUseTimeDampening:n});h&&i(f.descriptor.id,h)}},Hhe=function(e){var t=e.scrollWindow,r=e.scrollDroppable,n=mm(t),a=mm(r),i=null,o=function(d){i||Oe();var f=i,h=f.shouldUseTimeDampening,p=f.dragStartTime;DD({state:d,scrollWindow:n,scrollDroppable:a,dragStartTime:p,shouldUseTimeDampening:h})},l=function(d){i&&Oe();var f=Date.now(),h=!1,p=function(){h=!0};DD({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:p,scrollDroppable:p}),i={dragStartTime:f,shouldUseTimeDampening:h},h&&o(d)},c=function(){i&&(n.cancel(),a.cancel(),i=null)};return{start:l,stop:c,scroll:o}},Ghe=function(e){var t=e.move,r=e.scrollDroppable,n=e.scrollWindow,a=function(u,d){var f=aa(u.current.client.selection,d);t({client:f})},i=function(u,d){if(!xO(u,d))return d;var f=zhe(u,d);if(!f)return r(u.descriptor.id,d),null;var h=pi(d,f);r(u.descriptor.id,h);var p=pi(d,h);return p},o=function(u,d,f){if(!u||!yO(d,f))return f;var h=Uhe(d,f);if(!h)return n(f),null;var p=pi(f,h);n(p);var y=pi(f,p);return y},l=function(u){var d=u.scrollJumpRequest;if(d){var f=yi(u.impact);f||Oe();var h=i(u.dimensions.droppables[f],d);if(h){var p=u.viewport,y=o(u.isWindowScrollAllowed,p,h);y&&a(u,y)}}};return l},Khe=function(e){var t=e.scrollDroppable,r=e.scrollWindow,n=e.move,a=Hhe({scrollWindow:r,scrollDroppable:t}),i=Ghe({move:n,scrollWindow:r,scrollDroppable:t}),o=function(u){if(u.phase==="DRAGGING"){if(u.movementMode==="FLUID"){a.scroll(u);return}u.scrollJumpRequest&&i(u)}},l={scroll:o,start:a.start,stop:a.stop};return l},Sf="data-rbd",_f=function(){var e=Sf+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),X1=function(){var e=Sf+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Yhe=function(){var e=Sf+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),ID={contextId:Sf+"-scroll-container-context-id"},Xhe=function(t){return function(r){return"["+r+'="'+t+'"]'}},Hh=function(t,r){return t.map(function(n){var a=n.styles[r];return a?n.selector+" { "+a+" }":""}).join(" ")},Qhe="pointer-events: none;",Jhe=function(e){var t=Xhe(e),r=function(){var l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(_f.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:Qhe,dropAnimating:l}}}(),n=function(){var l=`
      transition: `+Op.outOfTheWay+`;
    `;return{selector:t(X1.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}}(),a={selector:t(Yhe.contextId),styles:{always:"overflow-anchor: none;"}},i={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},o=[n,r,a,i];return{always:Hh(o,"always"),resting:Hh(o,"resting"),dragging:Hh(o,"dragging"),dropAnimating:Hh(o,"dropAnimating"),userCancel:Hh(o,"userCancel")}},xi=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?g.useLayoutEffect:g.useEffect,pS=function(){var t=document.querySelector("head");return t||Oe(),t},RD=function(t){var r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.type="text/css",r};function Zhe(e,t){var r=vr(function(){return Jhe(e)},[e]),n=g.useRef(null),a=g.useRef(null),i=it(Xn(function(f){var h=a.current;h||Oe(),h.textContent=f}),[]),o=it(function(f){var h=n.current;h||Oe(),h.textContent=f},[]);xi(function(){!n.current&&!a.current||Oe();var f=RD(t),h=RD(t);return n.current=f,a.current=h,f.setAttribute(Sf+"-always",e),h.setAttribute(Sf+"-dynamic",e),pS().appendChild(f),pS().appendChild(h),o(r.always),i(r.resting),function(){var p=function(m){var v=m.current;v||Oe(),pS().removeChild(v),m.current=null};p(n),p(a)}},[t,o,i,r.always,r.resting,e]);var l=it(function(){return i(r.dragging)},[i,r.dragging]),c=it(function(f){if(f==="DROP"){i(r.dropAnimating);return}i(r.userCancel)},[i,r.dropAnimating,r.userCancel]),u=it(function(){a.current&&i(r.resting)},[i,r.resting]),d=vr(function(){return{dragging:l,dropping:c,resting:u}},[l,c,u]);return d}var Hz=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function K0(e){return e instanceof Hz(e).HTMLElement}function epe(e,t){var r="["+_f.contextId+'="'+e+'"]',n=pz(document.querySelectorAll(r));if(!n.length)return null;var a=gc(n,function(i){return i.getAttribute(_f.draggableId)===t});return!a||!K0(a)?null:a}function tpe(e){var t=g.useRef({}),r=g.useRef(null),n=g.useRef(null),a=g.useRef(!1),i=it(function(h,p){var y={id:h,focus:p};return t.current[h]=y,function(){var v=t.current,x=v[h];x!==y&&delete v[h]}},[]),o=it(function(h){var p=epe(e,h);p&&p!==document.activeElement&&p.focus()},[e]),l=it(function(h,p){r.current===h&&(r.current=p)},[]),c=it(function(){n.current||a.current&&(n.current=requestAnimationFrame(function(){n.current=null;var h=r.current;h&&o(h)}))},[o]),u=it(function(h){r.current=null;var p=document.activeElement;p&&p.getAttribute(_f.draggableId)===h&&(r.current=h)},[]);xi(function(){return a.current=!0,function(){a.current=!1;var h=n.current;h&&cancelAnimationFrame(h)}},[]);var d=vr(function(){return{register:i,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:l}},[i,u,c,l]);return d}function rpe(){var e={draggables:{},droppables:{}},t=[];function r(f){return t.push(f),function(){var p=t.indexOf(f);p!==-1&&t.splice(p,1)}}function n(f){t.length&&t.forEach(function(h){return h(f)})}function a(f){return e.draggables[f]||null}function i(f){var h=a(f);return h||Oe(),h}var o={register:function(h){e.draggables[h.descriptor.id]=h,n({type:"ADDITION",value:h})},update:function(h,p){var y=e.draggables[p.descriptor.id];y&&y.uniqueId===h.uniqueId&&(delete e.draggables[p.descriptor.id],e.draggables[h.descriptor.id]=h)},unregister:function(h){var p=h.descriptor.id,y=a(p);y&&h.uniqueId===y.uniqueId&&(delete e.draggables[p],n({type:"REMOVAL",value:h}))},getById:i,findById:a,exists:function(h){return!!a(h)},getAllByType:function(h){return kx(e.draggables).filter(function(p){return p.descriptor.type===h})}};function l(f){return e.droppables[f]||null}function c(f){var h=l(f);return h||Oe(),h}var u={register:function(h){e.droppables[h.descriptor.id]=h},unregister:function(h){var p=l(h.descriptor.id);p&&h.uniqueId===p.uniqueId&&delete e.droppables[h.descriptor.id]},getById:c,findById:l,exists:function(h){return!!l(h)},getAllByType:function(h){return kx(e.droppables).filter(function(p){return p.descriptor.type===h})}};function d(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:u,subscribe:r,clean:d}}function npe(){var e=vr(rpe,[]);return g.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var bO=R.createContext(null),Dx=function(){var e=document.body;return e||Oe(),e},ape={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},ipe=function(t){return"rbd-announcement-"+t};function spe(e){var t=vr(function(){return ipe(e)},[e]),r=g.useRef(null);g.useEffect(function(){var i=document.createElement("div");return r.current=i,i.id=t,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),mt(i.style,ape),Dx().appendChild(i),function(){setTimeout(function(){var c=Dx();c.contains(i)&&c.removeChild(i),i===r.current&&(r.current=null)})}},[t]);var n=it(function(a){var i=r.current;if(i){i.textContent=a;return}},[]);return n}var ope=0,lpe={separator:"::"};function wO(e,t){return t===void 0&&(t=lpe),vr(function(){return""+e+t.separator+ope++},[t.separator,e])}function cpe(e){var t=e.contextId,r=e.uniqueId;return"rbd-hidden-text-"+t+"-"+r}function upe(e){var t=e.contextId,r=e.text,n=wO("hidden-text",{separator:"-"}),a=vr(function(){return cpe({contextId:t,uniqueId:n})},[n,t]);return g.useEffect(function(){var o=document.createElement("div");return o.id=a,o.textContent=r,o.style.display="none",Dx().appendChild(o),function(){var c=Dx();c.contains(o)&&c.removeChild(o)}},[a,r]),a}var Y0=R.createContext(null);function Gz(e){var t=g.useRef(e);return g.useEffect(function(){t.current=e}),t}function dpe(){var e=null;function t(){return!!e}function r(o){return o===e}function n(o){e&&Oe();var l={abandon:o};return e=l,l}function a(){e||Oe(),e=null}function i(){e&&(e.abandon(),a())}return{isClaimed:t,isActive:r,claim:n,release:a,tryAbandon:i}}var fpe=9,hpe=13,jO=27,Kz=32,ppe=33,mpe=34,vpe=35,gpe=36,ype=37,xpe=38,bpe=39,wpe=40,Gg,jpe=(Gg={},Gg[hpe]=!0,Gg[fpe]=!0,Gg),Yz=function(e){jpe[e.keyCode]&&e.preventDefault()},X0=function(){var e="visibilitychange";if(typeof document>"u")return e;var t=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],r=gc(t,function(n){return"on"+n in document});return r||e}(),Xz=0,$D=5;function Spe(e,t){return Math.abs(t.x-e.x)>=$D||Math.abs(t.y-e.y)>=$D}var MD={type:"IDLE"};function _pe(e){var t=e.cancel,r=e.completed,n=e.getPhase,a=e.setPhase;return[{eventName:"mousemove",fn:function(o){var l=o.button,c=o.clientX,u=o.clientY;if(l===Xz){var d={x:c,y:u},f=n();if(f.type==="DRAGGING"){o.preventDefault(),f.actions.move(d);return}f.type!=="PENDING"&&Oe();var h=f.point;if(Spe(h,d)){o.preventDefault();var p=f.actions.fluidLift(d);a({type:"DRAGGING",actions:p})}}}},{eventName:"mouseup",fn:function(o){var l=n();if(l.type!=="DRAGGING"){t();return}o.preventDefault(),l.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"mousedown",fn:function(o){n().type==="DRAGGING"&&o.preventDefault(),t()}},{eventName:"keydown",fn:function(o){var l=n();if(l.type==="PENDING"){t();return}if(o.keyCode===jO){o.preventDefault(),t();return}Yz(o)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:function(o){var l=n();if(l.type==="IDLE"&&Oe(),l.actions.shouldRespectForcePress()){t();return}o.preventDefault()}},{eventName:X0,fn:t}]}function Npe(e){var t=g.useRef(MD),r=g.useRef(zl),n=vr(function(){return{eventName:"mousedown",fn:function(f){if(!f.defaultPrevented&&f.button===Xz&&!(f.ctrlKey||f.metaKey||f.shiftKey||f.altKey)){var h=e.findClosestDraggableId(f);if(h){var p=e.tryGetLock(h,o,{sourceEvent:f});if(p){f.preventDefault();var y={x:f.clientX,y:f.clientY};r.current(),u(p,y)}}}}}},[e]),a=vr(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(f){if(!f.defaultPrevented){var h=e.findClosestDraggableId(f);if(h){var p=e.findOptionsForDraggable(h);p&&(p.shouldRespectForcePress||e.canGetLock(h)&&f.preventDefault())}}}}},[e]),i=it(function(){var f={passive:!1,capture:!0};r.current=qi(window,[a,n],f)},[a,n]),o=it(function(){var d=t.current;d.type!=="IDLE"&&(t.current=MD,r.current(),i())},[i]),l=it(function(){var d=t.current;o(),d.type==="DRAGGING"&&d.actions.cancel({shouldBlockNextClick:!0}),d.type==="PENDING"&&d.actions.abort()},[o]),c=it(function(){var f={capture:!0,passive:!1},h=_pe({cancel:l,completed:o,getPhase:function(){return t.current},setPhase:function(y){t.current=y}});r.current=qi(window,h,f)},[l,o]),u=it(function(f,h){t.current.type!=="IDLE"&&Oe(),t.current={type:"PENDING",point:h,actions:f},c()},[c]);xi(function(){return i(),function(){r.current()}},[i])}var od;function Cpe(){}var Epe=(od={},od[mpe]=!0,od[ppe]=!0,od[gpe]=!0,od[vpe]=!0,od);function Ppe(e,t){function r(){t(),e.cancel()}function n(){t(),e.drop()}return[{eventName:"keydown",fn:function(i){if(i.keyCode===jO){i.preventDefault(),r();return}if(i.keyCode===Kz){i.preventDefault(),n();return}if(i.keyCode===wpe){i.preventDefault(),e.moveDown();return}if(i.keyCode===xpe){i.preventDefault(),e.moveUp();return}if(i.keyCode===bpe){i.preventDefault(),e.moveRight();return}if(i.keyCode===ype){i.preventDefault(),e.moveLeft();return}if(Epe[i.keyCode]){i.preventDefault();return}Yz(i)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:X0,fn:r}]}function Ope(e){var t=g.useRef(Cpe),r=vr(function(){return{eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==Kz)return;var o=e.findClosestDraggableId(i);if(!o)return;var l=e.tryGetLock(o,d,{sourceEvent:i});if(!l)return;i.preventDefault();var c=!0,u=l.snapLift();t.current();function d(){c||Oe(),c=!1,t.current(),n()}t.current=qi(window,Ppe(u,d),{capture:!0,passive:!1})}}},[e]),n=it(function(){var i={passive:!1,capture:!0};t.current=qi(window,[r],i)},[r]);xi(function(){return n(),function(){t.current()}},[n])}var mS={type:"IDLE"},Ape=120,kpe=.15;function Tpe(e){var t=e.cancel,r=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(a){a.preventDefault()}},{eventName:"keydown",fn:function(a){if(r().type!=="DRAGGING"){t();return}a.keyCode===jO&&a.preventDefault(),t()}},{eventName:X0,fn:t}]}function Dpe(e){var t=e.cancel,r=e.completed,n=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(i){var o=n();if(o.type!=="DRAGGING"){t();return}o.hasMoved=!0;var l=i.touches[0],c=l.clientX,u=l.clientY,d={x:c,y:u};i.preventDefault(),o.actions.move(d)}},{eventName:"touchend",fn:function(i){var o=n();if(o.type!=="DRAGGING"){t();return}i.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"touchcancel",fn:function(i){if(n().type!=="DRAGGING"){t();return}i.preventDefault(),t()}},{eventName:"touchforcechange",fn:function(i){var o=n();o.type==="IDLE"&&Oe();var l=i.touches[0];if(l){var c=l.force>=kpe;if(c){var u=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){u&&t();return}if(u){if(o.hasMoved){i.preventDefault();return}t();return}i.preventDefault()}}}},{eventName:X0,fn:t}]}function Ipe(e){var t=g.useRef(mS),r=g.useRef(zl),n=it(function(){return t.current},[]),a=it(function(p){t.current=p},[]),i=vr(function(){return{eventName:"touchstart",fn:function(p){if(!p.defaultPrevented){var y=e.findClosestDraggableId(p);if(y){var m=e.tryGetLock(y,l,{sourceEvent:p});if(m){var v=p.touches[0],x=v.clientX,b=v.clientY,w={x,y:b};r.current(),f(m,w)}}}}}},[e]),o=it(function(){var p={capture:!0,passive:!1};r.current=qi(window,[i],p)},[i]),l=it(function(){var h=t.current;h.type!=="IDLE"&&(h.type==="PENDING"&&clearTimeout(h.longPressTimerId),a(mS),r.current(),o())},[o,a]),c=it(function(){var h=t.current;l(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[l]),u=it(function(){var p={capture:!0,passive:!1},y={cancel:c,completed:l,getPhase:n},m=qi(window,Dpe(y),p),v=qi(window,Tpe(y),p);r.current=function(){m(),v()}},[c,n,l]),d=it(function(){var p=n();p.type!=="PENDING"&&Oe();var y=p.actions.fluidLift(p.point);a({type:"DRAGGING",actions:y,hasMoved:!1})},[n,a]),f=it(function(p,y){n().type!=="IDLE"&&Oe();var m=setTimeout(d,Ape);a({type:"PENDING",point:y,actions:p,longPressTimerId:m}),u()},[u,n,a,d]);xi(function(){return o(),function(){r.current();var y=n();y.type==="PENDING"&&(clearTimeout(y.longPressTimerId),a(mS))}},[n,o,a]),xi(function(){var p=qi(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return p},[])}var Rpe={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function Qz(e,t){if(t==null)return!1;var r=!!Rpe[t.tagName.toLowerCase()];if(r)return!0;var n=t.getAttribute("contenteditable");return n==="true"||n===""?!0:t===e?!1:Qz(e,t.parentElement)}function $pe(e,t){var r=t.target;return K0(r)?Qz(e,r):!1}var Mpe=function(e){return xs(e.getBoundingClientRect()).center};function Lpe(e){return e instanceof Hz(e).Element}var Fpe=function(){var e="matches";if(typeof document>"u")return e;var t=[e,"msMatchesSelector","webkitMatchesSelector"],r=gc(t,function(n){return n in Element.prototype});return r||e}();function Jz(e,t){return e==null?null:e[Fpe](t)?e:Jz(e.parentElement,t)}function Bpe(e,t){return e.closest?e.closest(t):Jz(e,t)}function qpe(e){return"["+_f.contextId+'="'+e+'"]'}function Upe(e,t){var r=t.target;if(!Lpe(r))return null;var n=qpe(e),a=Bpe(r,n);return!a||!K0(a)?null:a}function zpe(e,t){var r=Upe(e,t);return r?r.getAttribute(_f.draggableId):null}function Wpe(e,t){var r="["+X1.contextId+'="'+e+'"]',n=pz(document.querySelectorAll(r)),a=gc(n,function(i){return i.getAttribute(X1.id)===t});return!a||!K0(a)?null:a}function Vpe(e){e.preventDefault()}function Kg(e){var t=e.expected,r=e.phase,n=e.isLockActive;return e.shouldWarn,!(!n()||t!==r)}function Zz(e){var t=e.lockAPI,r=e.store,n=e.registry,a=e.draggableId;if(t.isClaimed())return!1;var i=n.draggable.findById(a);return!(!i||!i.options.isEnabled||!Uz(r.getState(),a))}function Hpe(e){var t=e.lockAPI,r=e.contextId,n=e.store,a=e.registry,i=e.draggableId,o=e.forceSensorStop,l=e.sourceEvent,c=Zz({lockAPI:t,store:n,registry:a,draggableId:i});if(!c)return null;var u=a.draggable.getById(i),d=Wpe(r,u.descriptor.id);if(!d||l&&!u.options.canDragInteractiveElements&&$pe(d,l))return null;var f=t.claim(o||zl),h="PRE_DRAG";function p(){return u.options.shouldRespectForcePress}function y(){return t.isActive(f)}function m(_,N){Kg({expected:_,phase:h,isLockActive:y,shouldWarn:!0})&&n.dispatch(N())}var v=m.bind(null,"DRAGGING");function x(_){function N(){t.release(),h="COMPLETED"}h!=="PRE_DRAG"&&(N(),h!=="PRE_DRAG"&&Oe()),n.dispatch(Ffe(_.liftActionArgs)),h="DRAGGING";function C(E,A){if(A===void 0&&(A={shouldBlockNextClick:!1}),_.cleanup(),A.shouldBlockNextClick){var O=qi(window,[{eventName:"click",fn:Vpe,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(O)}N(),n.dispatch(Rz({reason:E}))}return mt({isActive:function(){return Kg({expected:"DRAGGING",phase:h,isLockActive:y,shouldWarn:!1})},shouldRespectForcePress:p,drop:function(A){return C("DROP",A)},cancel:function(A){return C("CANCEL",A)}},_.actions)}function b(_){var N=mm(function(E){v(function(){return Iz({client:E})})}),C=x({liftActionArgs:{id:i,clientSelection:_,movementMode:"FLUID"},cleanup:function(){return N.cancel()},actions:{move:N}});return mt({},C,{move:N})}function w(){var _={moveUp:function(){return v(Kfe)},moveRight:function(){return v(Xfe)},moveDown:function(){return v(Yfe)},moveLeft:function(){return v(Qfe)}};return x({liftActionArgs:{id:i,clientSelection:Mpe(d),movementMode:"SNAP"},cleanup:zl,actions:_})}function j(){var _=Kg({expected:"PRE_DRAG",phase:h,isLockActive:y,shouldWarn:!0});_&&t.release()}var S={isActive:function(){return Kg({expected:"PRE_DRAG",phase:h,isLockActive:y,shouldWarn:!1})},shouldRespectForcePress:p,fluidLift:b,snapLift:w,abort:j};return S}var Gpe=[Npe,Ope,Ipe];function Kpe(e){var t=e.contextId,r=e.store,n=e.registry,a=e.customSensors,i=e.enableDefaultSensors,o=[].concat(i?Gpe:[],a||[]),l=g.useState(function(){return dpe()})[0],c=it(function(b,w){b.isDragging&&!w.isDragging&&l.tryAbandon()},[l]);xi(function(){var b=r.getState(),w=r.subscribe(function(){var j=r.getState();c(b,j),b=j});return w},[l,r,c]),xi(function(){return l.tryAbandon},[l.tryAbandon]);for(var u=it(function(x){return Zz({lockAPI:l,registry:n,store:r,draggableId:x})},[l,n,r]),d=it(function(x,b,w){return Hpe({lockAPI:l,registry:n,contextId:t,store:r,draggableId:x,forceSensorStop:b,sourceEvent:w&&w.sourceEvent?w.sourceEvent:null})},[t,l,n,r]),f=it(function(x){return zpe(t,x)},[t]),h=it(function(x){var b=n.draggable.findById(x);return b?b.options:null},[n.draggable]),p=it(function(){l.isClaimed()&&(l.tryAbandon(),r.getState().phase!=="IDLE"&&r.dispatch(fO()))},[l,r]),y=it(l.isClaimed,[l]),m=vr(function(){return{canGetLock:u,tryGetLock:d,findClosestDraggableId:f,findOptionsForDraggable:h,tryReleaseLock:p,isLockClaimed:y}},[u,d,f,h,p,y]),v=0;v<o.length;v++)o[v](m)}var Ype=function(t){return{onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}};function Gh(e){return e.current||Oe(),e.current}function Xpe(e){var t=e.contextId,r=e.setCallbacks,n=e.sensors,a=e.nonce,i=e.dragHandleUsageInstructions,o=g.useRef(null),l=Gz(e),c=it(function(){return Ype(l.current)},[l]),u=spe(t),d=upe({contextId:t,text:i}),f=Zhe(t,a),h=it(function(E){Gh(o).dispatch(E)},[]),p=vr(function(){return sD({publishWhileDragging:qfe,updateDroppableScroll:zfe,updateDroppableIsEnabled:Wfe,updateDroppableIsCombineEnabled:Vfe,collectionStarting:Ufe},h)},[h]),y=npe(),m=vr(function(){return khe(y,p)},[y,p]),v=vr(function(){return Khe(mt({scrollWindow:The,scrollDroppable:m.scrollDroppable},sD({move:Iz},h)))},[m.scrollDroppable,h]),x=tpe(t),b=vr(function(){return Ehe({announce:u,autoScroller:v,dimensionMarshal:m,focusMarshal:x,getResponders:c,styleMarshal:f})},[u,v,m,x,c,f]);o.current=b;var w=it(function(){var E=Gh(o),A=E.getState();A.phase!=="IDLE"&&E.dispatch(fO())},[]),j=it(function(){var E=Gh(o).getState();return E.isDragging||E.phase==="DROP_ANIMATING"},[]),S=vr(function(){return{isDragging:j,tryAbort:w}},[j,w]);r(S);var _=it(function(E){return Uz(Gh(o).getState(),E)},[]),N=it(function(){return Mc(Gh(o).getState())},[]),C=vr(function(){return{marshal:m,focus:x,contextId:t,canLift:_,isMovementAllowed:N,dragHandleUsageInstructionsId:d,registry:y}},[t,m,d,x,_,N,y]);return Kpe({contextId:t,store:b,registry:y,customSensors:n,enableDefaultSensors:e.enableDefaultSensors!==!1}),g.useEffect(function(){return w},[w]),R.createElement(Y0.Provider,{value:C},R.createElement(xue,{context:bO,store:b},e.children))}var Qpe=0;function Jpe(){return vr(function(){return""+Qpe++},[])}function Zpe(e){var t=Jpe(),r=e.dragHandleUsageInstructions||Dy.dragHandleUsageInstructions;return R.createElement(Ode,null,function(n){return R.createElement(Xpe,{nonce:e.nonce,contextId:t,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var e8=function(t){return function(r){return t===r}},eme=e8("scroll"),tme=e8("auto"),LD=function(t,r){return r(t.overflowX)||r(t.overflowY)},rme=function(t){var r=window.getComputedStyle(t),n={overflowX:r.overflowX,overflowY:r.overflowY};return LD(n,eme)||LD(n,tme)},nme=function(){return!1},ame=function e(t){return t==null?null:t===document.body?nme()?t:null:t===document.documentElement?null:rme(t)?t:e(t.parentElement)},Q1=function(e){return{x:e.scrollLeft,y:e.scrollTop}},ime=function e(t){if(!t)return!1;var r=window.getComputedStyle(t);return r.position==="fixed"?!0:e(t.parentElement)},sme=function(e){var t=ame(e),r=ime(e);return{closestScrollable:t,isFixedOnPage:r}},ome=function(e){var t=e.descriptor,r=e.isEnabled,n=e.isCombineEnabled,a=e.isFixedOnPage,i=e.direction,o=e.client,l=e.page,c=e.closest,u=function(){if(!c)return null;var p=c.scrollSize,y=c.client,m=Fz({scrollHeight:p.scrollHeight,scrollWidth:p.scrollWidth,height:y.paddingBox.height,width:y.paddingBox.width});return{pageMarginBox:c.page.marginBox,frameClient:y,scrollSize:p,shouldClipSubject:c.shouldClipSubject,scroll:{initial:c.scroll,current:c.scroll,max:m,diff:{value:Qn,displacement:Qn}}}}(),d=i==="vertical"?oO:xz,f=jf({page:l,withPlaceholder:null,axis:d,frame:u}),h={descriptor:t,isCombineEnabled:n,isFixedOnPage:a,axis:d,isEnabled:r,client:o,page:l,frame:u,subject:f};return h},lme=function(t,r){var n=cz(t);if(!r||t!==r)return n;var a=n.paddingBox.top-r.scrollTop,i=n.paddingBox.left-r.scrollLeft,o=a+r.scrollHeight,l=i+r.scrollWidth,c={top:a,right:l,bottom:o,left:i},u=rO(c,n.border),d=nO({borderBox:u,margin:n.margin,border:n.border,padding:n.padding});return d},cme=function(e){var t=e.ref,r=e.descriptor,n=e.env,a=e.windowScroll,i=e.direction,o=e.isDropDisabled,l=e.isCombineEnabled,c=e.shouldClipSubject,u=n.closestScrollable,d=lme(t,u),f=Px(d,a),h=function(){if(!u)return null;var y=cz(u),m={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:y,page:Px(y,a),scroll:Q1(u),scrollSize:m,shouldClipSubject:c}}(),p=ome({descriptor:r,isEnabled:!o,isCombineEnabled:l,isFixedOnPage:n.isFixedOnPage,direction:i,client:d,page:f,closest:h});return p},ume={passive:!1},dme={passive:!0},FD=function(e){return e.shouldPublishImmediately?ume:dme};function Ix(e){var t=g.useContext(e);return t||Oe(),t}var Yg=function(t){return t&&t.env.closestScrollable||null};function fme(e){var t=g.useRef(null),r=Ix(Y0),n=wO("droppable"),a=r.registry,i=r.marshal,o=Gz(e),l=vr(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),c=g.useRef(l),u=vr(function(){return Xn(function(j,S){t.current||Oe();var _={x:j,y:S};i.updateDroppableScroll(l.id,_)})},[l.id,i]),d=it(function(){var j=t.current;return!j||!j.env.closestScrollable?Qn:Q1(j.env.closestScrollable)},[]),f=it(function(){var j=d();u(j.x,j.y)},[d,u]),h=vr(function(){return mm(f)},[f]),p=it(function(){var j=t.current,S=Yg(j);j&&S||Oe();var _=j.scrollOptions;if(_.shouldPublishImmediately){f();return}h()},[h,f]),y=it(function(j,S){t.current&&Oe();var _=o.current,N=_.getDroppableRef();N||Oe();var C=sme(N),E={ref:N,descriptor:l,env:C,scrollOptions:S};t.current=E;var A=cme({ref:N,descriptor:l,env:C,windowScroll:j,direction:_.direction,isDropDisabled:_.isDropDisabled,isCombineEnabled:_.isCombineEnabled,shouldClipSubject:!_.ignoreContainerClipping}),O=C.closestScrollable;return O&&(O.setAttribute(ID.contextId,r.contextId),O.addEventListener("scroll",p,FD(E.scrollOptions))),A},[r.contextId,l,p,o]),m=it(function(){var j=t.current,S=Yg(j);return j&&S||Oe(),Q1(S)},[]),v=it(function(){var j=t.current;j||Oe();var S=Yg(j);t.current=null,S&&(h.cancel(),S.removeAttribute(ID.contextId),S.removeEventListener("scroll",p,FD(j.scrollOptions)))},[p,h]),x=it(function(j){var S=t.current;S||Oe();var _=Yg(S);_||Oe(),_.scrollTop+=j.y,_.scrollLeft+=j.x},[]),b=vr(function(){return{getDimensionAndWatchScroll:y,getScrollWhileDragging:m,dragStopped:v,scroll:x}},[v,y,m,x]),w=vr(function(){return{uniqueId:n,descriptor:l,callbacks:b}},[b,l,n]);xi(function(){return c.current=w.descriptor,a.droppable.register(w),function(){t.current&&v(),a.droppable.unregister(w)}},[b,l,v,w,i,a.droppable]),xi(function(){t.current&&i.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),xi(function(){t.current&&i.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}function vS(){}var BD={width:0,height:0,margin:Rde},hme=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,a=t.animate;return r||a==="close"?BD:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}},pme=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,a=t.animate,i=hme({isAnimatingOpenOnMount:r,placeholder:n,animate:a});return{display:n.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:a!=="none"?Op.placeholder:null}};function mme(e){var t=g.useRef(null),r=it(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),n=e.animate,a=e.onTransitionEnd,i=e.onClose,o=e.contextId,l=g.useState(e.animate==="open"),c=l[0],u=l[1];g.useEffect(function(){return c?n!=="open"?(r(),u(!1),vS):t.current?vS:(t.current=setTimeout(function(){t.current=null,u(!1)}),r):vS},[n,c,r]);var d=it(function(h){h.propertyName==="height"&&(a(),n==="close"&&i())},[n,i,a]),f=pme({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return R.createElement(e.placeholder.tagName,{style:f,"data-rbd-placeholder-context-id":o,onTransitionEnd:d,ref:e.innerRef})}var vme=R.memo(mme),SO=R.createContext(null),gme=function(e){FU(t,e);function t(){for(var n,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i))||this,n.state={isVisible:!!n.props.on,data:n.props.on,animate:n.props.shouldAnimate&&n.props.on?"open":"none"},n.onClose=function(){n.state.animate==="close"&&n.setState({isVisible:!1})},n}t.getDerivedStateFromProps=function(a,i){return a.shouldAnimate?a.on?{isVisible:!0,data:a.on,animate:"open"}:i.isVisible?{isVisible:!0,data:i.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!a.on,data:a.on,animate:"none"}};var r=t.prototype;return r.render=function(){if(!this.state.isVisible)return null;var a={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(a)},t}(R.PureComponent),qD={dragging:5e3,dropAnimating:4500},yme=function(t,r){return r?Op.drop(r.duration):t?Op.snap:Op.fluid},xme=function(t,r){return t?r?xm.opacity.drop:xm.opacity.combining:null},bme=function(t){return t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP"};function wme(e){var t=e.dimension,r=t.client,n=e.offset,a=e.combineWith,i=e.dropping,o=!!a,l=bme(e),c=!!i,u=c?K1.drop(n,o):K1.moveTo(n),d={position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:yme(l,i),transform:u,opacity:xme(o,c),zIndex:c?qD.dropAnimating:qD.dragging,pointerEvents:"none"};return d}function jme(e){return{transform:K1.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function Sme(e){return e.type==="DRAGGING"?wme(e):jme(e)}function _me(e,t,r){r===void 0&&(r=Qn);var n=window.getComputedStyle(t),a=t.getBoundingClientRect(),i=lz(a,n),o=Px(i,r),l={client:i,tagName:t.tagName.toLowerCase(),display:n.display},c={x:i.marginBox.width,y:i.marginBox.height},u={descriptor:e,placeholder:l,displaceBy:c,client:i,page:o};return u}function Nme(e){var t=wO("draggable"),r=e.descriptor,n=e.registry,a=e.getDraggableRef,i=e.canDragInteractiveElements,o=e.shouldRespectForcePress,l=e.isEnabled,c=vr(function(){return{canDragInteractiveElements:i,shouldRespectForcePress:o,isEnabled:l}},[i,l,o]),u=it(function(p){var y=a();return y||Oe(),_me(r,y,p)},[r,a]),d=vr(function(){return{uniqueId:t,descriptor:r,options:c,getDimension:u}},[r,u,c,t]),f=g.useRef(d),h=g.useRef(!0);xi(function(){return n.draggable.register(f.current),function(){return n.draggable.unregister(f.current)}},[n.draggable]),xi(function(){if(h.current){h.current=!1;return}var p=f.current;f.current=d,n.draggable.update(d,p)},[d,n.draggable])}function Cme(e){e.preventDefault()}function Eme(e){var t=g.useRef(null),r=it(function(E){t.current=E},[]),n=it(function(){return t.current},[]),a=Ix(Y0),i=a.contextId,o=a.dragHandleUsageInstructionsId,l=a.registry,c=Ix(SO),u=c.type,d=c.droppableId,f=vr(function(){return{id:e.draggableId,index:e.index,type:u,droppableId:d}},[e.draggableId,e.index,u,d]),h=e.children,p=e.draggableId,y=e.isEnabled,m=e.shouldRespectForcePress,v=e.canDragInteractiveElements,x=e.isClone,b=e.mapped,w=e.dropAnimationFinished;if(!x){var j=vr(function(){return{descriptor:f,registry:l,getDraggableRef:n,canDragInteractiveElements:v,shouldRespectForcePress:m,isEnabled:y}},[f,l,n,v,m,y]);Nme(j)}var S=vr(function(){return y?{tabIndex:0,role:"button","aria-describedby":o,"data-rbd-drag-handle-draggable-id":p,"data-rbd-drag-handle-context-id":i,draggable:!1,onDragStart:Cme}:null},[i,o,p,y]),_=it(function(E){b.type==="DRAGGING"&&b.dropping&&E.propertyName==="transform"&&w()},[w,b]),N=vr(function(){var E=Sme(b),A=b.type==="DRAGGING"&&b.dropping?_:null,O={innerRef:r,draggableProps:{"data-rbd-draggable-context-id":i,"data-rbd-draggable-id":p,style:E,onTransitionEnd:A},dragHandleProps:S};return O},[i,S,p,b,_,r]),C=vr(function(){return{draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}}},[f.droppableId,f.id,f.index,f.type]);return h(N,b.snapshot,C)}var t8=function(e,t){return e===t},r8=function(e){var t=e.combine,r=e.destination;return r?r.droppableId:t?t.droppableId:null},Pme=function(t){return t.combine?t.combine.draggableId:null},Ome=function(t){return t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null};function Ame(){var e=Xn(function(a,i){return{x:a,y:i}}),t=Xn(function(a,i,o,l,c){return{isDragging:!0,isClone:i,isDropAnimating:!!c,dropAnimation:c,mode:a,draggingOver:o,combineWith:l,combineTargetFor:null}}),r=Xn(function(a,i,o,l,c,u,d){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:u,mode:i,offset:a,dimension:o,forceShouldAnimate:d,snapshot:t(i,l,c,u,null)}}}),n=function(i,o){if(i.isDragging){if(i.critical.draggable.id!==o.draggableId)return null;var l=i.current.client.offset,c=i.dimensions.draggables[o.draggableId],u=yi(i.impact),d=Ome(i.impact),f=i.forceShouldAnimate;return r(e(l.x,l.y),i.movementMode,c,o.isClone,u,d,f)}if(i.phase==="DROP_ANIMATING"){var h=i.completed;if(h.result.draggableId!==o.draggableId)return null;var p=o.isClone,y=i.dimensions.draggables[o.draggableId],m=h.result,v=m.mode,x=r8(m),b=Pme(m),w=i.dropDuration,j={duration:w,curve:pO.drop,moveTo:i.newHomeClientOffset,opacity:b?xm.opacity.drop:null,scale:b?xm.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:y,dropping:j,draggingOver:x,combineWith:b,mode:v,forceShouldAnimate:null,snapshot:t(v,p,x,b,j)}}}return null};return n}function n8(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var kme={mapped:{type:"SECONDARY",offset:Qn,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:n8(null)}};function Tme(){var e=Xn(function(o,l){return{x:o,y:l}}),t=Xn(n8),r=Xn(function(o,l,c){return l===void 0&&(l=null),{mapped:{type:"SECONDARY",offset:o,combineTargetFor:l,shouldAnimateDisplacement:c,snapshot:t(l)}}}),n=function(l){return l?r(Qn,l,!0):null},a=function(l,c,u,d){var f=u.displaced.visible[l],h=!!(d.inVirtualList&&d.effected[l]),p=V0(u),y=p&&p.draggableId===l?c:null;if(!f){if(!h)return n(y);if(u.displaced.invisible[l])return null;var m=dh(d.displacedBy.point),v=e(m.x,m.y);return r(v,y,!0)}if(h)return n(y);var x=u.displacedBy.point,b=e(x.x,x.y);return r(b,y,f.shouldAnimate)},i=function(l,c){if(l.isDragging)return l.critical.draggable.id===c.draggableId?null:a(c.draggableId,l.critical.draggable.id,l.impact,l.afterCritical);if(l.phase==="DROP_ANIMATING"){var u=l.completed;return u.result.draggableId===c.draggableId?null:a(c.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null};return i}var Dme=function(){var t=Ame(),r=Tme(),n=function(i,o){return t(i,o)||r(i,o)||kme};return n},Ime={dropAnimationFinished:$z},Rme=sz(Dme,Ime,null,{context:bO,pure:!0,areStatePropsEqual:t8})(Eme);function a8(e){var t=Ix(SO),r=t.isUsingCloneFor;return r===e.draggableId&&!e.isClone?null:R.createElement(Rme,e)}function $me(e){var t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,n=!!e.shouldRespectForcePress;return R.createElement(a8,mt({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:n}))}function Mme(e){var t=g.useContext(Y0);t||Oe();var r=t.contextId,n=t.isMovementAllowed,a=g.useRef(null),i=g.useRef(null),o=e.children,l=e.droppableId,c=e.type,u=e.mode,d=e.direction,f=e.ignoreContainerClipping,h=e.isDropDisabled,p=e.isCombineEnabled,y=e.snapshot,m=e.useClone,v=e.updateViewportMaxScroll,x=e.getContainerForClone,b=it(function(){return a.current},[]),w=it(function(O){a.current=O},[]);it(function(){return i.current},[]);var j=it(function(O){i.current=O},[]),S=it(function(){n()&&v({maxScroll:qz()})},[n,v]);fme({droppableId:l,type:c,mode:u,direction:d,isDropDisabled:h,isCombineEnabled:p,ignoreContainerClipping:f,getDroppableRef:b});var _=R.createElement(gme,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(O){var P=O.onClose,k=O.data,I=O.animate;return R.createElement(vme,{placeholder:k,onClose:P,innerRef:j,animate:I,contextId:r,onTransitionEnd:S})}),N=vr(function(){return{innerRef:w,placeholder:_,droppableProps:{"data-rbd-droppable-id":l,"data-rbd-droppable-context-id":r}}},[r,l,_,w]),C=m?m.dragging.draggableId:null,E=vr(function(){return{droppableId:l,type:c,isUsingCloneFor:C}},[l,C,c]);function A(){if(!m)return null;var O=m.dragging,P=m.render,k=R.createElement(a8,{draggableId:O.draggableId,index:O.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(I,M){return P(I,M,O)});return SE.createPortal(k,x())}return R.createElement(SO.Provider,{value:E},o(N,y),A())}var gS=function(t,r){return t===r.droppable.type},UD=function(t,r){return r.draggables[t.draggable.id]},Lme=function(){var t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},r=mt({},t,{shouldAnimatePlaceholder:!1}),n=Xn(function(o){return{draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}}}),a=Xn(function(o,l,c,u,d,f){var h=d.descriptor.id,p=d.descriptor.droppableId===o;if(p){var y=f?{render:f,dragging:n(d.descriptor)}:null,m={isDraggingOver:c,draggingOverWith:c?h:null,draggingFromThisWith:h,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:m,useClone:y}}if(!l)return r;if(!u)return t;var v={isDraggingOver:c,draggingOverWith:h,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:v,useClone:null}}),i=function(l,c){var u=c.droppableId,d=c.type,f=!c.isDropDisabled,h=c.renderClone;if(l.isDragging){var p=l.critical;if(!gS(d,p))return r;var y=UD(p,l.dimensions),m=yi(l.impact)===u;return a(u,f,m,m,y,h)}if(l.phase==="DROP_ANIMATING"){var v=l.completed;if(!gS(d,v.critical))return r;var x=UD(v.critical,l.dimensions);return a(u,f,r8(v.result)===u,yi(v.impact)===u,x,h)}if(l.phase==="IDLE"&&l.completed&&!l.shouldFlush){var b=l.completed;if(!gS(d,b.critical))return r;var w=yi(b.impact)===u,j=!!(b.impact.at&&b.impact.at.type==="COMBINE"),S=b.critical.droppable.id===u;return w?j?t:r:S?t:r}return r};return i},Fme={updateViewportMaxScroll:Gfe};function Bme(){return document.body||Oe(),document.body}var qme={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:Bme},_O=sz(Lme,Fme,null,{context:bO,pure:!0,areStatePropsEqual:t8})(Mme);_O.defaultProps=qme;const ta=[];for(let e=0;e<256;++e)ta.push((e+256).toString(16).slice(1));function Ume(e,t=0){return(ta[e[t+0]]+ta[e[t+1]]+ta[e[t+2]]+ta[e[t+3]]+"-"+ta[e[t+4]]+ta[e[t+5]]+"-"+ta[e[t+6]]+ta[e[t+7]]+"-"+ta[e[t+8]]+ta[e[t+9]]+"-"+ta[e[t+10]]+ta[e[t+11]]+ta[e[t+12]]+ta[e[t+13]]+ta[e[t+14]]+ta[e[t+15]]).toLowerCase()}let yS;const zme=new Uint8Array(16);function Wme(){if(!yS){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");yS=crypto.getRandomValues.bind(crypto)}return yS(zme)}const Vme=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),zD={randomUUID:Vme};function Hme(e,t,r){var a;e=e||{};const n=e.random??((a=e.rng)==null?void 0:a.call(e))??Wme();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Ume(n)}function Gme(e,t,r){return zD.randomUUID&&!e?zD.randomUUID():Hme(e)}const J1=15,Kme=J1*1024*1024;function Yme({task:e,index:t,onUpdateTask:r,onDeleteTask:n,onDuplicateTask:a,storeId:i}){const{toast:o}=dr(),[l,c]=g.useState(!1),[u,d]=g.useState(e.title),[f,h]=g.useState(e.description||""),[p,y]=g.useState([]),[m,v]=g.useState(""),[x,b]=g.useState([]),[w,j]=g.useState(!1),S=g.useRef(null),[_,N]=g.useState(e.is_recurring),[C,E]=g.useState(e.recurrence_interval||"monthly"),[A,O]=g.useState(e.last_recurrence_date?Er(e.last_recurrence_date):void 0),P=async()=>{const{data:te,error:Z}=await ke.from("task_checklist_items").select("*").eq("task_id",e.id).order("order_index");Z?(console.error("Error loading checklist items:",Z.message),o({variant:"destructive",title:"Erro",description:"No foi possvel carregar o checklist."})):y(te||[])},k=async()=>{const{data:te,error:Z}=await ke.from("task_media").select("*").eq("task_id",e.id);Z?(console.error("Error loading task media:",Z.message),o({variant:"destructive",title:"Erro",description:"No foi possvel carregar as mdias."})):b(te||[])},I=()=>{c(!0),P(),k(),d(e.title),h(e.description||""),N(e.is_recurring),E(e.recurrence_interval||"monthly"),O(e.last_recurrence_date?Er(e.last_recurrence_date):void 0)},M=async()=>{const te=!e.is_completed,{error:Z}=await ke.from("tasks").update({is_completed:te}).eq("id",e.id);Z?o({variant:"destructive",title:"Erro",description:"No foi possvel atualizar a tarefa."}):(r({...e,is_completed:te}),o({title:te?"Tarefa concluda!":"Tarefa reaberta!"}))},L=async()=>{const{error:te}=await ke.from("tasks").update({title:u,description:f,is_recurring:_,recurrence_interval:_?C:null,last_recurrence_date:_&&A?Be(A,"yyyy-MM-dd"):null}).eq("id",e.id);te?o({variant:"destructive",title:"Erro ao salvar tarefa",description:te.message}):(r({...e,title:u,description:f,is_recurring:_,recurrence_interval:_?C:null,last_recurrence_date:_&&A?Be(A,"yyyy-MM-dd"):null}),o({title:"Tarefa atualizada!"}),c(!1))},$=async()=>{if(!m.trim())return;const te=p.length>0?Math.max(...p.map(oe=>oe.order_index))+1:0,{data:Z,error:we}=await ke.from("task_checklist_items").insert({task_id:e.id,text:m,is_completed:!1,order_index:te}).select().single();we?o({variant:"destructive",title:"Erro",description:"No foi possvel adicionar o item."}):(y(oe=>[...oe,Z]),v(""))},D=async te=>{const{error:Z}=await ke.from("task_checklist_items").update({is_completed:!te.is_completed}).eq("id",te.id);Z?o({variant:"destructive",title:"Erro",description:"No foi possvel atualizar o item."}):y(we=>we.map(oe=>oe.id===te.id?{...oe,is_completed:!oe.is_completed}:oe))},T=async te=>{const{error:Z}=await ke.from("task_checklist_items").delete().eq("id",te);Z?o({variant:"destructive",title:"Erro",description:"No foi possvel excluir o item."}):y(we=>we.filter(oe=>oe.id!==te))},H=async te=>{var W;const Z=(W=te.target.files)==null?void 0:W[0];if(!Z)return;if(Z.size>Kme){o({variant:"destructive",title:"Arquivo muito grande",description:`O tamanho mximo permitido  ${J1}MB.`});return}j(!0);const we=`${i}/${e.id}/${Gme()}-${Z.name}`,{data:oe,error:q}=await ke.storage.from("task-media").upload(we,Z,{cacheControl:"3600",upsert:!1});if(q){o({variant:"destructive",title:"Erro ao fazer upload",description:q.message}),j(!1);return}const{data:U}=ke.storage.from("task-media").getPublicUrl(we),ae=U.publicUrl,{error:z}=await ke.from("task_media").insert({task_id:e.id,file_url:ae,file_name:Z.name,file_type:Z.type,file_size:Z.size});z?o({variant:"destructive",title:"Erro ao salvar mdia",description:z.message}):(o({title:"Mdia adicionada!"}),k()),j(!1),S.current&&(S.current.value="")},re=async(te,Z)=>{if(!confirm("Tem certeza que deseja excluir esta mdia?"))return;const we=Z.split("/task-media/"),oe=we.length>1?we[1]:"";if(!oe){o({variant:"destructive",title:"Erro",description:"No foi possvel determinar o caminho do arquivo no storage."});return}const{error:q}=await ke.storage.from("task-media").remove([oe]);if(q){o({variant:"destructive",title:"Erro ao excluir arquivo do storage",description:q.message});return}const{error:U}=await ke.from("task_media").delete().eq("id",te);U?o({variant:"destructive",title:"Erro ao excluir mdia do banco",description:U.message}):(o({title:"Mdia excluda!"}),k())},J=te=>te.startsWith("image/")?s.jsx(t3,{className:"h-4 w-4"}):te.startsWith("video/")?s.jsx(QK,{className:"h-4 w-4"}):te.startsWith("audio/")?s.jsx(zK,{className:"h-4 w-4"}):te==="application/pdf"?s.jsx(e3,{className:"h-4 w-4"}):s.jsx(OK,{className:"h-4 w-4"}),le=te=>{E(te),te==="monthly"&&!A&&O(new Date)};return s.jsx($me,{draggableId:e.id,index:t,children:te=>s.jsxs(ve,{ref:te.innerRef,...te.draggableProps,...te.dragHandleProps,className:"mb-3 bg-card shadow-sm hover:shadow-md transition-shadow cursor-grab",children:[s.jsxs(je,{className:"p-3 flex flex-row items-center justify-between",children:[s.jsx(Se,{className:`text-base font-semibold ${e.is_completed?"line-through text-muted-foreground":""}`,children:e.title}),s.jsxs("div",{className:"flex gap-1",children:[e.is_recurring&&s.jsx(Po,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(B,{variant:e.is_completed?"default":"ghost",size:"sm",className:`h-6 w-6 p-0 ${e.is_completed?"bg-green-500 hover:bg-green-600":""}`,onClick:M,title:e.is_completed?"Marcar como no concluda":"Marcar como concluda",children:s.jsx(e0,{className:"h-4 w-4"})}),s.jsx(B,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:I,children:s.jsx(Tn,{className:"h-4 w-4"})})]})]}),s.jsxs(ye,{className:"p-3 pt-0 text-sm text-muted-foreground",children:[e.description&&s.jsx("p",{className:"line-clamp-2",children:e.description}),p.filter(Z=>!Z.is_completed).length>0&&s.jsxs("div",{className:"flex items-center gap-1 mt-2 text-xs",children:[s.jsx(WD,{className:"h-3 w-3"}),s.jsxs("span",{children:[p.filter(Z=>Z.is_completed).length,"/",p.length," concludos"]})]})]}),s.jsx(St,{open:l,onOpenChange:c,children:s.jsxs(xt,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[s.jsx(bt,{children:s.jsx(wt,{children:"Editar Tarefa"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"editTitle",children:"Ttulo"}),s.jsx(ne,{id:"editTitle",value:u,onChange:Z=>d(Z.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"editDescription",children:"Descrio"}),s.jsx(zu,{id:"editDescription",value:f,onChange:Z=>h(Z.target.value),rows:4})]}),s.jsxs("div",{className:"space-y-2 border-t pt-4",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(WD,{className:"h-5 w-5"})," Checklist"]}),s.jsx("div",{className:"space-y-2",children:p.map(Z=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gi,{id:`item-${Z.id}`,checked:Z.is_completed,onCheckedChange:()=>D(Z)}),s.jsx(V,{htmlFor:`item-${Z.id}`,className:Z.is_completed?"line-through text-muted-foreground":"",children:Z.text}),s.jsx(B,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 ml-auto text-destructive",onClick:()=>T(Z.id),children:s.jsx(DE,{className:"h-3 w-3"})})]},Z.id))}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ne,{placeholder:"Novo item de checklist",value:m,onChange:Z=>v(Z.target.value),onKeyDown:Z=>Z.key==="Enter"&&$()}),s.jsx(B,{onClick:$,size:"sm",children:s.jsx(xr,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"space-y-2 border-t pt-4",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(XK,{className:"h-5 w-5"})," Mdia"]}),s.jsx("div",{className:"space-y-2",children:x.map(Z=>s.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded-md",children:[J(Z.file_type),s.jsx("a",{href:Z.file_url,target:"_blank",rel:"noopener noreferrer",className:"flex-1 text-sm truncate hover:underline",children:Z.file_name}),s.jsx(B,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-destructive",onClick:()=>re(Z.id,Z.file_url),children:s.jsx(qr,{className:"h-3 w-3"})})]},Z.id))}),s.jsx(ne,{type:"file",ref:S,onChange:H,disabled:w}),w&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Bi,{className:"h-4 w-4 animate-spin"})," Uploading..."]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Tamanho mximo: ",J1,"MB. Qualquer tipo de arquivo."]})]}),s.jsxs("div",{className:"space-y-2 border-t pt-4",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(Po,{className:"h-5 w-5"})," Recorrncia"]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(gi,{id:"isRecurring",checked:_,onCheckedChange:Z=>N(Z===!0)}),s.jsx(V,{htmlFor:"isRecurring",children:"Tarefa Recorrente?"})]}),_&&s.jsxs("div",{className:"space-y-2 mt-2",children:[s.jsx(V,{htmlFor:"recurrenceInterval",children:"Intervalo"}),s.jsxs(ir,{value:C,onValueChange:le,children:[s.jsx(er,{id:"recurrenceInterval",children:s.jsx(sr,{placeholder:"Selecione o intervalo"})}),s.jsx(tr,{children:s.jsx($e,{value:"monthly",children:"Mensal"})})]}),C==="monthly"&&s.jsxs("div",{className:"space-y-2 mt-2",children:[s.jsx(V,{htmlFor:"lastRecurrenceDate",children:"ltima Data de Recorrncia"}),s.jsxs(tc,{children:[s.jsx(rc,{asChild:!0,children:s.jsxs(B,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[s.jsx(Po,{className:"mr-2 h-4 w-4"}),A?Be(A,"dd/MM/yyyy",{locale:Tt}):"Selecione a data"]})}),s.jsx(Uo,{className:"w-auto p-0",align:"start",children:s.jsx(qo,{mode:"single",selected:A,onSelect:O,initialFocus:!0,locale:Tt})})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"A tarefa ser duplicada no prximo ms aps esta data."})]})]})]})]}),s.jsxs(Lr,{className:"flex justify-between",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(B,{variant:"outline",onClick:()=>a(e),children:[s.jsx(AE,{className:"h-4 w-4 mr-2"})," Duplicar"]}),s.jsxs(B,{variant:"destructive",onClick:()=>n(e.id),children:[s.jsx(qr,{className:"h-4 w-4 mr-2"})," Excluir"]})]}),s.jsx(B,{onClick:L,children:"Salvar Alteraes"})]})]})})]})})}const WD=e=>s.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),s.jsx("path",{d:"M12 15h8"}),s.jsx("path",{d:"M12 9h8"}),s.jsx("path",{d:"M8 15h.01"}),s.jsx("path",{d:"M8 9h.01"})]});function Xme({column:e,tasks:t,onAddTask:r,onUpdateTask:n,onDeleteTask:a,onDuplicateTask:i,onUpdateColumn:o,onDeleteColumn:l,storeId:c}){const{toast:u}=dr(),[d,f]=g.useState(!1),[h,p]=g.useState(""),[y,m]=g.useState(!1),[v,x]=g.useState(e.name),b=()=>{h.trim()&&(r(e.id,h),p(""),f(!1))},w=async()=>{if(v.trim()===e.name){m(!1);return}if(!v.trim()){u({variant:"destructive",title:"Erro",description:"O nome da coluna no pode ser vazio."});return}const{error:j}=await ke.from("task_columns").update({name:v}).eq("id",e.id);j?u({variant:"destructive",title:"Erro ao atualizar coluna",description:j.message}):(o({...e,name:v}),u({title:"Coluna atualizada!"}),m(!1))};return s.jsxs(ve,{className:"w-80 flex-shrink-0 bg-muted/40 shadow-md",children:[s.jsxs(je,{className:"flex flex-row items-center justify-between p-3 border-b",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(kK,{className:"h-5 w-5 text-muted-foreground cursor-grab"}),s.jsxs(Se,{className:"text-lg font-semibold",children:[e.name," (",t.length,")"]})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(B,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>m(!0),children:s.jsx(Tn,{className:"h-4 w-4"})}),s.jsx(B,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-destructive",onClick:()=>l(e.id),children:s.jsx(qr,{className:"h-4 w-4"})})]})]}),s.jsx(_O,{droppableId:e.id,children:(j,S)=>s.jsxs(ye,{ref:j.innerRef,...j.droppableProps,className:`p-3 min-h-[100px] ${S.isDraggingOver?"bg-primary/10":""}`,children:[t.map((_,N)=>s.jsx(Yme,{task:_,index:N,onUpdateTask:n,onDeleteTask:a,onDuplicateTask:i,storeId:c},_.id)),j.placeholder]})}),s.jsxs(St,{open:d,onOpenChange:f,children:[s.jsx(Ki,{asChild:!0,children:s.jsxs(B,{variant:"ghost",className:"w-full justify-start text-muted-foreground hover:text-primary p-3",children:[s.jsx(xr,{className:"h-4 w-4 mr-2"})," Adicionar Tarefa"]})}),s.jsxs(xt,{children:[s.jsx(bt,{children:s.jsxs(wt,{children:['Nova Tarefa em "',e.name,'"']})}),s.jsx("div",{className:"space-y-4 py-4",children:s.jsx(ne,{placeholder:"Ttulo da tarefa",value:h,onChange:j=>p(j.target.value),onKeyDown:j=>j.key==="Enter"&&b()})}),s.jsxs(Lr,{children:[s.jsx(B,{variant:"outline",onClick:()=>f(!1),children:"Cancelar"}),s.jsx(B,{onClick:b,children:"Adicionar"})]})]})]}),s.jsx(St,{open:y,onOpenChange:m,children:s.jsxs(xt,{children:[s.jsx(bt,{children:s.jsx(wt,{children:"Editar Coluna"})}),s.jsx("div",{className:"space-y-4 py-4",children:s.jsx(ne,{placeholder:"Nome da coluna",value:v,onChange:j=>x(j.target.value),onKeyDown:j=>j.key==="Enter"&&w()})}),s.jsxs(Lr,{children:[s.jsx(B,{variant:"outline",onClick:()=>m(!1),children:"Cancelar"}),s.jsx(B,{onClick:w,children:"Salvar"})]})]})})]})}function Qme(){const{profile:e,loading:t}=Gt(),{toast:r}=dr(),[n,a]=g.useState([]),[i,o]=g.useState([]),[l,c]=g.useState(!0),[u,d]=g.useState(!1),[f,h]=g.useState(""),[p,y]=g.useState(!1),[m,v]=g.useState(()=>{const P=localStorage.getItem("task_notifications_enabled");return P?JSON.parse(P):!0}),x=ke;g.useEffect(()=>{localStorage.setItem("task_notifications_enabled",JSON.stringify(m))},[m]);const b=g.useCallback(async()=>{if(!(e!=null&&e.store_id))return;c(!0);const{data:P,error:k}=await x.from("task_columns").select("*").eq("store_id",e.store_id).order("order_index");if(k){r({variant:"destructive",title:"Erro",description:"No foi possvel carregar as colunas."}),c(!1);return}const{data:I,error:M}=await x.from("tasks").select("*").eq("store_id",e.store_id).order("order_index");if(M){r({variant:"destructive",title:"Erro",description:"No foi possvel carregar as tarefas."}),c(!1);return}a(P||[]),o(I||[]),c(!1)},[e,r]);g.useEffect(()=>{!t&&(e!=null&&e.store_id)&&b()},[t,e,b]),g.useEffect(()=>{if(!l&&i.length>0){const P=new Date,k=[];i.forEach(I=>{if(I.is_recurring&&I.recurrence_interval==="monthly"&&I.last_recurrence_date){const M=Er(I.last_recurrence_date),L=Va(M,1);ec(L,Va(P,1))&&!ec(L,M)&&k.push(I)}}),k.length>0&&w(k)}},[l,i]);const w=async P=>{const k=[],I=[];for(const M of P){const L=Be(Va(Er(M.last_recurrence_date||new Date().toISOString()),1),"yyyy-MM-dd"),{data:$,error:D}=await x.from("tasks").insert({store_id:M.store_id,column_id:M.column_id,title:M.title,description:M.description,order_index:M.order_index+1,is_recurring:M.is_recurring,recurrence_interval:M.recurrence_interval,last_recurrence_date:L}).select().single();if(D){console.error("Error duplicating recurring task:",D.message);continue}k.push($);const{data:T,error:H}=await x.from("task_checklist_items").select("*").eq("task_id",M.id);if(!H&&T){const le=T.map(te=>({task_id:$.id,text:te.text,is_completed:!1,order_index:te.order_index}));await x.from("task_checklist_items").insert(le)}const{data:re,error:J}=await x.from("task_media").select("*").eq("task_id",M.id);if(!J&&re)for(const le of re){const te={task_id:$.id,file_url:le.file_url,file_name:le.file_name,file_type:le.file_type,file_size:le.file_size};await x.from("task_media").insert(te)}I.push((async()=>{const{error:le}=await x.from("tasks").update({last_recurrence_date:L}).eq("id",M.id);le&&console.error("Error updating original task's last_recurrence_date:",le.message)})())}await Promise.all(I),k.length>0&&(r({title:"Tarefas recorrentes criadas!",description:`${k.length} tarefas foram duplicadas para o prximo perodo.`}),b())},j=async()=>{if(!f.trim()||!(e!=null&&e.store_id))return;const P=n.length>0?Math.max(...n.map(I=>I.order_index))+1:0,{error:k}=await x.from("task_columns").insert({store_id:e.store_id,name:f,order_index:P});k?r({variant:"destructive",title:"Erro ao criar coluna",description:k.message}):(r({title:"Coluna criada!"}),h(""),d(!1),b())},S=P=>{a(k=>k.map(I=>I.id===P.id?P:I))},_=async P=>{if(!confirm("Tem certeza que deseja excluir esta coluna? Todas as tarefas nela sero excludas permanentemente."))return;const{error:k}=await x.from("task_columns").delete().eq("id",P);k?r({variant:"destructive",title:"Erro ao excluir coluna",description:k.message}):(r({title:"Coluna excluda!"}),b())},N=async(P,k)=>{if(!(e!=null&&e.store_id))return;const I=i.filter($=>$.column_id===P),M=I.length>0?Math.max(...I.map($=>$.order_index))+1:0,{error:L}=await x.from("tasks").insert({store_id:e.store_id,column_id:P,title:k,description:null,order_index:M});L?r({variant:"destructive",title:"Erro ao adicionar tarefa",description:L.message}):(r({title:"Tarefa adicionada!"}),b())},C=P=>{o(k=>k.map(I=>I.id===P.id?P:I))},E=async P=>{if(!confirm("Tem certeza que deseja excluir esta tarefa?"))return;const{error:k}=await x.from("tasks").delete().eq("id",P);k?r({variant:"destructive",title:"Erro ao excluir tarefa",description:k.message}):(r({title:"Tarefa excluda!"}),b())},A=async P=>{if(!(e!=null&&e.store_id))return;const k=i.filter(H=>H.column_id===P.column_id).length>0?Math.max(...i.filter(H=>H.column_id===P.column_id).map(H=>H.order_index))+1:0,{data:I,error:M}=await x.from("tasks").insert({store_id:e.store_id,column_id:P.column_id,title:`${P.title} (Cpia)`,description:P.description,order_index:k,is_recurring:!1,recurrence_interval:null,last_recurrence_date:null}).select().single();if(M){r({variant:"destructive",title:"Erro ao duplicar tarefa",description:M.message});return}const{data:L,error:$}=await x.from("task_checklist_items").select("*").eq("task_id",P.id);if(!$&&L){const H=L.map(re=>({task_id:I.id,text:re.text,is_completed:!1,order_index:re.order_index}));await x.from("task_checklist_items").insert(H)}const{data:D,error:T}=await x.from("task_media").select("*").eq("task_id",P.id);if(!T&&D)for(const H of D){const re={task_id:I.id,file_url:H.file_url,file_name:H.file_name,file_type:H.file_type,file_size:H.file_size};await x.from("task_media").insert(re)}r({title:"Tarefa duplicada!"}),b()},O=async P=>{const{destination:k,source:I,draggableId:M}=P;if(!k||k.droppableId===I.droppableId&&k.index===I.index)return;const L=n.find(D=>D.id===I.droppableId),$=n.find(D=>D.id===k.droppableId);if(!(!L||!$))if(L.id===$.id){const D=Array.from(i);if(!D.find(te=>te.id===M))return;const H=D.filter(te=>te.column_id===L.id).sort((te,Z)=>te.order_index-Z.order_index),[re]=H.splice(I.index,1);H.splice(k.index,0,re);const J=H.map((te,Z)=>({...te,order_index:Z}));o(te=>te.map(Z=>J.find(oe=>oe.id===Z.id)||Z));const le=J.map(te=>x.from("tasks").update({order_index:te.order_index}).eq("id",te.id).then(()=>{}));await Promise.all(le)}else{const D=Array.from(i),T=D.find(Z=>Z.id===M);if(!T)return;const H=D.filter(Z=>Z.column_id===L.id).sort((Z,we)=>Z.order_index-we.order_index);H.splice(I.index,1);const re=D.filter(Z=>Z.column_id===$.id).sort((Z,we)=>Z.order_index-we.order_index);re.splice(k.index,0,{...T,column_id:$.id});const J=H.map((Z,we)=>({...Z,order_index:we})),le=re.map((Z,we)=>({...Z,order_index:we}));o(Z=>Z.map(we=>J.find(q=>q.id===we.id)||le.find(q=>q.id===we.id)||we));const te=[...J.map(Z=>x.from("tasks").update({order_index:Z.order_index}).eq("id",Z.id).then(()=>{})),...le.map(Z=>x.from("tasks").update({column_id:Z.column_id,order_index:Z.order_index}).eq("id",Z.id).then(()=>{}))];await Promise.all(te)}};return t||l?s.jsxs("div",{className:"flex items-center justify-center min-h-[50vh]",children:[s.jsx(Bi,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("p",{className:"ml-2 text-muted-foreground",children:"Carregando tarefas..."})]}):e!=null&&e.store_id?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Tarefas"}),s.jsx("p",{className:"text-muted-foreground",children:"Organize suas atividades no formato Kanban"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(B,{variant:"outline",size:"sm",onClick:()=>y(!0),children:[s.jsx(qu,{className:"h-4 w-4 mr-2"}),"Configuraes"]}),s.jsxs(St,{open:u,onOpenChange:d,children:[s.jsx(Ki,{asChild:!0,children:s.jsxs(B,{children:[s.jsx(xr,{className:"h-4 w-4 mr-2"}),"Nova Coluna"]})}),s.jsxs(xt,{children:[s.jsx(bt,{children:s.jsx(wt,{children:"Criar Nova Coluna"})}),s.jsx("div",{className:"space-y-4 py-4",children:s.jsx(ne,{placeholder:"Nome da coluna",value:f,onChange:P=>h(P.target.value),onKeyDown:P=>P.key==="Enter"&&j()})}),s.jsxs(Lr,{children:[s.jsx(B,{variant:"outline",onClick:()=>d(!1),children:"Cancelar"}),s.jsx(B,{onClick:j,children:"Criar"})]})]})]})]})]}),s.jsx(Zpe,{onDragEnd:O,children:s.jsx(_O,{droppableId:"all-columns",direction:"horizontal",type:"column",children:P=>s.jsxs("div",{...P.droppableProps,ref:P.innerRef,className:"flex gap-6 overflow-x-auto pb-4",children:[n.map(k=>s.jsx(Xme,{column:k,tasks:i.filter(I=>I.column_id===k.id).sort((I,M)=>I.order_index-M.order_index),onAddTask:N,onUpdateTask:C,onDeleteTask:E,onDuplicateTask:A,onUpdateColumn:S,onDeleteColumn:_,storeId:e.store_id||""},k.id)),P.placeholder]})})}),s.jsx(St,{open:p,onOpenChange:y,children:s.jsxs(xt,{className:"sm:max-w-[425px]",children:[s.jsx(bt,{children:s.jsx(wt,{children:"Configuraes de Tarefas"})}),s.jsx("div",{className:"space-y-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("label",{className:"text-sm font-medium",children:"Notificaes de Tarefas"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Receber notificaes 1 dia antes e no dia de vencimento das tarefas"})]}),s.jsx(cr,{checked:m,onCheckedChange:v})]})}),s.jsx(Lr,{children:s.jsx(B,{onClick:()=>y(!1),children:"Fechar"})})]})})]}):s.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:s.jsx("p",{className:"text-muted-foreground",children:"Voc precisa estar vinculado a uma loja para gerenciar tarefas."})})}const wn=ke;function Jme(){const{profile:e}=Gt(),{toast:t}=dr(),[r,n]=g.useState([]),[a,i]=g.useState(""),[o,l]=g.useState(!1),[c,u]=g.useState(null),[d,f]=g.useState(""),[h,p]=g.useState(""),[y,m]=g.useState([]),[v,x]=g.useState(!1),[b,w]=g.useState(null),[j,S]=g.useState(""),[_,N]=g.useState(""),[C,E]=g.useState(""),[A,O]=g.useState(""),[P,k]=g.useState(""),[I,M]=g.useState(""),[L,$]=g.useState(!1),[D,T]=g.useState([]),[H,re]=g.useState(""),[J,le]=g.useState(!1),[te,Z]=g.useState(null),[we,oe]=g.useState(""),[q,U]=g.useState(""),[ae,z]=g.useState(""),[W,ge]=g.useState(""),[me,be]=g.useState(""),[X,ee]=g.useState([]),[xe,he]=g.useState([]),[Ae,Ce]=g.useState(""),[Ct,ht]=g.useState(""),[Ft,_r]=g.useState("customers"),[Me,jr]=g.useState(!1),[rn,jt]=g.useState(!1);g.useEffect(()=>{e!=null&&e.store_id&&Ft==="customers"&&nt()},[e,Ft]),g.useEffect(()=>{e!=null&&e.store_id&&Ft==="suppliers"&&(Bt(),fr())},[e,Ft]);const nt=async()=>{if(!(e!=null&&e.store_id))return;jr(!0);const{data:se,error:G}=await wn.from("customers").select("id, name, phone, points, created_at").eq("store_id",e.store_id).order("name");G?t({variant:"destructive",title:"Erro ao carregar clientes",description:G.message}):n(se||[]),jr(!1)},zt=async se=>{const{data:G,error:ie}=await wn.from("customer_addresses").select("*").eq("customer_id",se).order("name");return ie?(t({variant:"destructive",title:"Erro ao carregar endereos do cliente",description:ie.message}),[]):(m(G||[]),G||[])},yr=r.filter(se=>se.name.toLowerCase().includes(a.toLowerCase())||se.phone.includes(a)),or=()=>{u(null),f(""),p(""),m([]),l(!0)},Ye=async se=>{u(se),f(se.name),p(se.phone),await zt(se.id),l(!0)},Rr=async se=>{if(se.preventDefault(),!(e!=null&&e.store_id))return;if(!d||!h){t({variant:"destructive",title:"Campos obrigatrios",description:"Nome e Telefone so obrigatrios."});return}const G={name:d,phone:h,store_id:e.store_id};if(c){const{error:ie}=await wn.from("customers").update(G).eq("id",c.id);ie?t({variant:"destructive",title:"Erro ao atualizar cliente",description:ie.message}):(t({title:"Cliente atualizado!"}),l(!1),nt())}else{const{error:ie}=await wn.from("customers").insert(G);ie?t({variant:"destructive",title:"Erro ao adicionar cliente",description:ie.message}):(t({title:"Cliente adicionado!"}),l(!1),nt())}},rr=async se=>{if(!confirm("Tem certeza que deseja excluir este cliente? Todos os pedidos e endereos associados sero removidos."))return;await wn.from("order_items").delete().in("order_id",wn.from("orders").select("id").eq("customer_id",se)),await wn.from("loyalty_transactions").delete().eq("customer_id",se),await wn.from("customer_addresses").delete().eq("customer_id",se),await wn.from("orders").delete().eq("customer_id",se);const{error:G}=await wn.from("customers").delete().eq("id",se);G?t({variant:"destructive",title:"Erro ao excluir cliente",description:G.message}):(t({title:"Cliente excludo com sucesso!"}),nt())},nn=()=>{w(null),S(""),N(""),E(""),O(""),k(""),M(""),$(!1),x(!0)},ce=se=>{w(se),S(se.name),N(se.address),E(se.number||""),O(se.neighborhood),k(se.reference||""),M(se.cep||""),$(!se.cep),x(!0)},Le=async se=>{if(se.preventDefault(),!(c!=null&&c.id)||!j||!_||!A){t({variant:"destructive",title:"Campos obrigatrios",description:"Nome, Rua e Bairro so obrigatrios."});return}const G={customer_id:c.id,name:j,address:_,number:C||null,neighborhood:A,reference:P||null,cep:L?null:I||null};if(b){const{error:ie}=await wn.from("customer_addresses").update(G).eq("id",b.id);ie?t({variant:"destructive",title:"Erro ao atualizar endereo",description:ie.message}):(t({title:"Endereo atualizado!"}),x(!1),zt(c.id))}else{const{error:ie}=await wn.from("customer_addresses").insert(G);ie?t({variant:"destructive",title:"Erro ao adicionar endereo",description:ie.message}):(t({title:"Endereo adicionado!"}),x(!1),zt(c.id))}},Je=async se=>{if(!confirm("Tem certeza que deseja excluir este endereo?"))return;const{error:G}=await wn.from("customer_addresses").delete().eq("id",se);G?t({variant:"destructive",title:"Erro ao excluir endereo",description:G.message}):(t({title:"Endereo excludo!"}),c&&zt(c.id))},Bt=async()=>{if(!(e!=null&&e.store_id))return;jt(!0);const{data:se,error:G}=await wn.from("suppliers").select("*").eq("store_id",e.store_id).order("corporate_name");G?t({variant:"destructive",title:"Erro ao carregar fornecedores",description:G.message}):T(se||[]),jt(!1)},fr=async()=>{if(!(e!=null&&e.store_id))return;const{data:se,error:G}=await wn.from("products").select("id, name, price").eq("store_id",e.store_id).order("name");G?t({variant:"destructive",title:"Erro ao carregar produtos",description:G.message}):ee(se||[])},de=async se=>{const{data:G,error:ie}=await wn.from("supplier_products").select(`
        *,
        products!supplier_products_product_id_fkey (id, name, price)
      `).eq("supplier_id",se);if(ie)return t({variant:"destructive",title:"Erro ao carregar produtos do fornecedor",description:ie.message}),[];const Ge=(G||[]).sort((lt,qt)=>{var Qe,Xt;const Ve=((Qe=lt.products)==null?void 0:Qe.name)||"",ut=((Xt=qt.products)==null?void 0:Xt.name)||"";return Ve.localeCompare(ut)});return he(Ge),Ge},De=D.filter(se=>{var G,ie;return se.corporate_name.toLowerCase().includes(H.toLowerCase())||((G=se.cnpj)==null?void 0:G.includes(H))||((ie=se.phone)==null?void 0:ie.includes(H))}),Te=()=>{Z(null),oe(""),U(""),z(""),ge(""),be(""),he([]),le(!0)},et=async se=>{Z(se),oe(se.corporate_name),U(se.cnpj||""),z(se.address||""),ge(se.phone||""),be(se.whatsapp||""),await de(se.id),le(!0)},tt=async se=>{if(se.preventDefault(),!(e!=null&&e.store_id))return;if(!we){t({variant:"destructive",title:"Campos obrigatrios",description:"Nome da Pessoa Jurdica  obrigatrio."});return}const G={corporate_name:we,cnpj:q||null,address:ae||null,phone:W||null,whatsapp:me||null,store_id:e.store_id};if(te){const{error:ie}=await wn.from("suppliers").update(G).eq("id",te.id);ie?t({variant:"destructive",title:"Erro ao atualizar fornecedor",description:ie.message}):(t({title:"Fornecedor atualizado!"}),le(!1),Bt())}else{const{error:ie}=await wn.from("suppliers").insert(G);ie?t({variant:"destructive",title:"Erro ao adicionar fornecedor",description:ie.message}):(t({title:"Fornecedor adicionado!"}),le(!1),Bt())}},hr=async se=>{if(!confirm("Tem certeza que deseja excluir este fornecedor? Todos os produtos vinculados a ele tambm sero removidos."))return;const{error:G}=await wn.from("suppliers").delete().eq("id",se);G?t({variant:"destructive",title:"Erro ao excluir fornecedor",description:G.message}):(t({title:"Fornecedor excludo com sucesso!"}),Bt())},pr=async()=>{if(!(te!=null&&te.id)||!Ae){t({variant:"destructive",title:"Erro",description:"Selecione um produto."});return}if(xe.some(ie=>ie.product_id===Ae)){t({variant:"destructive",title:"Produto j adicionado",description:"Este produto j est vinculado a este fornecedor."});return}const{error:G}=await wn.from("supplier_products").insert({supplier_id:te.id,product_id:Ae,cost_price:Ct?parseFloat(Ct):null});G?t({variant:"destructive",title:"Erro ao adicionar produto",description:G.message}):(t({title:"Produto adicionado ao fornecedor!"}),Ce(""),ht(""),de(te.id))},Wr=async se=>{if(!confirm("Tem certeza que deseja desvincular este produto do fornecedor?"))return;const{error:G}=await wn.from("supplier_products").delete().eq("id",se);G?t({variant:"destructive",title:"Erro ao desvincular produto",description:G.message}):(t({title:"Produto desvinculado!"}),te&&de(te.id))};return e!=null&&e.store_id?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Cadastros"}),s.jsx("p",{className:"text-muted-foreground",children:"Gerencie clientes e fornecedores da sua loja"})]}),s.jsxs(k0,{defaultValue:"customers",onValueChange:_r,children:[s.jsxs(Nv,{className:"grid w-full grid-cols-2",children:[s.jsx(ha,{value:"customers",children:"Clientes"}),s.jsx(ha,{value:"suppliers",children:"Fornecedores"})]}),s.jsx(pa,{value:"customers",className:"space-y-6",children:s.jsxs(ve,{className:"shadow-soft",children:[s.jsxs(je,{className:"flex flex-row items-center justify-between space-y-0",children:[s.jsxs("div",{children:[s.jsxs(Se,{className:"flex items-center gap-2",children:[s.jsx(ix,{className:"h-5 w-5"}),"Clientes Cadastrados"]}),s.jsx(Jt,{children:"Gerencie os clientes da sua loja"})]}),s.jsxs(B,{onClick:or,children:[s.jsx(xr,{className:"h-4 w-4 mr-2"}),"Novo Cliente"]})]}),s.jsxs(ye,{children:[s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(Xl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ne,{placeholder:"Buscar cliente por nome ou telefone...",value:a,onChange:se=>i(se.target.value),className:"pl-10"})]})}),Me?s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx(Bi,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("p",{className:"ml-2 text-muted-foreground",children:"Carregando clientes..."})]}):s.jsxs(Ga,{children:[s.jsx(Ka,{children:s.jsxs(ur,{children:[s.jsx(yt,{children:"Nome"}),s.jsx(yt,{children:"Telefone"}),s.jsx(yt,{className:"text-right",children:"Aes"})]})}),s.jsx(Ya,{children:yr.length===0?s.jsx(ur,{children:s.jsx(rt,{colSpan:3,className:"text-center text-muted-foreground py-8",children:"Nenhum cliente encontrado."})}):yr.map(se=>s.jsxs(ur,{children:[s.jsx(rt,{className:"font-medium",children:se.name}),s.jsx(rt,{children:se.phone}),s.jsx(rt,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(B,{variant:"outline",size:"icon",onClick:()=>Ye(se),children:s.jsx(Tn,{className:"h-4 w-4"})}),s.jsx(B,{variant:"destructive",size:"icon",onClick:()=>rr(se.id),children:s.jsx(qr,{className:"h-4 w-4"})})]})})]},se.id))})]})]})]})}),s.jsx(pa,{value:"suppliers",className:"space-y-6",children:s.jsxs(ve,{className:"shadow-soft",children:[s.jsxs(je,{className:"flex flex-row items-center justify-between space-y-0",children:[s.jsxs("div",{children:[s.jsxs(Se,{className:"flex items-center gap-2",children:[s.jsx(PK,{className:"h-5 w-5"}),"Fornecedores Cadastrados"]}),s.jsx(Jt,{children:"Gerencie os fornecedores da sua loja"})]}),s.jsxs(B,{onClick:Te,children:[s.jsx(xr,{className:"h-4 w-4 mr-2"}),"Novo Fornecedor"]})]}),s.jsxs(ye,{children:[s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(Xl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ne,{placeholder:"Buscar fornecedor por nome ou CNPJ...",value:H,onChange:se=>re(se.target.value),className:"pl-10"})]})}),rn?s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx(Bi,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("p",{className:"ml-2 text-muted-foreground",children:"Carregando fornecedores..."})]}):s.jsxs(Ga,{children:[s.jsx(Ka,{children:s.jsxs(ur,{children:[s.jsx(yt,{children:"Nome Jurdico"}),s.jsx(yt,{children:"CNPJ"}),s.jsx(yt,{children:"Telefone"}),s.jsx(yt,{className:"text-right",children:"Aes"})]})}),s.jsx(Ya,{children:De.length===0?s.jsx(ur,{children:s.jsx(rt,{colSpan:4,className:"text-center text-muted-foreground py-8",children:"Nenhum fornecedor encontrado."})}):De.map(se=>s.jsxs(ur,{children:[s.jsx(rt,{className:"font-medium",children:se.corporate_name}),s.jsx(rt,{children:se.cnpj||"N/A"}),s.jsx(rt,{children:se.phone||"N/A"}),s.jsx(rt,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(B,{variant:"outline",size:"icon",onClick:()=>et(se),children:s.jsx(Tn,{className:"h-4 w-4"})}),s.jsx(B,{variant:"destructive",size:"icon",onClick:()=>hr(se.id),children:s.jsx(qr,{className:"h-4 w-4"})})]})})]},se.id))})]})]})]})})]}),s.jsx(St,{open:o,onOpenChange:se=>{l(se),se||(u(null),m([]))},children:s.jsxs(xt,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[s.jsx(bt,{children:s.jsx(wt,{children:c?"Editar Cliente":"Novo Cliente"})}),c||!c?s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsxs("form",{onSubmit:Rr,className:"space-y-4 border-b pb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(ix,{className:"h-5 w-5"}),"Dados do Cliente"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"editCustomerName",children:"Nome"}),s.jsx(ne,{id:"editCustomerName",value:d,onChange:se=>f(se.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"editCustomerPhone",children:"Telefone"}),s.jsx(ne,{id:"editCustomerPhone",type:"tel",value:h,onChange:se=>p(se.target.value.replace(/\D/g,"")),inputMode:"numeric",pattern:"[0-9]*",required:!0})]}),c&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Po,{className:"h-4 w-4"}),"Cadastrado em: ",new Date(c.created_at).toLocaleDateString()]}),c&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-primary font-medium",children:[s.jsx(Fi,{className:"h-4 w-4"}),"Pontos de Fidelidade: ",c.points.toFixed(1)]}),s.jsx("div",{className:"flex gap-2 justify-end",children:s.jsx(B,{type:"submit",children:"Salvar Alteraes"})})]}),c&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(em,{className:"h-5 w-5"}),"Endereos Salvos"]}),s.jsxs(B,{size:"sm",onClick:nn,children:[s.jsx(xr,{className:"h-4 w-4 mr-2"}),"Novo Endereo"]})]}),y.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-4",children:"Nenhum endereo salvo para este cliente."}):s.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto pr-2",children:y.map(se=>s.jsxs("div",{className:"p-3 border border-border rounded-lg space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[se.name.toLowerCase()==="casa"?s.jsx(kE,{className:"h-4 w-4 text-muted-foreground"}):se.name.toLowerCase()==="trabalho"?s.jsx(OE,{className:"h-4 w-4 text-muted-foreground"}):s.jsx(em,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("p",{className:"font-medium",children:se.name})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(B,{variant:"ghost",size:"sm",onClick:()=>ce(se),children:s.jsx(Tn,{className:"h-4 w-4"})}),s.jsx(B,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-destructive",onClick:()=>Je(se.id),children:s.jsx(qr,{className:"h-4 w-4"})})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[se.address,", ",se.number," - ",se.neighborhood]}),se.reference&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Ref: ",se.reference]}),se.cep&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["CEP: ",se.cep]})]},se.id))})]})]}):null]})}),s.jsx(St,{open:v,onOpenChange:se=>{x(se),se||(w(null),S(""),N(""),E(""),O(""),k(""),M(""),$(!1))},children:s.jsxs(xt,{children:[s.jsx(bt,{children:s.jsxs(wt,{children:[b?"Editar Endereo":"Adicionar Novo Endereo"," para ",c==null?void 0:c.name]})}),s.jsxs("form",{onSubmit:Le,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"addressName",children:"Nome do Endereo (Ex: Casa, Trabalho)"}),s.jsx(ne,{id:"addressName",value:j,onChange:se=>S(se.target.value),placeholder:"Ex: Casa",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"addressStreet",children:"Rua"}),s.jsx(ne,{id:"addressStreet",value:_,onChange:se=>N(se.target.value),placeholder:"Ex: Rua das Flores",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"addressNumber",children:"Nmero"}),s.jsx(ne,{id:"addressNumber",value:C,onChange:se=>E(se.target.value),placeholder:"Ex: 123"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"addressNeighborhood",children:"Bairro"}),s.jsx(ne,{id:"addressNeighborhood",value:A,onChange:se=>O(se.target.value),placeholder:"Ex: Centro",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"addressReference",children:"Referncia (Opcional)"}),s.jsx(ne,{id:"addressReference",value:P,onChange:se=>k(se.target.value),placeholder:"Ex: Prximo  padaria"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(V,{htmlFor:"addressCep",children:"CEP"}),s.jsx(B,{type:"button",variant:"link",size:"sm",onClick:()=>$(!L),children:L?"Informar CEP":"No sei o CEP"})]}),!L&&s.jsx(ne,{id:"addressCep",value:I,onChange:se=>M(se.target.value.replace(/\D/g,"")),placeholder:"00000-000",inputMode:"numeric"})]}),s.jsxs(Lr,{children:[s.jsx(B,{type:"button",variant:"outline",onClick:()=>x(!1),children:"Cancelar"}),s.jsx(B,{type:"submit",children:b?"Salvar Alteraes":"Adicionar Endereo"})]})]})]})}),s.jsx(St,{open:J,onOpenChange:se=>{le(se),se||(Z(null),he([]))},children:s.jsxs(xt,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[s.jsx(bt,{children:s.jsx(wt,{children:te?"Editar Fornecedor":"Novo Fornecedor"})}),s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsxs("form",{onSubmit:tt,className:"space-y-4 border-b pb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(_K,{className:"h-5 w-5"}),"Dados do Fornecedor"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"editSupplierCorporateName",children:"Nome da Pessoa Jurdica"}),s.jsx(ne,{id:"editSupplierCorporateName",value:we,onChange:se=>oe(se.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"editSupplierCnpj",children:"CNPJ (Opcional)"}),s.jsx(ne,{id:"editSupplierCnpj",value:q,onChange:se=>U(se.target.value.replace(/\D/g,"")),placeholder:"XX.XXX.XXX/XXXX-XX",inputMode:"numeric",pattern:"[0-9]*"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"editSupplierAddress",children:"Endereo (Opcional)"}),s.jsx(ne,{id:"editSupplierAddress",value:ae,onChange:se=>z(se.target.value),placeholder:"Rua Exemplo, 123"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"editSupplierPhone",children:"Telefone (Opcional)"}),s.jsx(ne,{id:"editSupplierPhone",type:"tel",value:W,onChange:se=>ge(se.target.value.replace(/\D/g,"")),placeholder:"(XX) XXXX-XXXX",inputMode:"numeric",pattern:"[0-9]*"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"editSupplierWhatsapp",children:"WhatsApp (Opcional)"}),s.jsx(ne,{id:"editSupplierWhatsapp",type:"tel",value:me,onChange:se=>be(se.target.value.replace(/\D/g,"")),placeholder:"(XX) 9XXXX-XXXX",inputMode:"numeric",pattern:"[0-9]*"})]}),s.jsx("div",{className:"flex gap-2 justify-end",children:s.jsx(B,{type:"submit",children:"Salvar Alteraes"})})]}),te&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(Bu,{className:"h-5 w-5"}),"Produtos Fornecidos"]}),s.jsxs(B,{size:"sm",onClick:pr,children:[s.jsx(xr,{className:"h-4 w-4 mr-2"}),"Adicionar Produto"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ir,{value:Ae,onValueChange:Ce,children:[s.jsx(er,{className:"flex-1",children:s.jsx(sr,{placeholder:"Selecione um produto"})}),s.jsx(tr,{children:X.filter(se=>!xe.some(G=>G.product_id===se.id)).map(se=>s.jsxs($e,{value:se.id,children:[se.name," (R$ ",se.price.toFixed(2),")"]},se.id))})]}),s.jsx(ne,{type:"number",step:"0.01",placeholder:"Preo de Custo (Opcional)",value:Ct,onChange:se=>ht(se.target.value),className:"w-36"}),s.jsx(B,{onClick:pr,size:"sm",children:s.jsx(xr,{className:"h-4 w-4"})})]}),xe.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-4",children:"Nenhum produto vinculado a este fornecedor."}):s.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto pr-2",children:xe.map(se=>{var G;return s.jsxs("div",{className:"flex items-center justify-between p-3 border border-border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:(G=se.products)==null?void 0:G.name}),se.cost_price!==null&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Custo: R$ ",se.cost_price.toFixed(2)]})]}),s.jsx(B,{variant:"destructive",size:"icon",onClick:()=>Wr(se.id),children:s.jsx(qr,{className:"h-4 w-4"})})]},se.id)})})]})]})]})})]}):s.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:s.jsx("p",{className:"text-muted-foreground",children:"Voc precisa estar vinculado a uma loja para gerenciar cadastros."})})}function i8(){const{profile:e}=Gt();dr(),Go();const{data:t,isLoading:r}=Ko({queryKey:["financial-summary",e==null?void 0:e.store_id],queryFn:async()=>{if(!(e!=null&&e.store_id))throw new Error("Store ID no encontrado");const n=new Date;n.setDate(1),n.setHours(0,0,0,0);const{data:a,error:i}=await ke.from("financial_transactions").select("*").eq("store_id",e.store_id).gte("transaction_date",n.toISOString().split("T")[0]).in("status",["pago","recebido"]);if(i)throw i;const{data:o,error:l}=await ke.from("bank_accounts").select("current_balance").eq("store_id",e.store_id).eq("is_active",!0);if(l)throw l;const{data:c,error:u}=await ke.from("accounts_receivable").select("amount, due_date, status").eq("store_id",e.store_id).eq("status","pendente");if(u)throw u;const d=(a==null?void 0:a.filter(m=>m.type==="receita").reduce((m,v)=>m+Number(v.amount),0))||0,f=(a==null?void 0:a.filter(m=>m.type==="despesa").reduce((m,v)=>m+Number(v.amount),0))||0,h=(o==null?void 0:o.reduce((m,v)=>m+Number(v.current_balance),0))||0,p=(c==null?void 0:c.reduce((m,v)=>m+Number(v.amount),0))||0,y=(c==null?void 0:c.filter(m=>new Date(m.due_date)<new Date).reduce((m,v)=>m+Number(v.amount),0))||0;return{totalReceitas:d,totalDespesas:f,saldo:d-f,lucroLiquido:d-f,totalContasBancarias:h,totalContasReceber:p,totalContasVencidas:y}},enabled:!!(e!=null&&e.store_id)});return{summary:t,loadingSummary:r}}function s8(){const{profile:e}=Gt(),{toast:t}=dr(),r=Go(),{data:n,isLoading:a}=Ko({queryKey:["financial-categories",e==null?void 0:e.store_id],queryFn:async()=>{if(!(e!=null&&e.store_id))return[];const{data:c,error:u}=await ke.from("financial_categories").select("*").eq("store_id",e.store_id).eq("is_active",!0).order("name");if(u)throw u;return c||[]},enabled:!!(e!=null&&e.store_id)}),i=xn({mutationFn:async c=>{const{data:u,error:d}=await ke.from("financial_categories").insert([c]).select().single();if(d)throw d;return u},onSuccess:()=>{r.invalidateQueries({queryKey:["financial-categories"]}),t({title:"Categoria criada",description:"A categoria foi criada com sucesso."})},onError:c=>{t({title:"Erro ao criar categoria",description:c.message,variant:"destructive"})}}),o=xn({mutationFn:async({id:c,...u})=>{const{data:d,error:f}=await ke.from("financial_categories").update(u).eq("id",c).select().single();if(f)throw f;return d},onSuccess:()=>{r.invalidateQueries({queryKey:["financial-categories"]}),t({title:"Categoria atualizada",description:"A categoria foi atualizada com sucesso."})},onError:c=>{t({title:"Erro ao atualizar categoria",description:c.message,variant:"destructive"})}}),l=xn({mutationFn:async c=>{const{error:u}=await ke.from("financial_categories").update({is_active:!1}).eq("id",c);if(u)throw u},onSuccess:()=>{r.invalidateQueries({queryKey:["financial-categories"]}),t({title:"Categoria excluda",description:"A categoria foi excluda com sucesso."})},onError:c=>{t({title:"Erro ao excluir categoria",description:c.message,variant:"destructive"})}});return{categories:n||[],isLoading:a,createCategory:i,updateCategory:o,deleteCategory:l}}function NO(){const{profile:e}=Gt(),{toast:t}=dr(),r=Go(),{data:n,isLoading:a}=Ko({queryKey:["bank-accounts",e==null?void 0:e.store_id],queryFn:async()=>{if(!(e!=null&&e.store_id))return[];const{data:c,error:u}=await ke.from("bank_accounts").select("*").eq("store_id",e.store_id).eq("is_active",!0).order("name");if(u)throw u;return c||[]},enabled:!!(e!=null&&e.store_id)}),i=xn({mutationFn:async c=>{const u={...c,current_balance:c.initial_balance},{data:d,error:f}=await ke.from("bank_accounts").insert([u]).select().single();if(f)throw f;return d},onSuccess:()=>{r.invalidateQueries({queryKey:["bank-accounts"]}),t({title:"Conta criada",description:"A conta bancria foi criada com sucesso."})},onError:c=>{t({title:"Erro ao criar conta",description:c.message,variant:"destructive"})}}),o=xn({mutationFn:async({id:c,...u})=>{const{data:d,error:f}=await ke.from("bank_accounts").update(u).eq("id",c).select().single();if(f)throw f;return d},onSuccess:()=>{r.invalidateQueries({queryKey:["bank-accounts"]}),t({title:"Conta atualizada",description:"A conta bancria foi atualizada com sucesso."})},onError:c=>{t({title:"Erro ao atualizar conta",description:c.message,variant:"destructive"})}}),l=xn({mutationFn:async c=>{const{error:u}=await ke.from("bank_accounts").update({is_active:!1}).eq("id",c);if(u)throw u},onSuccess:()=>{r.invalidateQueries({queryKey:["bank-accounts"]}),t({title:"Conta excluda",description:"A conta bancria foi excluda com sucesso."})},onError:c=>{t({title:"Erro ao excluir conta",description:c.message,variant:"destructive"})}});return{accounts:n||[],isLoading:a,createAccount:i,updateAccount:o,deleteAccount:l}}function o8(){const{profile:e}=Gt(),{toast:t}=dr(),r=Go(),{data:n,isLoading:a}=Ko({queryKey:["credit-cards",e==null?void 0:e.store_id],queryFn:async()=>{if(!(e!=null&&e.store_id))return[];const{data:c,error:u}=await ke.from("credit_cards").select("*").eq("store_id",e.store_id).eq("is_active",!0).order("name");if(u)throw u;return c||[]},enabled:!!(e!=null&&e.store_id)}),i=xn({mutationFn:async c=>{const{data:u,error:d}=await ke.from("credit_cards").insert([c]).select().single();if(d)throw d;return u},onSuccess:()=>{r.invalidateQueries({queryKey:["credit-cards"]}),t({title:"Carto criado",description:"O carto de crdito foi criado com sucesso."})},onError:c=>{t({title:"Erro ao criar carto",description:c.message,variant:"destructive"})}}),o=xn({mutationFn:async({id:c,...u})=>{const{data:d,error:f}=await ke.from("credit_cards").update(u).eq("id",c).select().single();if(f)throw f;return d},onSuccess:()=>{r.invalidateQueries({queryKey:["credit-cards"]}),t({title:"Carto atualizado",description:"O carto de crdito foi atualizado com sucesso."})},onError:c=>{t({title:"Erro ao atualizar carto",description:c.message,variant:"destructive"})}}),l=xn({mutationFn:async c=>{const{error:u}=await ke.from("credit_cards").update({is_active:!1}).eq("id",c);if(u)throw u},onSuccess:()=>{r.invalidateQueries({queryKey:["credit-cards"]}),t({title:"Carto excludo",description:"O carto de crdito foi excludo com sucesso."})},onError:c=>{t({title:"Erro ao excluir carto",description:c.message,variant:"destructive"})}});return{cards:n||[],isLoading:a,createCard:i,updateCard:o,deleteCard:l}}function l8(e){const{profile:t}=Gt(),{toast:r}=dr(),n=Go(),{data:a,isLoading:i,error:o}=Ko({queryKey:["financial-transactions",t==null?void 0:t.store_id,e],queryFn:async()=>{if(!(t!=null&&t.store_id))return console.log("[Financial Transactions] No store_id found"),[];console.log("[Financial Transactions] Fetching with store_id:",t.store_id),console.log("[Financial Transactions] Filters:",e);let f=ke.from("financial_transactions").select(`
          *,
          category:financial_categories(*),
          bank_account:bank_accounts!bank_account_id(*),
          credit_card:credit_cards(*),
          transfer_to_account:bank_accounts!transfer_to_account_id(*)
        `).eq("store_id",t.store_id).order("transaction_date",{ascending:!1});e!=null&&e.startDate&&(f=f.gte("transaction_date",e.startDate)),e!=null&&e.endDate&&(f=f.lte("transaction_date",e.endDate)),e!=null&&e.categoryId&&(f=f.eq("category_id",e.categoryId)),e!=null&&e.bankAccountId&&(f=f.eq("bank_account_id",e.bankAccountId)),e!=null&&e.creditCardId&&(f=f.eq("credit_card_id",e.creditCardId)),e!=null&&e.type&&(f=f.eq("type",e.type)),e!=null&&e.status&&(f=f.eq("status",e.status)),e!=null&&e.searchTerm&&(f=f.ilike("description",`%${e.searchTerm}%`));const{data:h,error:p}=await f;if(p)throw console.error("[Financial Transactions] Error fetching:",p),p;return console.log("[Financial Transactions] Fetched:",h==null?void 0:h.length,"transactions"),h||[]},enabled:!!(t!=null&&t.store_id)}),l=xn({mutationFn:async f=>{console.log("[Financial Transactions] Creating transaction:",f);const{data:h,error:p}=await ke.from("financial_transactions").insert([f]).select().single();if(p)throw console.error("[Financial Transactions] Error creating:",p),p;return console.log("[Financial Transactions] Created successfully:",h),h},onSuccess:()=>{console.log("[Financial Transactions] Invalidating queries..."),n.invalidateQueries({queryKey:["financial-transactions"]}),n.invalidateQueries({queryKey:["financial-summary"]}),n.invalidateQueries({queryKey:["bank-accounts"]}),r({title:"Lanamento criado",description:"O lanamento foi criado com sucesso."})},onError:f=>{console.error("[Financial Transactions] Mutation error:",f),r({title:"Erro ao criar lanamento",description:f.message,variant:"destructive"})}}),c=xn({mutationFn:async({id:f,...h})=>{const{data:p,error:y}=await ke.from("financial_transactions").update(h).eq("id",f).select().single();if(y)throw y;return p},onSuccess:()=>{n.invalidateQueries({queryKey:["financial-transactions"]}),n.invalidateQueries({queryKey:["financial-summary"]}),n.invalidateQueries({queryKey:["bank-accounts"]}),r({title:"Lanamento atualizado",description:"O lanamento foi atualizado com sucesso."})},onError:f=>{r({title:"Erro ao atualizar lanamento",description:f.message,variant:"destructive"})}}),u=xn({mutationFn:async f=>{const{error:h}=await ke.from("financial_transactions").delete().eq("id",f);if(h)throw h},onSuccess:()=>{n.invalidateQueries({queryKey:["financial-transactions"]}),n.invalidateQueries({queryKey:["financial-summary"]}),n.invalidateQueries({queryKey:["bank-accounts"]}),r({title:"Lanamento excludo",description:"O lanamento foi excludo com sucesso."})},onError:f=>{r({title:"Erro ao excluir lanamento",description:f.message,variant:"destructive"})}}),d=xn({mutationFn:async f=>{const{id:h,created_at:p,updated_at:y,...m}=f,v={...m,description:`${m.description} (cpia)`,transaction_date:new Date().toISOString().split("T")[0]},{data:x,error:b}=await ke.from("financial_transactions").insert([v]).select().single();if(b)throw b;return x},onSuccess:()=>{n.invalidateQueries({queryKey:["financial-transactions"]}),r({title:"Lanamento duplicado",description:"O lanamento foi duplicado com sucesso."})},onError:f=>{r({title:"Erro ao duplicar lanamento",description:f.message,variant:"destructive"})}});return{transactions:a||[],isLoading:i,createTransaction:l,updateTransaction:c,deleteTransaction:u,duplicateTransaction:d}}function c8(e,t){const{profile:r}=Gt(),{data:n,isLoading:a}=Ko({queryKey:["category-summary",r==null?void 0:r.store_id,e,t],queryFn:async()=>{if(!(r!=null&&r.store_id))return[];let i=ke.from("financial_transactions").select(`
          amount,
          type,
          category:financial_categories(*)
        `).eq("store_id",r.store_id).in("status",["pago","recebido"]).not("category","is",null);e&&(i=i.gte("transaction_date",e)),t&&(i=i.lte("transaction_date",t));const{data:o,error:l}=await i;if(l)throw l;const c=(o||[]).reduce((f,h)=>{var y;const p=(y=h.category)==null?void 0:y.id;return p&&(f[p]||(f[p]={category:h.category,total:0,transactionCount:0}),f[p].total+=Number(h.amount),f[p].transactionCount+=1),f},{}),u=Object.values(c),d=u.reduce((f,h)=>f+h.total,0);return u.map(f=>({...f,percentage:d>0?f.total/d*100:0}))},enabled:!!(r!=null&&r.store_id)});return{categorySummary:n||[],isLoading:a}}function u8(e=6){const{profile:t}=Gt(),{data:r,isLoading:n}=Ko({queryKey:["monthly-evolution",t==null?void 0:t.store_id,e],queryFn:async()=>{if(!(t!=null&&t.store_id))return[];const a=new Date,i=new Date;i.setMonth(i.getMonth()-e);const{data:o,error:l}=await ke.from("financial_transactions").select("amount, type, transaction_date").eq("store_id",t.store_id).in("status",["pago","recebido"]).gte("transaction_date",i.toISOString().split("T")[0]).lte("transaction_date",a.toISOString().split("T")[0]);if(l)throw l;const c={};return(o||[]).forEach(u=>{const d=new Date(u.transaction_date),f=`${d.getFullYear()}-${String(d.getMonth()+1).padStart(2,"0")}`;c[f]||(c[f]={month:f,receitas:0,despesas:0,saldo:0});const h=Number(u.amount);u.type==="receita"?c[f].receitas+=h:u.type==="despesa"&&(c[f].despesas+=h)}),Object.values(c).map(u=>({...u,saldo:u.receitas-u.despesas})).sort((u,d)=>u.month.localeCompare(d.month))},enabled:!!(t!=null&&t.store_id)});return{evolution:r||[],isLoading:n}}var Zme=Array.isArray,Ja=Zme,eve=typeof sg=="object"&&sg&&sg.Object===Object&&sg,d8=eve,tve=d8,rve=typeof self=="object"&&self&&self.Object===Object&&self,nve=tve||rve||Function("return this")(),ao=nve,ave=ao,ive=ave.Symbol,Mv=ive,VD=Mv,f8=Object.prototype,sve=f8.hasOwnProperty,ove=f8.toString,Kh=VD?VD.toStringTag:void 0;function lve(e){var t=sve.call(e,Kh),r=e[Kh];try{e[Kh]=void 0;var n=!0}catch{}var a=ove.call(e);return n&&(t?e[Kh]=r:delete e[Kh]),a}var cve=lve,uve=Object.prototype,dve=uve.toString;function fve(e){return dve.call(e)}var hve=fve,HD=Mv,pve=cve,mve=hve,vve="[object Null]",gve="[object Undefined]",GD=HD?HD.toStringTag:void 0;function yve(e){return e==null?e===void 0?gve:vve:GD&&GD in Object(e)?pve(e):mve(e)}var Xo=yve;function xve(e){return e!=null&&typeof e=="object"}var Qo=xve,bve=Xo,wve=Qo,jve="[object Symbol]";function Sve(e){return typeof e=="symbol"||wve(e)&&bve(e)==jve}var ph=Sve,_ve=Ja,Nve=ph,Cve=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Eve=/^\w*$/;function Pve(e,t){if(_ve(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Nve(e)?!0:Eve.test(e)||!Cve.test(e)||t!=null&&e in Object(t)}var CO=Pve;function Ove(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var yc=Ove;const mh=Sr(yc);var Ave=Xo,kve=yc,Tve="[object AsyncFunction]",Dve="[object Function]",Ive="[object GeneratorFunction]",Rve="[object Proxy]";function $ve(e){if(!kve(e))return!1;var t=Ave(e);return t==Dve||t==Ive||t==Tve||t==Rve}var EO=$ve;const Ot=Sr(EO);var Mve=ao,Lve=Mve["__core-js_shared__"],Fve=Lve,xS=Fve,KD=function(){var e=/[^.]+$/.exec(xS&&xS.keys&&xS.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Bve(e){return!!KD&&KD in e}var qve=Bve,Uve=Function.prototype,zve=Uve.toString;function Wve(e){if(e!=null){try{return zve.call(e)}catch{}try{return e+""}catch{}}return""}var h8=Wve,Vve=EO,Hve=qve,Gve=yc,Kve=h8,Yve=/[\\^$.*+?()[\]{}|]/g,Xve=/^\[object .+?Constructor\]$/,Qve=Function.prototype,Jve=Object.prototype,Zve=Qve.toString,ege=Jve.hasOwnProperty,tge=RegExp("^"+Zve.call(ege).replace(Yve,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function rge(e){if(!Gve(e)||Hve(e))return!1;var t=Vve(e)?tge:Xve;return t.test(Kve(e))}var nge=rge;function age(e,t){return e==null?void 0:e[t]}var ige=age,sge=nge,oge=ige;function lge(e,t){var r=oge(e,t);return sge(r)?r:void 0}var Wu=lge,cge=Wu,uge=cge(Object,"create"),Q0=uge,YD=Q0;function dge(){this.__data__=YD?YD(null):{},this.size=0}var fge=dge;function hge(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var pge=hge,mge=Q0,vge="__lodash_hash_undefined__",gge=Object.prototype,yge=gge.hasOwnProperty;function xge(e){var t=this.__data__;if(mge){var r=t[e];return r===vge?void 0:r}return yge.call(t,e)?t[e]:void 0}var bge=xge,wge=Q0,jge=Object.prototype,Sge=jge.hasOwnProperty;function _ge(e){var t=this.__data__;return wge?t[e]!==void 0:Sge.call(t,e)}var Nge=_ge,Cge=Q0,Ege="__lodash_hash_undefined__";function Pge(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Cge&&t===void 0?Ege:t,this}var Oge=Pge,Age=fge,kge=pge,Tge=bge,Dge=Nge,Ige=Oge;function vh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}vh.prototype.clear=Age;vh.prototype.delete=kge;vh.prototype.get=Tge;vh.prototype.has=Dge;vh.prototype.set=Ige;var Rge=vh;function $ge(){this.__data__=[],this.size=0}var Mge=$ge;function Lge(e,t){return e===t||e!==e&&t!==t}var PO=Lge,Fge=PO;function Bge(e,t){for(var r=e.length;r--;)if(Fge(e[r][0],t))return r;return-1}var J0=Bge,qge=J0,Uge=Array.prototype,zge=Uge.splice;function Wge(e){var t=this.__data__,r=qge(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():zge.call(t,r,1),--this.size,!0}var Vge=Wge,Hge=J0;function Gge(e){var t=this.__data__,r=Hge(t,e);return r<0?void 0:t[r][1]}var Kge=Gge,Yge=J0;function Xge(e){return Yge(this.__data__,e)>-1}var Qge=Xge,Jge=J0;function Zge(e,t){var r=this.__data__,n=Jge(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var eye=Zge,tye=Mge,rye=Vge,nye=Kge,aye=Qge,iye=eye;function gh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}gh.prototype.clear=tye;gh.prototype.delete=rye;gh.prototype.get=nye;gh.prototype.has=aye;gh.prototype.set=iye;var Z0=gh,sye=Wu,oye=ao,lye=sye(oye,"Map"),OO=lye,XD=Rge,cye=Z0,uye=OO;function dye(){this.size=0,this.__data__={hash:new XD,map:new(uye||cye),string:new XD}}var fye=dye;function hye(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var pye=hye,mye=pye;function vye(e,t){var r=e.__data__;return mye(t)?r[typeof t=="string"?"string":"hash"]:r.map}var ew=vye,gye=ew;function yye(e){var t=gye(this,e).delete(e);return this.size-=t?1:0,t}var xye=yye,bye=ew;function wye(e){return bye(this,e).get(e)}var jye=wye,Sye=ew;function _ye(e){return Sye(this,e).has(e)}var Nye=_ye,Cye=ew;function Eye(e,t){var r=Cye(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Pye=Eye,Oye=fye,Aye=xye,kye=jye,Tye=Nye,Dye=Pye;function yh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}yh.prototype.clear=Oye;yh.prototype.delete=Aye;yh.prototype.get=kye;yh.prototype.has=Tye;yh.prototype.set=Dye;var AO=yh,p8=AO,Iye="Expected a function";function kO(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Iye);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(kO.Cache||p8),r}kO.Cache=p8;var m8=kO;const Rye=Sr(m8);var $ye=m8,Mye=500;function Lye(e){var t=$ye(e,function(n){return r.size===Mye&&r.clear(),n}),r=t.cache;return t}var Fye=Lye,Bye=Fye,qye=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Uye=/\\(\\)?/g,zye=Bye(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(qye,function(r,n,a,i){t.push(a?i.replace(Uye,"$1"):n||r)}),t}),Wye=zye;function Vye(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var TO=Vye,QD=Mv,Hye=TO,Gye=Ja,Kye=ph,JD=QD?QD.prototype:void 0,ZD=JD?JD.toString:void 0;function v8(e){if(typeof e=="string")return e;if(Gye(e))return Hye(e,v8)+"";if(Kye(e))return ZD?ZD.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Yye=v8,Xye=Yye;function Qye(e){return e==null?"":Xye(e)}var g8=Qye,Jye=Ja,Zye=CO,exe=Wye,txe=g8;function rxe(e,t){return Jye(e)?e:Zye(e,t)?[e]:exe(txe(e))}var y8=rxe,nxe=ph;function axe(e){if(typeof e=="string"||nxe(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var tw=axe,ixe=y8,sxe=tw;function oxe(e,t){t=ixe(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[sxe(t[r++])];return r&&r==n?e:void 0}var DO=oxe,lxe=DO;function cxe(e,t,r){var n=e==null?void 0:lxe(e,t);return n===void 0?r:n}var x8=cxe;const bi=Sr(x8);function uxe(e){return e==null}var dxe=uxe;const Dt=Sr(dxe);var fxe=Xo,hxe=Ja,pxe=Qo,mxe="[object String]";function vxe(e){return typeof e=="string"||!hxe(e)&&pxe(e)&&fxe(e)==mxe}var gxe=vxe;const Du=Sr(gxe);var b8={exports:{}},Ir={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IO=Symbol.for("react.element"),RO=Symbol.for("react.portal"),rw=Symbol.for("react.fragment"),nw=Symbol.for("react.strict_mode"),aw=Symbol.for("react.profiler"),iw=Symbol.for("react.provider"),sw=Symbol.for("react.context"),yxe=Symbol.for("react.server_context"),ow=Symbol.for("react.forward_ref"),lw=Symbol.for("react.suspense"),cw=Symbol.for("react.suspense_list"),uw=Symbol.for("react.memo"),dw=Symbol.for("react.lazy"),xxe=Symbol.for("react.offscreen"),w8;w8=Symbol.for("react.module.reference");function Ji(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case IO:switch(e=e.type,e){case rw:case aw:case nw:case lw:case cw:return e;default:switch(e=e&&e.$$typeof,e){case yxe:case sw:case ow:case dw:case uw:case iw:return e;default:return t}}case RO:return t}}}Ir.ContextConsumer=sw;Ir.ContextProvider=iw;Ir.Element=IO;Ir.ForwardRef=ow;Ir.Fragment=rw;Ir.Lazy=dw;Ir.Memo=uw;Ir.Portal=RO;Ir.Profiler=aw;Ir.StrictMode=nw;Ir.Suspense=lw;Ir.SuspenseList=cw;Ir.isAsyncMode=function(){return!1};Ir.isConcurrentMode=function(){return!1};Ir.isContextConsumer=function(e){return Ji(e)===sw};Ir.isContextProvider=function(e){return Ji(e)===iw};Ir.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===IO};Ir.isForwardRef=function(e){return Ji(e)===ow};Ir.isFragment=function(e){return Ji(e)===rw};Ir.isLazy=function(e){return Ji(e)===dw};Ir.isMemo=function(e){return Ji(e)===uw};Ir.isPortal=function(e){return Ji(e)===RO};Ir.isProfiler=function(e){return Ji(e)===aw};Ir.isStrictMode=function(e){return Ji(e)===nw};Ir.isSuspense=function(e){return Ji(e)===lw};Ir.isSuspenseList=function(e){return Ji(e)===cw};Ir.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===rw||e===aw||e===nw||e===lw||e===cw||e===xxe||typeof e=="object"&&e!==null&&(e.$$typeof===dw||e.$$typeof===uw||e.$$typeof===iw||e.$$typeof===sw||e.$$typeof===ow||e.$$typeof===w8||e.getModuleId!==void 0)};Ir.typeOf=Ji;b8.exports=Ir;var bxe=b8.exports,wxe=Xo,jxe=Qo,Sxe="[object Number]";function _xe(e){return typeof e=="number"||jxe(e)&&wxe(e)==Sxe}var j8=_xe;const Nxe=Sr(j8);var Cxe=j8;function Exe(e){return Cxe(e)&&e!=+e}var Pxe=Exe;const Lv=Sr(Pxe);var Na=function(t){return t===0?0:t>0?1:-1},Yc=function(t){return Du(t)&&t.indexOf("%")===t.length-1},Pe=function(t){return Nxe(t)&&!Lv(t)},Oxe=function(t){return Dt(t)},Un=function(t){return Pe(t)||Du(t)},Axe=0,xh=function(t){var r=++Axe;return"".concat(t||"").concat(r)},Ca=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Pe(t)&&!Du(t))return n;var i;if(Yc(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Lv(i)&&(i=n),a&&i>r&&(i=r),i},gl=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},kxe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},ci=function(t,r){return Pe(t)&&Pe(r)?function(n){return t+n*(r-t)}:function(){return r}};function Rx(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):bi(n,t))===r})}var Txe=function(t,r){return Pe(t)&&Pe(r)?t-r:Du(t)&&Du(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Wd(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Z1(e){"@babel/helpers - typeof";return Z1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z1(e)}var Dxe=["viewBox","children"],Ixe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],eI=["points","pathLength"],bS={svg:Dxe,polygon:eI,polyline:eI},$O=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],$x=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(g.isValidElement(t)&&(n=t.props),!mh(n))return null;var a={};return Object.keys(n).forEach(function(i){$O.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},Rxe=function(t,r,n){return function(a){return t(r,n,a),null}},Iu=function(t,r,n){if(!mh(t)||Z1(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];$O.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=Rxe(o,r,n))}),a},$xe=["children"],Mxe=["children"];function tI(e,t){if(e==null)return{};var r=Lxe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Lxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function eN(e){"@babel/helpers - typeof";return eN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eN(e)}var rI={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ao=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},nI=null,wS=null,MO=function e(t){if(t===nI&&Array.isArray(wS))return wS;var r=[];return g.Children.forEach(t,function(n){Dt(n)||(bxe.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),wS=r,nI=t,r};function wi(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Ao(a)}):n=[Ao(t)],MO(e).forEach(function(a){var i=bi(a,"type.displayName")||bi(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function oi(e,t){var r=wi(e,t);return r&&r[0]}var aI=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Pe(n)||n<=0||!Pe(a)||a<=0)},Fxe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Bxe=function(t){return t&&t.type&&Du(t.type)&&Fxe.indexOf(t.type)>=0},qxe=function(t){return t&&eN(t)==="object"&&"clipDot"in t},Uxe=function(t,r,n,a){var i,o=(i=bS==null?void 0:bS[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Ot(t)&&(a&&o.includes(r)||Ixe.includes(r))||n&&$O.includes(r)},ft=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(g.isValidElement(t)&&(a=t.props),!mh(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;Uxe((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=a[o])}),i},tN=function e(t,r){if(t===r)return!0;var n=g.Children.count(t);if(n!==g.Children.count(r))return!1;if(n===0)return!0;if(n===1)return iI(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!iI(i,o))return!1}return!0},iI=function(t,r){if(Dt(t)&&Dt(r))return!0;if(!Dt(t)&&!Dt(r)){var n=t.props||{},a=n.children,i=tI(n,$xe),o=r.props||{},l=o.children,c=tI(o,Mxe);return a&&l?Wd(i,c)&&tN(a,l):!a&&!l?Wd(i,c):!1}return!1},sI=function(t,r){var n=[],a={};return MO(t).forEach(function(i,o){if(Bxe(i))n.push(i);else if(i){var l=Ao(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(i,l,o);n.push(f),a[l]=!0}}}),n},zxe=function(t){var r=t&&t.type;return r&&rI[r]?rI[r]:null},Wxe=function(t,r){return MO(r).indexOf(t)},Vxe=["children","width","height","viewBox","className","style","title","desc"];function rN(){return rN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rN.apply(this,arguments)}function Hxe(e,t){if(e==null)return{};var r=Gxe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Gxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function nN(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=Hxe(e,Vxe),d=a||{width:r,height:n,x:0,y:0},f=It("recharts-surface",i);return R.createElement("svg",rN({},ft(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),R.createElement("title",null,l),R.createElement("desc",null,c),t)}var Kxe=["children","className"];function aN(){return aN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aN.apply(this,arguments)}function Yxe(e,t){if(e==null)return{};var r=Xxe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Xxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var br=R.forwardRef(function(e,t){var r=e.children,n=e.className,a=Yxe(e,Kxe),i=It("recharts-layer",n);return R.createElement("g",aN({className:i},ft(a,!0),{ref:t}),r)}),Ss=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function Qxe(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var Jxe=Qxe,Zxe=Jxe;function ebe(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:Zxe(e,t,r)}var tbe=ebe,rbe="\\ud800-\\udfff",nbe="\\u0300-\\u036f",abe="\\ufe20-\\ufe2f",ibe="\\u20d0-\\u20ff",sbe=nbe+abe+ibe,obe="\\ufe0e\\ufe0f",lbe="\\u200d",cbe=RegExp("["+lbe+rbe+sbe+obe+"]");function ube(e){return cbe.test(e)}var S8=ube;function dbe(e){return e.split("")}var fbe=dbe,_8="\\ud800-\\udfff",hbe="\\u0300-\\u036f",pbe="\\ufe20-\\ufe2f",mbe="\\u20d0-\\u20ff",vbe=hbe+pbe+mbe,gbe="\\ufe0e\\ufe0f",ybe="["+_8+"]",iN="["+vbe+"]",sN="\\ud83c[\\udffb-\\udfff]",xbe="(?:"+iN+"|"+sN+")",N8="[^"+_8+"]",C8="(?:\\ud83c[\\udde6-\\uddff]){2}",E8="[\\ud800-\\udbff][\\udc00-\\udfff]",bbe="\\u200d",P8=xbe+"?",O8="["+gbe+"]?",wbe="(?:"+bbe+"(?:"+[N8,C8,E8].join("|")+")"+O8+P8+")*",jbe=O8+P8+wbe,Sbe="(?:"+[N8+iN+"?",iN,C8,E8,ybe].join("|")+")",_be=RegExp(sN+"(?="+sN+")|"+Sbe+jbe,"g");function Nbe(e){return e.match(_be)||[]}var Cbe=Nbe,Ebe=fbe,Pbe=S8,Obe=Cbe;function Abe(e){return Pbe(e)?Obe(e):Ebe(e)}var kbe=Abe,Tbe=tbe,Dbe=S8,Ibe=kbe,Rbe=g8;function $be(e){return function(t){t=Rbe(t);var r=Dbe(t)?Ibe(t):void 0,n=r?r[0]:t.charAt(0),a=r?Tbe(r,1).join(""):t.slice(1);return n[e]()+a}}var Mbe=$be,Lbe=Mbe,Fbe=Lbe("toUpperCase"),Bbe=Fbe;const fw=Sr(Bbe);function Gr(e){return function(){return e}}const A8=Math.cos,Mx=Math.sin,As=Math.sqrt,Lx=Math.PI,hw=2*Lx,oN=Math.PI,lN=2*oN,Lc=1e-6,qbe=lN-Lc;function k8(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Ube(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return k8;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class zbe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?k8:Ube(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Lc)if(!(Math.abs(f*c-u*d)>Lc)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,y=a-l,m=c*c+u*u,v=p*p+y*y,x=Math.sqrt(m),b=Math.sqrt(h),w=i*Math.tan((oN-Math.acos((m+h-v)/(2*x*b)))/2),j=w/b,S=w/x;Math.abs(j-1)>Lc&&this._append`L${t+j*d},${r+j*f}`,this._append`A${i},${i},0,0,${+(f*p>d*y)},${this._x1=t+S*c},${this._y1=r+S*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Lc||Math.abs(this._y1-d)>Lc)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%lN+lN),h>qbe?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Lc&&this._append`A${n},${n},0,${+(h>=oN)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function LO(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new zbe(t)}function FO(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function T8(e){this._context=e}T8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function pw(e){return new T8(e)}function D8(e){return e[0]}function I8(e){return e[1]}function R8(e,t){var r=Gr(!0),n=null,a=pw,i=null,o=LO(l);e=typeof e=="function"?e:e===void 0?D8:Gr(e),t=typeof t=="function"?t:t===void 0?I8:Gr(t);function l(c){var u,d=(c=FO(c)).length,f,h=!1,p;for(n==null&&(i=a(p=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Gr(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Gr(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Gr(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function Xg(e,t,r){var n=null,a=Gr(!0),i=null,o=pw,l=null,c=LO(u);e=typeof e=="function"?e:e===void 0?D8:Gr(+e),t=typeof t=="function"?t:Gr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?I8:Gr(+r);function u(f){var h,p,y,m=(f=FO(f)).length,v,x=!1,b,w=new Array(m),j=new Array(m);for(i==null&&(l=o(b=c())),h=0;h<=m;++h){if(!(h<m&&a(v=f[h],h,f))===x)if(x=!x)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=h-1;y>=p;--y)l.point(w[y],j[y]);l.lineEnd(),l.areaEnd()}x&&(w[h]=+e(v,h,f),j[h]=+t(v,h,f),l.point(n?+n(v,h,f):w[h],r?+r(v,h,f):j[h]))}if(b)return l=null,b+""||null}function d(){return R8().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Gr(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Gr(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Gr(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Gr(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Gr(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Gr(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Gr(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class $8{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Wbe(e){return new $8(e,!0)}function Vbe(e){return new $8(e,!1)}const BO={draw(e,t){const r=As(t/Lx);e.moveTo(r,0),e.arc(0,0,r,0,hw)}},Hbe={draw(e,t){const r=As(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},M8=As(1/3),Gbe=M8*2,Kbe={draw(e,t){const r=As(t/Gbe),n=r*M8;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Ybe={draw(e,t){const r=As(t),n=-r/2;e.rect(n,n,r,r)}},Xbe=.8908130915292852,L8=Mx(Lx/10)/Mx(7*Lx/10),Qbe=Mx(hw/10)*L8,Jbe=-A8(hw/10)*L8,Zbe={draw(e,t){const r=As(t*Xbe),n=Qbe*r,a=Jbe*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=hw*i/5,l=A8(o),c=Mx(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},jS=As(3),e0e={draw(e,t){const r=-As(t/(jS*3));e.moveTo(0,r*2),e.lineTo(-jS*r,-r),e.lineTo(jS*r,-r),e.closePath()}},Oi=-.5,Ai=As(3)/2,cN=1/As(12),t0e=(cN/2+1)*3,r0e={draw(e,t){const r=As(t/t0e),n=r/2,a=r*cN,i=n,o=r*cN+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Oi*n-Ai*a,Ai*n+Oi*a),e.lineTo(Oi*i-Ai*o,Ai*i+Oi*o),e.lineTo(Oi*l-Ai*c,Ai*l+Oi*c),e.lineTo(Oi*n+Ai*a,Oi*a-Ai*n),e.lineTo(Oi*i+Ai*o,Oi*o-Ai*i),e.lineTo(Oi*l+Ai*c,Oi*c-Ai*l),e.closePath()}};function n0e(e,t){let r=null,n=LO(a);e=typeof e=="function"?e:Gr(e||BO),t=typeof t=="function"?t:Gr(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Gr(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Gr(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Fx(){}function Bx(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function F8(e){this._context=e}F8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Bx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Bx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function a0e(e){return new F8(e)}function B8(e){this._context=e}B8.prototype={areaStart:Fx,areaEnd:Fx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Bx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function i0e(e){return new B8(e)}function q8(e){this._context=e}q8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Bx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function s0e(e){return new q8(e)}function U8(e){this._context=e}U8.prototype={areaStart:Fx,areaEnd:Fx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function o0e(e){return new U8(e)}function oI(e){return e<0?-1:1}function lI(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(oI(i)+oI(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function cI(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function SS(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function qx(e){this._context=e}qx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:SS(this,this._t0,cI(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,SS(this,cI(this,r=lI(this,e,t)),r);break;default:SS(this,this._t0,r=lI(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function z8(e){this._context=new W8(e)}(z8.prototype=Object.create(qx.prototype)).point=function(e,t){qx.prototype.point.call(this,t,e)};function W8(e){this._context=e}W8.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function l0e(e){return new qx(e)}function c0e(e){return new z8(e)}function V8(e){this._context=e}V8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=uI(e),a=uI(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function uI(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function u0e(e){return new V8(e)}function mw(e,t){this._context=e,this._t=t}mw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function d0e(e){return new mw(e,.5)}function f0e(e){return new mw(e,0)}function h0e(e){return new mw(e,1)}function Nf(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function uN(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function p0e(e,t){return e[t]}function m0e(e){const t=[];return t.key=e,t}function v0e(){var e=Gr([]),t=uN,r=Nf,n=p0e;function a(i){var o=Array.from(e.apply(this,arguments),m0e),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=FO(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Gr(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Gr(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?uN:typeof i=="function"?i:Gr(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Nf,a):r},a}function g0e(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Nf(e,t)}}function y0e(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Nf(e,t)}}function x0e(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,y=0;y<l;++y){var m=e[t[y]],v=m[n][1]||0,x=m[n-1][1]||0;p+=v-x}c+=f,u+=p*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Nf(e,t)}}function bm(e){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bm(e)}var b0e=["type","size","sizeType"];function dN(){return dN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dN.apply(this,arguments)}function dI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dI(Object(r),!0).forEach(function(n){w0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w0e(e,t,r){return t=j0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j0e(e){var t=S0e(e,"string");return bm(t)=="symbol"?t:t+""}function S0e(e,t){if(bm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _0e(e,t){if(e==null)return{};var r=N0e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function N0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var H8={symbolCircle:BO,symbolCross:Hbe,symbolDiamond:Kbe,symbolSquare:Ybe,symbolStar:Zbe,symbolTriangle:e0e,symbolWye:r0e},C0e=Math.PI/180,E0e=function(t){var r="symbol".concat(fw(t));return H8[r]||BO},P0e=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*C0e;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},O0e=function(t,r){H8["symbol".concat(fw(t))]=r},qO=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=_0e(t,b0e),u=fI(fI({},c),{},{type:n,size:i,sizeType:l}),d=function(){var v=E0e(n),x=n0e().type(v).size(P0e(i,l,n));return x()},f=u.className,h=u.cx,p=u.cy,y=ft(u,!0);return h===+h&&p===+p&&i===+i?R.createElement("path",dN({},y,{className:It("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};qO.registerSymbol=O0e;function Cf(e){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cf(e)}function fN(){return fN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fN.apply(this,arguments)}function hI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function A0e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hI(Object(r),!0).forEach(function(n){wm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T0e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,K8(n.key),n)}}function D0e(e,t,r){return t&&T0e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function I0e(e,t,r){return t=Ux(t),R0e(e,G8()?Reflect.construct(t,r||[],Ux(e).constructor):t.apply(e,r))}function R0e(e,t){if(t&&(Cf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $0e(e)}function $0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G8=function(){return!!e})()}function Ux(e){return Ux=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ux(e)}function M0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hN(e,t)}function hN(e,t){return hN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hN(e,t)}function wm(e,t,r){return t=K8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K8(e){var t=L0e(e,"string");return Cf(t)=="symbol"?t:t+""}function L0e(e,t){if(Cf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ki=32,UO=function(e){function t(){return k0e(this,t),I0e(this,t,arguments)}return M0e(t,e),D0e(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=ki/2,o=ki/6,l=ki/3,c=n.inactive?a:n.color;if(n.type==="plainline")return R.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:ki,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return R.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(ki,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return R.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ki/8,"h").concat(ki,"v").concat(ki*3/4,"h").concat(-ki,"z"),className:"recharts-legend-icon"});if(R.isValidElement(n.legendIcon)){var u=A0e({},n);return delete u.legendIcon,R.cloneElement(n.legendIcon,u)}return R.createElement(qO,{fill:c,cx:i,cy:i,size:ki,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:ki,height:ki},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,y){var m=p.formatter||c,v=It(wm(wm({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",p.inactive));if(p.type==="none")return null;var x=Ot(p.value)?null:p.value;Ss(!Ot(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?u:p.color;return R.createElement("li",fN({className:v,style:f,key:"legend-item-".concat(y)},Iu(n.props,p,y)),R.createElement(nN,{width:o,height:o,viewBox:d,style:h},n.renderIcon(p)),R.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},m?m(x,p,y):x))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return R.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(g.PureComponent);wm(UO,"displayName","Legend");wm(UO,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var F0e=Z0;function B0e(){this.__data__=new F0e,this.size=0}var q0e=B0e;function U0e(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var z0e=U0e;function W0e(e){return this.__data__.get(e)}var V0e=W0e;function H0e(e){return this.__data__.has(e)}var G0e=H0e,K0e=Z0,Y0e=OO,X0e=AO,Q0e=200;function J0e(e,t){var r=this.__data__;if(r instanceof K0e){var n=r.__data__;if(!Y0e||n.length<Q0e-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new X0e(n)}return r.set(e,t),this.size=r.size,this}var Z0e=J0e,ewe=Z0,twe=q0e,rwe=z0e,nwe=V0e,awe=G0e,iwe=Z0e;function bh(e){var t=this.__data__=new ewe(e);this.size=t.size}bh.prototype.clear=twe;bh.prototype.delete=rwe;bh.prototype.get=nwe;bh.prototype.has=awe;bh.prototype.set=iwe;var Y8=bh,swe="__lodash_hash_undefined__";function owe(e){return this.__data__.set(e,swe),this}var lwe=owe;function cwe(e){return this.__data__.has(e)}var uwe=cwe,dwe=AO,fwe=lwe,hwe=uwe;function zx(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new dwe;++t<r;)this.add(e[t])}zx.prototype.add=zx.prototype.push=fwe;zx.prototype.has=hwe;var X8=zx;function pwe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Q8=pwe;function mwe(e,t){return e.has(t)}var J8=mwe,vwe=X8,gwe=Q8,ywe=J8,xwe=1,bwe=2;function wwe(e,t,r,n,a,i){var o=r&xwe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&bwe?new vwe:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var y=e[f],m=t[f];if(n)var v=o?n(m,y,f,t,e,i):n(y,m,f,e,t,i);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!gwe(t,function(x,b){if(!ywe(p,b)&&(y===x||a(y,x,r,n,i)))return p.push(b)})){h=!1;break}}else if(!(y===m||a(y,m,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var Z8=wwe,jwe=ao,Swe=jwe.Uint8Array,_we=Swe;function Nwe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var Cwe=Nwe;function Ewe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var zO=Ewe,pI=Mv,mI=_we,Pwe=PO,Owe=Z8,Awe=Cwe,kwe=zO,Twe=1,Dwe=2,Iwe="[object Boolean]",Rwe="[object Date]",$we="[object Error]",Mwe="[object Map]",Lwe="[object Number]",Fwe="[object RegExp]",Bwe="[object Set]",qwe="[object String]",Uwe="[object Symbol]",zwe="[object ArrayBuffer]",Wwe="[object DataView]",vI=pI?pI.prototype:void 0,_S=vI?vI.valueOf:void 0;function Vwe(e,t,r,n,a,i,o){switch(r){case Wwe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case zwe:return!(e.byteLength!=t.byteLength||!i(new mI(e),new mI(t)));case Iwe:case Rwe:case Lwe:return Pwe(+e,+t);case $we:return e.name==t.name&&e.message==t.message;case Fwe:case qwe:return e==t+"";case Mwe:var l=Awe;case Bwe:var c=n&Twe;if(l||(l=kwe),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=Dwe,o.set(e,t);var d=Owe(l(e),l(t),n,a,i,o);return o.delete(e),d;case Uwe:if(_S)return _S.call(e)==_S.call(t)}return!1}var Hwe=Vwe;function Gwe(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var eW=Gwe,Kwe=eW,Ywe=Ja;function Xwe(e,t,r){var n=t(e);return Ywe(e)?n:Kwe(n,r(e))}var Qwe=Xwe;function Jwe(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var Zwe=Jwe;function eje(){return[]}var tje=eje,rje=Zwe,nje=tje,aje=Object.prototype,ije=aje.propertyIsEnumerable,gI=Object.getOwnPropertySymbols,sje=gI?function(e){return e==null?[]:(e=Object(e),rje(gI(e),function(t){return ije.call(e,t)}))}:nje,oje=sje;function lje(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var cje=lje,uje=Xo,dje=Qo,fje="[object Arguments]";function hje(e){return dje(e)&&uje(e)==fje}var pje=hje,yI=pje,mje=Qo,tW=Object.prototype,vje=tW.hasOwnProperty,gje=tW.propertyIsEnumerable,yje=yI(function(){return arguments}())?yI:function(e){return mje(e)&&vje.call(e,"callee")&&!gje.call(e,"callee")},WO=yje,Wx={exports:{}};function xje(){return!1}var bje=xje;Wx.exports;(function(e,t){var r=ao,n=bje,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Wx,Wx.exports);var rW=Wx.exports,wje=9007199254740991,jje=/^(?:0|[1-9]\d*)$/;function Sje(e,t){var r=typeof e;return t=t??wje,!!t&&(r=="number"||r!="symbol"&&jje.test(e))&&e>-1&&e%1==0&&e<t}var VO=Sje,_je=9007199254740991;function Nje(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=_je}var HO=Nje,Cje=Xo,Eje=HO,Pje=Qo,Oje="[object Arguments]",Aje="[object Array]",kje="[object Boolean]",Tje="[object Date]",Dje="[object Error]",Ije="[object Function]",Rje="[object Map]",$je="[object Number]",Mje="[object Object]",Lje="[object RegExp]",Fje="[object Set]",Bje="[object String]",qje="[object WeakMap]",Uje="[object ArrayBuffer]",zje="[object DataView]",Wje="[object Float32Array]",Vje="[object Float64Array]",Hje="[object Int8Array]",Gje="[object Int16Array]",Kje="[object Int32Array]",Yje="[object Uint8Array]",Xje="[object Uint8ClampedArray]",Qje="[object Uint16Array]",Jje="[object Uint32Array]",Zr={};Zr[Wje]=Zr[Vje]=Zr[Hje]=Zr[Gje]=Zr[Kje]=Zr[Yje]=Zr[Xje]=Zr[Qje]=Zr[Jje]=!0;Zr[Oje]=Zr[Aje]=Zr[Uje]=Zr[kje]=Zr[zje]=Zr[Tje]=Zr[Dje]=Zr[Ije]=Zr[Rje]=Zr[$je]=Zr[Mje]=Zr[Lje]=Zr[Fje]=Zr[Bje]=Zr[qje]=!1;function Zje(e){return Pje(e)&&Eje(e.length)&&!!Zr[Cje(e)]}var eSe=Zje;function tSe(e){return function(t){return e(t)}}var nW=tSe,Vx={exports:{}};Vx.exports;(function(e,t){var r=d8,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(Vx,Vx.exports);var rSe=Vx.exports,nSe=eSe,aSe=nW,xI=rSe,bI=xI&&xI.isTypedArray,iSe=bI?aSe(bI):nSe,aW=iSe,sSe=cje,oSe=WO,lSe=Ja,cSe=rW,uSe=VO,dSe=aW,fSe=Object.prototype,hSe=fSe.hasOwnProperty;function pSe(e,t){var r=lSe(e),n=!r&&oSe(e),a=!r&&!n&&cSe(e),i=!r&&!n&&!a&&dSe(e),o=r||n||a||i,l=o?sSe(e.length,String):[],c=l.length;for(var u in e)(t||hSe.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||uSe(u,c)))&&l.push(u);return l}var mSe=pSe,vSe=Object.prototype;function gSe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||vSe;return e===r}var ySe=gSe;function xSe(e,t){return function(r){return e(t(r))}}var iW=xSe,bSe=iW,wSe=bSe(Object.keys,Object),jSe=wSe,SSe=ySe,_Se=jSe,NSe=Object.prototype,CSe=NSe.hasOwnProperty;function ESe(e){if(!SSe(e))return _Se(e);var t=[];for(var r in Object(e))CSe.call(e,r)&&r!="constructor"&&t.push(r);return t}var PSe=ESe,OSe=EO,ASe=HO;function kSe(e){return e!=null&&ASe(e.length)&&!OSe(e)}var Fv=kSe,TSe=mSe,DSe=PSe,ISe=Fv;function RSe(e){return ISe(e)?TSe(e):DSe(e)}var vw=RSe,$Se=Qwe,MSe=oje,LSe=vw;function FSe(e){return $Se(e,LSe,MSe)}var BSe=FSe,wI=BSe,qSe=1,USe=Object.prototype,zSe=USe.hasOwnProperty;function WSe(e,t,r,n,a,i){var o=r&qSe,l=wI(e),c=l.length,u=wI(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:zSe.call(t,h)))return!1}var p=i.get(e),y=i.get(t);if(p&&y)return p==t&&y==e;var m=!0;i.set(e,t),i.set(t,e);for(var v=o;++f<c;){h=l[f];var x=e[h],b=t[h];if(n)var w=o?n(b,x,h,t,e,i):n(x,b,h,e,t,i);if(!(w===void 0?x===b||a(x,b,r,n,i):w)){m=!1;break}v||(v=h=="constructor")}if(m&&!v){var j=e.constructor,S=t.constructor;j!=S&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof S=="function"&&S instanceof S)&&(m=!1)}return i.delete(e),i.delete(t),m}var VSe=WSe,HSe=Wu,GSe=ao,KSe=HSe(GSe,"DataView"),YSe=KSe,XSe=Wu,QSe=ao,JSe=XSe(QSe,"Promise"),ZSe=JSe,e_e=Wu,t_e=ao,r_e=e_e(t_e,"Set"),sW=r_e,n_e=Wu,a_e=ao,i_e=n_e(a_e,"WeakMap"),s_e=i_e,pN=YSe,mN=OO,vN=ZSe,gN=sW,yN=s_e,oW=Xo,wh=h8,jI="[object Map]",o_e="[object Object]",SI="[object Promise]",_I="[object Set]",NI="[object WeakMap]",CI="[object DataView]",l_e=wh(pN),c_e=wh(mN),u_e=wh(vN),d_e=wh(gN),f_e=wh(yN),Fc=oW;(pN&&Fc(new pN(new ArrayBuffer(1)))!=CI||mN&&Fc(new mN)!=jI||vN&&Fc(vN.resolve())!=SI||gN&&Fc(new gN)!=_I||yN&&Fc(new yN)!=NI)&&(Fc=function(e){var t=oW(e),r=t==o_e?e.constructor:void 0,n=r?wh(r):"";if(n)switch(n){case l_e:return CI;case c_e:return jI;case u_e:return SI;case d_e:return _I;case f_e:return NI}return t});var h_e=Fc,NS=Y8,p_e=Z8,m_e=Hwe,v_e=VSe,EI=h_e,PI=Ja,OI=rW,g_e=aW,y_e=1,AI="[object Arguments]",kI="[object Array]",Qg="[object Object]",x_e=Object.prototype,TI=x_e.hasOwnProperty;function b_e(e,t,r,n,a,i){var o=PI(e),l=PI(t),c=o?kI:EI(e),u=l?kI:EI(t);c=c==AI?Qg:c,u=u==AI?Qg:u;var d=c==Qg,f=u==Qg,h=c==u;if(h&&OI(e)){if(!OI(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new NS),o||g_e(e)?p_e(e,t,r,n,a,i):m_e(e,t,c,r,n,a,i);if(!(r&y_e)){var p=d&&TI.call(e,"__wrapped__"),y=f&&TI.call(t,"__wrapped__");if(p||y){var m=p?e.value():e,v=y?t.value():t;return i||(i=new NS),a(m,v,r,n,i)}}return h?(i||(i=new NS),v_e(e,t,r,n,a,i)):!1}var w_e=b_e,j_e=w_e,DI=Qo;function lW(e,t,r,n,a){return e===t?!0:e==null||t==null||!DI(e)&&!DI(t)?e!==e&&t!==t:j_e(e,t,r,n,lW,a)}var GO=lW,S_e=Y8,__e=GO,N_e=1,C_e=2;function E_e(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new S_e;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?__e(d,u,N_e|C_e,n,f):h))return!1}}return!0}var P_e=E_e,O_e=yc;function A_e(e){return e===e&&!O_e(e)}var cW=A_e,k_e=cW,T_e=vw;function D_e(e){for(var t=T_e(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,k_e(a)]}return t}var I_e=D_e;function R_e(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var uW=R_e,$_e=P_e,M_e=I_e,L_e=uW;function F_e(e){var t=M_e(e);return t.length==1&&t[0][2]?L_e(t[0][0],t[0][1]):function(r){return r===e||$_e(r,e,t)}}var B_e=F_e;function q_e(e,t){return e!=null&&t in Object(e)}var U_e=q_e,z_e=y8,W_e=WO,V_e=Ja,H_e=VO,G_e=HO,K_e=tw;function Y_e(e,t,r){t=z_e(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=K_e(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&G_e(a)&&H_e(o,a)&&(V_e(e)||W_e(e)))}var X_e=Y_e,Q_e=U_e,J_e=X_e;function Z_e(e,t){return e!=null&&J_e(e,t,Q_e)}var e1e=Z_e,t1e=GO,r1e=x8,n1e=e1e,a1e=CO,i1e=cW,s1e=uW,o1e=tw,l1e=1,c1e=2;function u1e(e,t){return a1e(e)&&i1e(t)?s1e(o1e(e),t):function(r){var n=r1e(r,e);return n===void 0&&n===t?n1e(r,e):t1e(t,n,l1e|c1e)}}var d1e=u1e;function f1e(e){return e}var jh=f1e;function h1e(e){return function(t){return t==null?void 0:t[e]}}var p1e=h1e,m1e=DO;function v1e(e){return function(t){return m1e(t,e)}}var g1e=v1e,y1e=p1e,x1e=g1e,b1e=CO,w1e=tw;function j1e(e){return b1e(e)?y1e(w1e(e)):x1e(e)}var S1e=j1e,_1e=B_e,N1e=d1e,C1e=jh,E1e=Ja,P1e=S1e;function O1e(e){return typeof e=="function"?e:e==null?C1e:typeof e=="object"?E1e(e)?N1e(e[0],e[1]):_1e(e):P1e(e)}var io=O1e;function A1e(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var dW=A1e;function k1e(e){return e!==e}var T1e=k1e;function D1e(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var I1e=D1e,R1e=dW,$1e=T1e,M1e=I1e;function L1e(e,t,r){return t===t?M1e(e,t,r):R1e(e,$1e,r)}var F1e=L1e,B1e=F1e;function q1e(e,t){var r=e==null?0:e.length;return!!r&&B1e(e,t,0)>-1}var U1e=q1e;function z1e(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var W1e=z1e;function V1e(){}var H1e=V1e,CS=sW,G1e=H1e,K1e=zO,Y1e=1/0,X1e=CS&&1/K1e(new CS([,-0]))[1]==Y1e?function(e){return new CS(e)}:G1e,Q1e=X1e,J1e=X8,Z1e=U1e,eNe=W1e,tNe=J8,rNe=Q1e,nNe=zO,aNe=200;function iNe(e,t,r){var n=-1,a=Z1e,i=e.length,o=!0,l=[],c=l;if(r)o=!1,a=eNe;else if(i>=aNe){var u=t?null:rNe(e);if(u)return nNe(u);o=!1,a=tNe,c=new J1e}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var sNe=iNe,oNe=io,lNe=sNe;function cNe(e,t){return e&&e.length?lNe(e,oNe(t)):[]}var uNe=cNe;const II=Sr(uNe);function fW(e,t,r){return t===!0?II(e,r):Ot(t)?II(e,t):e}function Ef(e){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ef(e)}var dNe=["ref"];function RI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RI(Object(r),!0).forEach(function(n){gw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $I(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pW(n.key),n)}}function hNe(e,t,r){return t&&$I(e.prototype,t),r&&$I(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function pNe(e,t,r){return t=Hx(t),mNe(e,hW()?Reflect.construct(t,r||[],Hx(e).constructor):t.apply(e,r))}function mNe(e,t){if(t&&(Ef(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vNe(e)}function vNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hW=function(){return!!e})()}function Hx(e){return Hx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hx(e)}function gNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xN(e,t)}function xN(e,t){return xN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xN(e,t)}function gw(e,t,r){return t=pW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pW(e){var t=yNe(e,"string");return Ef(t)=="symbol"?t:t+""}function yNe(e,t){if(Ef(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function xNe(e,t){if(e==null)return{};var r=bNe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wNe(e){return e.value}function jNe(e,t){if(R.isValidElement(e))return R.cloneElement(e,t);if(typeof e=="function")return R.createElement(e,t);t.ref;var r=xNe(t,dNe);return R.createElement(UO,r)}var MI=1,fu=function(e){function t(){var r;fNe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=pNe(this,t,[].concat(a)),gw(r,"lastBoundingBox",{width:-1,height:-1}),r}return gNe(t,e),hNe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>MI||Math.abs(a.height-this.lastBoundingBox.height)>MI)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?uo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();h={top:((d||0)-y.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return uo(uo({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=uo(uo({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return R.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},jNe(i,uo(uo({},this.props),{},{payload:fW(d,u,wNe)})))}}],[{key:"getWithHeight",value:function(n,a){var i=uo(uo({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&Pe(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(g.PureComponent);gw(fu,"displayName","Legend");gw(fu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var LI=Mv,SNe=WO,_Ne=Ja,FI=LI?LI.isConcatSpreadable:void 0;function NNe(e){return _Ne(e)||SNe(e)||!!(FI&&e&&e[FI])}var CNe=NNe,ENe=eW,PNe=CNe;function mW(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=PNe),a||(a=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?mW(l,t-1,r,n,a):ENe(a,l):n||(a[a.length]=l)}return a}var vW=mW;function ONe(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var ANe=ONe,kNe=ANe,TNe=kNe(),DNe=TNe,INe=DNe,RNe=vw;function $Ne(e,t){return e&&INe(e,t,RNe)}var gW=$Ne,MNe=Fv;function LNe(e,t){return function(r,n){if(r==null)return r;if(!MNe(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var FNe=LNe,BNe=gW,qNe=FNe,UNe=qNe(BNe),KO=UNe,zNe=KO,WNe=Fv;function VNe(e,t){var r=-1,n=WNe(e)?Array(e.length):[];return zNe(e,function(a,i,o){n[++r]=t(a,i,o)}),n}var yW=VNe;function HNe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var GNe=HNe,BI=ph;function KNe(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=BI(e),o=t!==void 0,l=t===null,c=t===t,u=BI(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||l&&r&&a||!o&&a||!c)return-1}return 0}var YNe=KNe,XNe=YNe;function QNe(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,l=r.length;++n<o;){var c=XNe(a[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var JNe=QNe,ES=TO,ZNe=DO,eCe=io,tCe=yW,rCe=GNe,nCe=nW,aCe=JNe,iCe=jh,sCe=Ja;function oCe(e,t,r){t.length?t=ES(t,function(i){return sCe(i)?function(o){return ZNe(o,i.length===1?i[0]:i)}:i}):t=[iCe];var n=-1;t=ES(t,nCe(eCe));var a=tCe(e,function(i,o,l){var c=ES(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return rCe(a,function(i,o){return aCe(i,o,r)})}var lCe=oCe;function cCe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var uCe=cCe,dCe=uCe,qI=Math.max;function fCe(e,t,r){return t=qI(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=qI(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),dCe(e,this,l)}}var hCe=fCe;function pCe(e){return function(){return e}}var mCe=pCe,vCe=Wu,gCe=function(){try{var e=vCe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),xW=gCe,yCe=mCe,UI=xW,xCe=jh,bCe=UI?function(e,t){return UI(e,"toString",{configurable:!0,enumerable:!1,value:yCe(t),writable:!0})}:xCe,wCe=bCe,jCe=800,SCe=16,_Ce=Date.now;function NCe(e){var t=0,r=0;return function(){var n=_Ce(),a=SCe-(n-r);if(r=n,a>0){if(++t>=jCe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var CCe=NCe,ECe=wCe,PCe=CCe,OCe=PCe(ECe),ACe=OCe,kCe=jh,TCe=hCe,DCe=ACe;function ICe(e,t){return DCe(TCe(e,t,kCe),e+"")}var RCe=ICe,$Ce=PO,MCe=Fv,LCe=VO,FCe=yc;function BCe(e,t,r){if(!FCe(r))return!1;var n=typeof t;return(n=="number"?MCe(r)&&LCe(t,r.length):n=="string"&&t in r)?$Ce(r[t],e):!1}var yw=BCe,qCe=vW,UCe=lCe,zCe=RCe,zI=yw,WCe=zCe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&zI(e,t[0],t[1])?t=[]:r>2&&zI(t[0],t[1],t[2])&&(t=[t[0]]),UCe(e,qCe(t,1),[])}),VCe=WCe;const YO=Sr(VCe);function jm(e){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jm(e)}function bN(){return bN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bN.apply(this,arguments)}function HCe(e,t){return XCe(e)||YCe(e,t)||KCe(e,t)||GCe()}function GCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KCe(e,t){if(e){if(typeof e=="string")return WI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WI(e,t)}}function WI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function YCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function XCe(e){if(Array.isArray(e))return e}function VI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VI(Object(r),!0).forEach(function(n){QCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QCe(e,t,r){return t=JCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JCe(e){var t=ZCe(e,"string");return jm(t)=="symbol"?t:t+""}function ZCe(e,t){if(jm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eEe(e){return Array.isArray(e)&&Un(e[0])&&Un(e[1])?e.join(" ~ "):e}var tEe=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,y=t.labelClassName,m=t.label,v=t.labelFormatter,x=t.accessibilityLayer,b=x===void 0?!1:x,w=function(){if(d&&d.length){var P={padding:0,margin:0},k=(h?YO(d,h):d).map(function(I,M){if(I.type==="none")return null;var L=PS({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},l),$=I.formatter||f||eEe,D=I.value,T=I.name,H=D,re=T;if($&&H!=null&&re!=null){var J=$(D,T,I,M,d);if(Array.isArray(J)){var le=HCe(J,2);H=le[0],re=le[1]}else H=J}return R.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:L},Un(re)?R.createElement("span",{className:"recharts-tooltip-item-name"},re):null,Un(re)?R.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,R.createElement("span",{className:"recharts-tooltip-item-value"},H),R.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return R.createElement("ul",{className:"recharts-tooltip-item-list",style:P},k)}return null},j=PS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),S=PS({margin:0},u),_=!Dt(m),N=_?m:"",C=It("recharts-default-tooltip",p),E=It("recharts-tooltip-label",y);_&&v&&d!==void 0&&d!==null&&(N=v(m,d));var A=b?{role:"status","aria-live":"assertive"}:{};return R.createElement("div",bN({className:C,style:j},A),R.createElement("p",{className:E,style:S},R.isValidElement(N)?N:"".concat(N)),w())};function Sm(e){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sm(e)}function Jg(e,t,r){return t=rEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rEe(e){var t=nEe(e,"string");return Sm(t)=="symbol"?t:t+""}function nEe(e,t){if(Sm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yh="recharts-tooltip-wrapper",aEe={visibility:"hidden"};function iEe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return It(Yh,Jg(Jg(Jg(Jg({},"".concat(Yh,"-right"),Pe(r)&&t&&Pe(t.x)&&r>=t.x),"".concat(Yh,"-left"),Pe(r)&&t&&Pe(t.x)&&r<t.x),"".concat(Yh,"-bottom"),Pe(n)&&t&&Pe(t.y)&&n>=t.y),"".concat(Yh,"-top"),Pe(n)&&t&&Pe(t.y)&&n<t.y))}function HI(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&Pe(i[n]))return i[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,p=c[n];return h<p?Math.max(f,c[n]):Math.max(d,c[n])}var y=f+l,m=c[n]+u;return y>m?Math.max(d,c[n]):Math.max(f,c[n])}function sEe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function oEe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=HI({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=HI({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=sEe({translateX:d,translateY:f,useTranslate3d:l})):u=aEe,{cssProperties:u,cssClasses:iEe({translateX:d,translateY:f,coordinate:r})}}function Pf(e){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pf(e)}function GI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function KI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GI(Object(r),!0).forEach(function(n){jN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cEe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wW(n.key),n)}}function uEe(e,t,r){return t&&cEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dEe(e,t,r){return t=Gx(t),fEe(e,bW()?Reflect.construct(t,r||[],Gx(e).constructor):t.apply(e,r))}function fEe(e,t){if(t&&(Pf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hEe(e)}function hEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bW=function(){return!!e})()}function Gx(e){return Gx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gx(e)}function pEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wN(e,t)}function wN(e,t){return wN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wN(e,t)}function jN(e,t,r){return t=wW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wW(e){var t=mEe(e,"string");return Pf(t)=="symbol"?t:t+""}function mEe(e,t){if(Pf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var YI=1,vEe=function(e){function t(){var r;lEe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=dEe(this,t,[].concat(a)),jN(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),jN(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return pEe(t,e),uEe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>YI||Math.abs(n.height-this.state.lastBoundingBox.height)>YI)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,p=a.offset,y=a.position,m=a.reverseDirection,v=a.useTranslate3d,x=a.viewBox,b=a.wrapperStyle,w=oEe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:y,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:x}),j=w.cssClasses,S=w.cssProperties,_=KI(KI({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return R.createElement("div",{tabIndex:-1,className:j,style:_,ref:function(C){n.wrapperNode=C}},u)}}])}(g.PureComponent),gEe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Vu={isSsr:gEe()};function Of(e){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Of(e)}function XI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function QI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XI(Object(r),!0).forEach(function(n){XO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xEe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SW(n.key),n)}}function bEe(e,t,r){return t&&xEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wEe(e,t,r){return t=Kx(t),jEe(e,jW()?Reflect.construct(t,r||[],Kx(e).constructor):t.apply(e,r))}function jEe(e,t){if(t&&(Of(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SEe(e)}function SEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jW=function(){return!!e})()}function Kx(e){return Kx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kx(e)}function _Ee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SN(e,t)}function SN(e,t){return SN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},SN(e,t)}function XO(e,t,r){return t=SW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SW(e){var t=NEe(e,"string");return Of(t)=="symbol"?t:t+""}function NEe(e,t){if(Of(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function CEe(e){return e.dataKey}function EEe(e,t){return R.isValidElement(e)?R.cloneElement(e,t):typeof e=="function"?R.createElement(e,t):R.createElement(tEe,t)}var hs=function(e){function t(){return yEe(this,t),wEe(this,t,arguments)}return _Ee(t,e),bEe(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,p=a.offset,y=a.payload,m=a.payloadUniqBy,v=a.position,x=a.reverseDirection,b=a.useTranslate3d,w=a.viewBox,j=a.wrapperStyle,S=y??[];f&&S.length&&(S=fW(y.filter(function(N){return N.value!=null&&(N.hide!==!0||n.props.includeHidden)}),m,CEe));var _=S.length>0;return R.createElement(vEe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:_,offset:p,position:v,reverseDirection:x,useTranslate3d:b,viewBox:w,wrapperStyle:j},EEe(u,QI(QI({},this.props),{},{payload:S})))}}])}(g.PureComponent);XO(hs,"displayName","Tooltip");XO(hs,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Vu.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var PEe=ao,OEe=function(){return PEe.Date.now()},AEe=OEe,kEe=/\s/;function TEe(e){for(var t=e.length;t--&&kEe.test(e.charAt(t)););return t}var DEe=TEe,IEe=DEe,REe=/^\s+/;function $Ee(e){return e&&e.slice(0,IEe(e)+1).replace(REe,"")}var MEe=$Ee,LEe=MEe,JI=yc,FEe=ph,ZI=NaN,BEe=/^[-+]0x[0-9a-f]+$/i,qEe=/^0b[01]+$/i,UEe=/^0o[0-7]+$/i,zEe=parseInt;function WEe(e){if(typeof e=="number")return e;if(FEe(e))return ZI;if(JI(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=JI(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=LEe(e);var r=qEe.test(e);return r||UEe.test(e)?zEe(e.slice(2),r?2:8):BEe.test(e)?ZI:+e}var _W=WEe,VEe=yc,OS=AEe,eR=_W,HEe="Expected a function",GEe=Math.max,KEe=Math.min;function YEe(e,t,r){var n,a,i,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(HEe);t=eR(t)||0,VEe(r)&&(d=!!r.leading,f="maxWait"in r,i=f?GEe(eR(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(_){var N=n,C=a;return n=a=void 0,u=_,o=e.apply(C,N),o}function y(_){return u=_,l=setTimeout(x,t),d?p(_):o}function m(_){var N=_-c,C=_-u,E=t-N;return f?KEe(E,i-C):E}function v(_){var N=_-c,C=_-u;return c===void 0||N>=t||N<0||f&&C>=i}function x(){var _=OS();if(v(_))return b(_);l=setTimeout(x,m(_))}function b(_){return l=void 0,h&&n?p(_):(n=a=void 0,o)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function j(){return l===void 0?o:b(OS())}function S(){var _=OS(),N=v(_);if(n=arguments,a=this,c=_,N){if(l===void 0)return y(c);if(f)return clearTimeout(l),l=setTimeout(x,t),p(c)}return l===void 0&&(l=setTimeout(x,t)),o}return S.cancel=w,S.flush=j,S}var XEe=YEe,QEe=XEe,JEe=yc,ZEe="Expected a function";function ePe(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(ZEe);return JEe(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),QEe(e,t,{leading:n,maxWait:t,trailing:a})}var tPe=ePe;const NW=Sr(tPe);function _m(e){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_m(e)}function tR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tR(Object(r),!0).forEach(function(n){rPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rPe(e,t,r){return t=nPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nPe(e){var t=aPe(e,"string");return _m(t)=="symbol"?t:t+""}function aPe(e,t){if(_m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iPe(e,t){return cPe(e)||lPe(e,t)||oPe(e,t)||sPe()}function sPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oPe(e,t){if(e){if(typeof e=="string")return rR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rR(e,t)}}function rR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function cPe(e){if(Array.isArray(e))return e}var nR=g.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,y=e.debounce,m=y===void 0?0:y,v=e.id,x=e.className,b=e.onResize,w=e.style,j=w===void 0?{}:w,S=g.useRef(null),_=g.useRef();_.current=b,g.useImperativeHandle(t,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var N=g.useState({containerWidth:a.width,containerHeight:a.height}),C=iPe(N,2),E=C[0],A=C[1],O=g.useCallback(function(k,I){A(function(M){var L=Math.round(k),$=Math.round(I);return M.containerWidth===L&&M.containerHeight===$?M:{containerWidth:L,containerHeight:$}})},[]);g.useEffect(function(){var k=function(T){var H,re=T[0].contentRect,J=re.width,le=re.height;O(J,le),(H=_.current)===null||H===void 0||H.call(_,J,le)};m>0&&(k=NW(k,m,{trailing:!0,leading:!1}));var I=new ResizeObserver(k),M=S.current.getBoundingClientRect(),L=M.width,$=M.height;return O(L,$),I.observe(S.current),function(){I.disconnect()}},[O,m]);var P=g.useMemo(function(){var k=E.containerWidth,I=E.containerHeight;if(k<0||I<0)return null;Ss(Yc(o)||Yc(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Ss(!r||r>0,"The aspect(%s) must be greater than zero.",r);var M=Yc(o)?k:o,L=Yc(c)?I:c;r&&r>0&&(M?L=M/r:L&&(M=L*r),h&&L>h&&(L=h)),Ss(M>0||L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,L,o,c,d,f,r);var $=!Array.isArray(p)&&Ao(p.type).endsWith("Chart");return R.Children.map(p,function(D){return R.isValidElement(D)?g.cloneElement(D,Zg({width:M,height:L},$?{style:Zg({height:"100%",width:"100%",maxHeight:L,maxWidth:M},D.props.style)}:{})):D})},[r,p,c,h,f,d,E,o]);return R.createElement("div",{id:v?"".concat(v):void 0,className:It("recharts-responsive-container",x),style:Zg(Zg({},j),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:S},P)}),xw=function(t){return null};xw.displayName="Cell";function Nm(e){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nm(e)}function aR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _N(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aR(Object(r),!0).forEach(function(n){uPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uPe(e,t,r){return t=dPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dPe(e){var t=fPe(e,"string");return Nm(t)=="symbol"?t:t+""}function fPe(e,t){if(Nm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ld={widthCache:{},cacheCount:0},hPe=2e3,pPe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},iR="recharts_measurement_span";function mPe(e){var t=_N({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Ap=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Vu.isSsr)return{width:0,height:0};var n=mPe(r),a=JSON.stringify({text:t,copyStyle:n});if(ld.widthCache[a])return ld.widthCache[a];try{var i=document.getElementById(iR);i||(i=document.createElement("span"),i.setAttribute("id",iR),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=_N(_N({},pPe),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return ld.widthCache[a]=c,++ld.cacheCount>hPe&&(ld.cacheCount=0,ld.widthCache={}),c}catch{return{width:0,height:0}}},vPe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Cm(e){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cm(e)}function Yx(e,t){return bPe(e)||xPe(e,t)||yPe(e,t)||gPe()}function gPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yPe(e,t){if(e){if(typeof e=="string")return sR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sR(e,t)}}function sR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function bPe(e){if(Array.isArray(e))return e}function wPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SPe(n.key),n)}}function jPe(e,t,r){return t&&oR(e.prototype,t),r&&oR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function SPe(e){var t=_Pe(e,"string");return Cm(t)=="symbol"?t:t+""}function _Pe(e,t){if(Cm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var lR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,cR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,NPe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,CPe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,CW={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},EPe=Object.keys(CW),Cd="NaN";function PPe(e,t){return e*CW[t]}var ey=function(){function e(t,r){wPe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!NPe.test(r)&&(this.num=NaN,this.unit=""),EPe.includes(r)&&(this.num=PPe(t,r),this.unit="px")}return jPe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=CPe.exec(r))!==null&&n!==void 0?n:[],i=Yx(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function EW(e){if(e.includes(Cd))return Cd;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=lR.exec(t))!==null&&r!==void 0?r:[],a=Yx(n,4),i=a[1],o=a[2],l=a[3],c=ey.parse(i??""),u=ey.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Cd;t=t.replace(lR,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=cR.exec(t))!==null&&f!==void 0?f:[],p=Yx(h,4),y=p[1],m=p[2],v=p[3],x=ey.parse(y??""),b=ey.parse(v??""),w=m==="+"?x.add(b):x.subtract(b);if(w.isNaN())return Cd;t=t.replace(cR,w.toString())}return t}var uR=/\(([^()]*)\)/;function OPe(e){for(var t=e;t.includes("(");){var r=uR.exec(t),n=Yx(r,2),a=n[1];t=t.replace(uR,EW(a))}return t}function APe(e){var t=e.replace(/\s+/g,"");return t=OPe(t),t=EW(t),t}function kPe(e){try{return APe(e)}catch{return Cd}}function AS(e){var t=kPe(e.slice(5,-1));return t===Cd?"":t}var TPe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],DPe=["dx","dy","angle","className","breakAll"];function NN(){return NN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},NN.apply(this,arguments)}function dR(e,t){if(e==null)return{};var r=IPe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function IPe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fR(e,t){return LPe(e)||MPe(e,t)||$Pe(e,t)||RPe()}function RPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Pe(e,t){if(e){if(typeof e=="string")return hR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hR(e,t)}}function hR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function MPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function LPe(e){if(Array.isArray(e))return e}var PW=/[ \f\n\r\t\v\u2028\u2029]+/,OW=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];Dt(r)||(n?i=r.toString().split(""):i=r.toString().split(PW));var o=i.map(function(c){return{word:c,width:Ap(c,a).width}}),l=n?0:Ap("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},FPe=function(t,r,n,a,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=Pe(o),f=l,h=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce(function(L,$){var D=$.word,T=$.width,H=L[L.length-1];if(H&&(a==null||i||H.width+T+n<Number(a)))H.words.push(D),H.width+=T+n;else{var re={words:[D],width:T};L.push(re)}return L},[])},p=h(r),y=function(M){return M.reduce(function(L,$){return L.width>$.width?L:$})};if(!d)return p;for(var m="",v=function(M){var L=f.slice(0,M),$=OW({breakAll:u,style:c,children:L+m}).wordsWithComputedWidth,D=h($),T=D.length>o||y(D).width>Number(a);return[T,D]},x=0,b=f.length-1,w=0,j;x<=b&&w<=f.length-1;){var S=Math.floor((x+b)/2),_=S-1,N=v(_),C=fR(N,2),E=C[0],A=C[1],O=v(S),P=fR(O,1),k=P[0];if(!E&&!k&&(x=S+1),E&&k&&(b=S-1),!E&&k){j=A;break}w++}return j||p},pR=function(t){var r=Dt(t)?[]:t.toString().split(PW);return[{words:r}]},BPe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!Vu.isSsr){var c,u,d=OW({breakAll:o,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return pR(a);return FPe({breakAll:o,children:a,maxLines:l,style:i},c,u,r,n)}return pR(a)},mR="#808080",Ru=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,y=t.verticalAnchor,m=y===void 0?"end":y,v=t.fill,x=v===void 0?mR:v,b=dR(t,TPe),w=g.useMemo(function(){return BPe({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),j=b.dx,S=b.dy,_=b.angle,N=b.className,C=b.breakAll,E=dR(b,DPe);if(!Un(n)||!Un(i))return null;var A=n+(Pe(j)?j:0),O=i+(Pe(S)?S:0),P;switch(m){case"start":P=AS("calc(".concat(u,")"));break;case"middle":P=AS("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:P=AS("calc(".concat(w.length-1," * -").concat(l,")"));break}var k=[];if(f){var I=w[0].width,M=b.width;k.push("scale(".concat((Pe(M)?M/I:1)/I,")"))}return _&&k.push("rotate(".concat(_,", ").concat(A,", ").concat(O,")")),k.length&&(E.transform=k.join(" ")),R.createElement("text",NN({},ft(E,!0),{x:A,y:O,className:It("recharts-text",N),textAnchor:p,fill:x.includes("url")?mR:x}),w.map(function(L,$){var D=L.words.join(C?"":" ");return R.createElement("tspan",{x:A,dy:$===0?P:l,key:"".concat(D,"-").concat($)},D)}))};function Hl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function qPe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function QO(e){let t,r,n;e.length!==2?(t=Hl,r=(l,c)=>Hl(e(l),c),n=(l,c)=>e(l)-c):(t=e===Hl||e===qPe?e:UPe,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function UPe(){return 0}function AW(e){return e===null?NaN:+e}function*zPe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const WPe=QO(Hl),Bv=WPe.right;QO(AW).center;class vR extends Map{constructor(t,r=GPe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(gR(this,t))}has(t){return super.has(gR(this,t))}set(t,r){return super.set(VPe(this,t),r)}delete(t){return super.delete(HPe(this,t))}}function gR({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function VPe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function HPe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function GPe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function KPe(e=Hl){if(e===Hl)return kW;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function kW(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const YPe=Math.sqrt(50),XPe=Math.sqrt(10),QPe=Math.sqrt(2);function Xx(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=YPe?10:i>=XPe?5:i>=QPe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Xx(e,t,r*2):[l,c,u]}function CN(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?Xx(t,e,r):Xx(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function EN(e,t,r){return t=+t,e=+e,r=+r,Xx(e,t,r)[2]}function PN(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?EN(t,e,r):EN(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function yR(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function xR(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function TW(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?kW:KPe(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+h)),y=Math.min(n,Math.floor(t+(c-u)*f/c+h));TW(e,t,p,y,a)}const i=e[t];let o=r,l=n;for(Xh(e,r,t),a(e[n],i)>0&&Xh(e,r,n);o<l;){for(Xh(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?Xh(e,r,l):(++l,Xh(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Xh(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function JPe(e,t,r){if(e=Float64Array.from(zPe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return xR(e);if(t>=1)return yR(e);var n,a=(n-1)*t,i=Math.floor(a),o=yR(TW(e,i).subarray(0,i+1)),l=xR(e.subarray(i+1));return o+(l-o)*(a-i)}}function ZPe(e,t,r=AW){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function eOe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Zi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Jo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const ON=Symbol("implicit");function JO(){var e=new vR,t=[],r=[],n=ON;function a(i){let o=e.get(i);if(o===void 0){if(n!==ON)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new vR;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return JO(t,r).unknown(n)},Zi.apply(a,arguments),a}function Em(){var e=JO().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=a<n,y=p?a:n,m=p?n:a;i=(m-y)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),y+=(m-y-i*(h-c))*d,o=i*(1-c),l&&(y=Math.round(y),o=Math.round(o));var v=eOe(h).map(function(x){return y+i*x});return r(p?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Em(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Zi.apply(f(),arguments)}function DW(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return DW(t())},e}function kp(){return DW(Em.apply(null,arguments).paddingInner(1))}function ZO(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function IW(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function qv(){}var Pm=.7,Qx=1/Pm,Vd="\\s*([+-]?\\d+)\\s*",Om="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ys="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tOe=/^#([0-9a-f]{3,8})$/,rOe=new RegExp(`^rgb\\(${Vd},${Vd},${Vd}\\)$`),nOe=new RegExp(`^rgb\\(${Ys},${Ys},${Ys}\\)$`),aOe=new RegExp(`^rgba\\(${Vd},${Vd},${Vd},${Om}\\)$`),iOe=new RegExp(`^rgba\\(${Ys},${Ys},${Ys},${Om}\\)$`),sOe=new RegExp(`^hsl\\(${Om},${Ys},${Ys}\\)$`),oOe=new RegExp(`^hsla\\(${Om},${Ys},${Ys},${Om}\\)$`),bR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ZO(qv,Am,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:wR,formatHex:wR,formatHex8:lOe,formatHsl:cOe,formatRgb:jR,toString:jR});function wR(){return this.rgb().formatHex()}function lOe(){return this.rgb().formatHex8()}function cOe(){return RW(this).formatHsl()}function jR(){return this.rgb().formatRgb()}function Am(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=tOe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?SR(t):r===3?new qa(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?ty(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?ty(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=rOe.exec(e))?new qa(t[1],t[2],t[3],1):(t=nOe.exec(e))?new qa(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=aOe.exec(e))?ty(t[1],t[2],t[3],t[4]):(t=iOe.exec(e))?ty(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=sOe.exec(e))?CR(t[1],t[2]/100,t[3]/100,1):(t=oOe.exec(e))?CR(t[1],t[2]/100,t[3]/100,t[4]):bR.hasOwnProperty(e)?SR(bR[e]):e==="transparent"?new qa(NaN,NaN,NaN,0):null}function SR(e){return new qa(e>>16&255,e>>8&255,e&255,1)}function ty(e,t,r,n){return n<=0&&(e=t=r=NaN),new qa(e,t,r,n)}function uOe(e){return e instanceof qv||(e=Am(e)),e?(e=e.rgb(),new qa(e.r,e.g,e.b,e.opacity)):new qa}function AN(e,t,r,n){return arguments.length===1?uOe(e):new qa(e,t,r,n??1)}function qa(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}ZO(qa,AN,IW(qv,{brighter(e){return e=e==null?Qx:Math.pow(Qx,e),new qa(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Pm:Math.pow(Pm,e),new qa(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new qa(hu(this.r),hu(this.g),hu(this.b),Jx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_R,formatHex:_R,formatHex8:dOe,formatRgb:NR,toString:NR}));function _R(){return`#${Xc(this.r)}${Xc(this.g)}${Xc(this.b)}`}function dOe(){return`#${Xc(this.r)}${Xc(this.g)}${Xc(this.b)}${Xc((isNaN(this.opacity)?1:this.opacity)*255)}`}function NR(){const e=Jx(this.opacity);return`${e===1?"rgb(":"rgba("}${hu(this.r)}, ${hu(this.g)}, ${hu(this.b)}${e===1?")":`, ${e})`}`}function Jx(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function hu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Xc(e){return e=hu(e),(e<16?"0":"")+e.toString(16)}function CR(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new gs(e,t,r,n)}function RW(e){if(e instanceof gs)return new gs(e.h,e.s,e.l,e.opacity);if(e instanceof qv||(e=Am(e)),!e)return new gs;if(e instanceof gs)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new gs(o,l,c,e.opacity)}function fOe(e,t,r,n){return arguments.length===1?RW(e):new gs(e,t,r,n??1)}function gs(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}ZO(gs,fOe,IW(qv,{brighter(e){return e=e==null?Qx:Math.pow(Qx,e),new gs(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Pm:Math.pow(Pm,e),new gs(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new qa(kS(e>=240?e-240:e+120,a,n),kS(e,a,n),kS(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new gs(ER(this.h),ry(this.s),ry(this.l),Jx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Jx(this.opacity);return`${e===1?"hsl(":"hsla("}${ER(this.h)}, ${ry(this.s)*100}%, ${ry(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ER(e){return e=(e||0)%360,e<0?e+360:e}function ry(e){return Math.max(0,Math.min(1,e||0))}function kS(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const eA=e=>()=>e;function hOe(e,t){return function(r){return e+r*t}}function pOe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function mOe(e){return(e=+e)==1?$W:function(t,r){return r-t?pOe(t,r,e):eA(isNaN(t)?r:t)}}function $W(e,t){var r=t-e;return r?hOe(e,r):eA(isNaN(e)?t:e)}const PR=function e(t){var r=mOe(t);function n(a,i){var o=r((a=AN(a)).r,(i=AN(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=$W(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function vOe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function gOe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function yOe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=Sh(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function xOe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Zx(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function bOe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Sh(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var kN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,TS=new RegExp(kN.source,"g");function wOe(e){return function(){return e}}function jOe(e){return function(t){return e(t)+""}}function SOe(e,t){var r=kN.lastIndex=TS.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=kN.exec(e))&&(a=TS.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:Zx(n,a)})),r=TS.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?jOe(c[0].x):wOe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Sh(e,t){var r=typeof t,n;return t==null||r==="boolean"?eA(t):(r==="number"?Zx:r==="string"?(n=Am(t))?(t=n,PR):SOe:t instanceof Am?PR:t instanceof Date?xOe:gOe(t)?vOe:Array.isArray(t)?yOe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?bOe:Zx)(e,t)}function tA(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function _Oe(e,t){t===void 0&&(t=e,e=Sh);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function NOe(e){return function(){return e}}function eb(e){return+e}var OR=[0,1];function Ea(e){return e}function TN(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:NOe(isNaN(t)?NaN:.5)}function COe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function EOe(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=TN(a,n),i=r(o,i)):(n=TN(n,a),i=r(i,o)),function(l){return i(n(l))}}function POe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=TN(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=Bv(e,l,1,n)-1;return i[c](a[c](l))}}function Uv(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function bw(){var e=OR,t=OR,r=Sh,n,a,i,o=Ea,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Ea&&(o=COe(e[0],e[h-1])),l=h>2?POe:EOe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),Zx)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,eb),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=tA,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Ea,d()):o!==Ea},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,a=p,d()}}function rA(){return bw()(Ea,Ea)}function OOe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function tb(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Af(e){return e=tb(Math.abs(e)),e?e[1]:NaN}function AOe(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function kOe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var TOe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function km(e){if(!(t=TOe.exec(e)))throw new Error("invalid format: "+e);var t;return new nA({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}km.prototype=nA.prototype;function nA(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}nA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function DOe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var MW;function IOe(e,t){var r=tb(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(MW=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+tb(e,Math.max(0,t+i-1))[0]}function AR(e,t){var r=tb(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const kR={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:OOe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>AR(e*100,t),r:AR,s:IOe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function TR(e){return e}var DR=Array.prototype.map,IR=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ROe(e){var t=e.grouping===void 0||e.thousands===void 0?TR:AOe(DR.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?TR:kOe(DR.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=km(f);var h=f.fill,p=f.align,y=f.sign,m=f.symbol,v=f.zero,x=f.width,b=f.comma,w=f.precision,j=f.trim,S=f.type;S==="n"?(b=!0,S="g"):kR[S]||(w===void 0&&(w=12),j=!0,S="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var _=m==="$"?r:m==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",N=m==="$"?n:/[%p]/.test(S)?o:"",C=kR[S],E=/[defgprs%]/.test(S);w=w===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function A(O){var P=_,k=N,I,M,L;if(S==="c")k=C(O)+k,O="";else{O=+O;var $=O<0||1/O<0;if(O=isNaN(O)?c:C(Math.abs(O),w),j&&(O=DOe(O)),$&&+O==0&&y!=="+"&&($=!1),P=($?y==="("?y:l:y==="-"||y==="("?"":y)+P,k=(S==="s"?IR[8+MW/3]:"")+k+($&&y==="("?")":""),E){for(I=-1,M=O.length;++I<M;)if(L=O.charCodeAt(I),48>L||L>57){k=(L===46?a+O.slice(I+1):O.slice(I))+k,O=O.slice(0,I);break}}}b&&!v&&(O=t(O,1/0));var D=P.length+O.length+k.length,T=D<x?new Array(x-D+1).join(h):"";switch(b&&v&&(O=t(T+O,T.length?x-k.length:1/0),T=""),p){case"<":O=P+O+k+T;break;case"=":O=P+T+O+k;break;case"^":O=T.slice(0,D=T.length>>1)+P+O+k+T.slice(D);break;default:O=T+P+O+k;break}return i(O)}return A.toString=function(){return f+""},A}function d(f,h){var p=u((f=km(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(Af(h)/3)))*3,m=Math.pow(10,-y),v=IR[8+y/3];return function(x){return p(m*x)+v}}return{format:u,formatPrefix:d}}var ny,aA,LW;$Oe({thousands:",",grouping:[3],currency:["$",""]});function $Oe(e){return ny=ROe(e),aA=ny.format,LW=ny.formatPrefix,ny}function MOe(e){return Math.max(0,-Af(Math.abs(e)))}function LOe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Af(t)/3)))*3-Af(Math.abs(e)))}function FOe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Af(t)-Af(e))+1}function FW(e,t,r,n){var a=PN(e,t,r),i;switch(n=km(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=LOe(a,o))&&(n.precision=i),LW(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=FOe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=MOe(a))&&(n.precision=i-(n.type==="%")*2);break}}return aA(n)}function xc(e){var t=e.domain;return e.ticks=function(r){var n=t();return CN(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return FW(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=EN(o,l,r),u===c)return n[a]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function rb(){var e=rA();return e.copy=function(){return Uv(e,rb())},Zi.apply(e,arguments),xc(e)}function BW(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,eb),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return BW(e).unknown(t)},e=arguments.length?Array.from(e,eb):[0,1],xc(r)}function qW(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function RR(e){return Math.log(e)}function $R(e){return Math.exp(e)}function BOe(e){return-Math.log(-e)}function qOe(e){return-Math.exp(-e)}function UOe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function zOe(e){return e===10?UOe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function WOe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function MR(e){return(t,r)=>-e(-t,r)}function iA(e){const t=e(RR,$R),r=t.domain;let n=10,a,i;function o(){return a=WOe(n),i=zOe(n),r()[0]<0?(a=MR(a),i=MR(i),e(BOe,qOe)):e(RR,$R),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),p=a(d),y,m;const v=l==null?10:+l;let x=[];if(!(n%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(y=1;y<n;++y)if(m=h<0?y/i(-h):y*i(h),!(m<u)){if(m>d)break;x.push(m)}}else for(;h<=p;++h)for(y=n-1;y>=1;--y)if(m=h>0?y/i(-h):y*i(h),!(m<u)){if(m>d)break;x.push(m)}x.length*2<v&&(x=CN(u,d,v))}else x=CN(h,p,Math.min(p-h,v)).map(i);return f?x.reverse():x},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=km(c)).precision==null&&(c.trim=!0),c=aA(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(qW(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function UW(){const e=iA(bw()).domain([1,10]);return e.copy=()=>Uv(e,UW()).base(e.base()),Zi.apply(e,arguments),e}function LR(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function FR(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function sA(e){var t=1,r=e(LR(t),FR(t));return r.constant=function(n){return arguments.length?e(LR(t=+n),FR(t)):t},xc(r)}function zW(){var e=sA(bw());return e.copy=function(){return Uv(e,zW()).constant(e.constant())},Zi.apply(e,arguments)}function BR(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function VOe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function HOe(e){return e<0?-e*e:e*e}function oA(e){var t=e(Ea,Ea),r=1;function n(){return r===1?e(Ea,Ea):r===.5?e(VOe,HOe):e(BR(r),BR(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},xc(t)}function lA(){var e=oA(bw());return e.copy=function(){return Uv(e,lA()).exponent(e.exponent())},Zi.apply(e,arguments),e}function GOe(){return lA.apply(null,arguments).exponent(.5)}function qR(e){return Math.sign(e)*e*e}function KOe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function WW(){var e=rA(),t=[0,1],r=!1,n;function a(i){var o=KOe(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(qR(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,eb)).map(qR)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return WW(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Zi.apply(a,arguments),xc(a)}function VW(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=ZPe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Bv(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Hl),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return VW().domain(e).range(t).unknown(n)},Zi.apply(i,arguments)}function HW(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[Bv(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return HW().domain([e,t]).range(a).unknown(i)},Zi.apply(xc(o),arguments)}function GW(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Bv(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return GW().domain(e).range(t).unknown(r)},Zi.apply(a,arguments)}const DS=new Date,IS=new Date;function zn(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>zn(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(DS.setTime(+i),IS.setTime(+o),e(DS),e(IS),Math.floor(r(DS,IS))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const nb=zn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);nb.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?zn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):nb);nb.range;const _o=1e3,Ui=_o*60,No=Ui*60,zo=No*24,cA=zo*7,UR=zo*30,RS=zo*365,Qc=zn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*_o)},(e,t)=>(t-e)/_o,e=>e.getUTCSeconds());Qc.range;const uA=zn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*_o)},(e,t)=>{e.setTime(+e+t*Ui)},(e,t)=>(t-e)/Ui,e=>e.getMinutes());uA.range;const dA=zn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ui)},(e,t)=>(t-e)/Ui,e=>e.getUTCMinutes());dA.range;const fA=zn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*_o-e.getMinutes()*Ui)},(e,t)=>{e.setTime(+e+t*No)},(e,t)=>(t-e)/No,e=>e.getHours());fA.range;const hA=zn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*No)},(e,t)=>(t-e)/No,e=>e.getUTCHours());hA.range;const zv=zn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ui)/zo,e=>e.getDate()-1);zv.range;const ww=zn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/zo,e=>e.getUTCDate()-1);ww.range;const KW=zn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/zo,e=>Math.floor(e/zo));KW.range;function Hu(e){return zn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ui)/cA)}const jw=Hu(0),ab=Hu(1),YOe=Hu(2),XOe=Hu(3),kf=Hu(4),QOe=Hu(5),JOe=Hu(6);jw.range;ab.range;YOe.range;XOe.range;kf.range;QOe.range;JOe.range;function Gu(e){return zn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/cA)}const Sw=Gu(0),ib=Gu(1),ZOe=Gu(2),eAe=Gu(3),Tf=Gu(4),tAe=Gu(5),rAe=Gu(6);Sw.range;ib.range;ZOe.range;eAe.range;Tf.range;tAe.range;rAe.range;const pA=zn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());pA.range;const mA=zn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());mA.range;const Wo=zn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Wo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:zn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Wo.range;const Vo=zn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Vo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:zn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Vo.range;function YW(e,t,r,n,a,i){const o=[[Qc,1,_o],[Qc,5,5*_o],[Qc,15,15*_o],[Qc,30,30*_o],[i,1,Ui],[i,5,5*Ui],[i,15,15*Ui],[i,30,30*Ui],[a,1,No],[a,3,3*No],[a,6,6*No],[a,12,12*No],[n,1,zo],[n,2,2*zo],[r,1,cA],[t,1,UR],[t,3,3*UR],[e,1,RS]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),y=p?p.range(u,+d+1):[];return h?y.reverse():y}function c(u,d,f){const h=Math.abs(d-u)/f,p=QO(([,,v])=>v).right(o,h);if(p===o.length)return e.every(PN(u/RS,d/RS,f));if(p===0)return nb.every(Math.max(PN(u,d,f),1));const[y,m]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return y.every(m)}return[l,c]}const[nAe,aAe]=YW(Vo,mA,Sw,KW,hA,dA),[iAe,sAe]=YW(Wo,pA,jw,zv,fA,uA);function $S(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function MS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Qh(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function oAe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Jh(a),d=Zh(a),f=Jh(i),h=Zh(i),p=Jh(o),y=Zh(o),m=Jh(l),v=Zh(l),x=Jh(c),b=Zh(c),w={a:$,A:D,b:T,B:H,c:null,d:KR,e:KR,f:AAe,g:BAe,G:UAe,H:EAe,I:PAe,j:OAe,L:XW,m:kAe,M:TAe,p:re,q:J,Q:QR,s:JR,S:DAe,u:IAe,U:RAe,V:$Ae,w:MAe,W:LAe,x:null,X:null,y:FAe,Y:qAe,Z:zAe,"%":XR},j={a:le,A:te,b:Z,B:we,c:null,d:YR,e:YR,f:GAe,g:nke,G:ike,H:WAe,I:VAe,j:HAe,L:JW,m:KAe,M:YAe,p:oe,q,Q:QR,s:JR,S:XAe,u:QAe,U:JAe,V:ZAe,w:eke,W:tke,x:null,X:null,y:rke,Y:ake,Z:ske,"%":XR},S={a:A,A:O,b:P,B:k,c:I,d:HR,e:HR,f:SAe,g:VR,G:WR,H:GR,I:GR,j:xAe,L:jAe,m:yAe,M:bAe,p:E,q:gAe,Q:NAe,s:CAe,S:wAe,u:fAe,U:hAe,V:pAe,w:dAe,W:mAe,x:M,X:L,y:VR,Y:WR,Z:vAe,"%":_Ae};w.x=_(r,w),w.X=_(n,w),w.c=_(t,w),j.x=_(r,j),j.X=_(n,j),j.c=_(t,j);function _(U,ae){return function(z){var W=[],ge=-1,me=0,be=U.length,X,ee,xe;for(z instanceof Date||(z=new Date(+z));++ge<be;)U.charCodeAt(ge)===37&&(W.push(U.slice(me,ge)),(ee=zR[X=U.charAt(++ge)])!=null?X=U.charAt(++ge):ee=X==="e"?" ":"0",(xe=ae[X])&&(X=xe(z,ee)),W.push(X),me=ge+1);return W.push(U.slice(me,ge)),W.join("")}}function N(U,ae){return function(z){var W=Qh(1900,void 0,1),ge=C(W,U,z+="",0),me,be;if(ge!=z.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(ae&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?(me=MS(Qh(W.y,0,1)),be=me.getUTCDay(),me=be>4||be===0?ib.ceil(me):ib(me),me=ww.offset(me,(W.V-1)*7),W.y=me.getUTCFullYear(),W.m=me.getUTCMonth(),W.d=me.getUTCDate()+(W.w+6)%7):(me=$S(Qh(W.y,0,1)),be=me.getDay(),me=be>4||be===0?ab.ceil(me):ab(me),me=zv.offset(me,(W.V-1)*7),W.y=me.getFullYear(),W.m=me.getMonth(),W.d=me.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),be="Z"in W?MS(Qh(W.y,0,1)).getUTCDay():$S(Qh(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(be+5)%7:W.w+W.U*7-(be+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,MS(W)):$S(W)}}function C(U,ae,z,W){for(var ge=0,me=ae.length,be=z.length,X,ee;ge<me;){if(W>=be)return-1;if(X=ae.charCodeAt(ge++),X===37){if(X=ae.charAt(ge++),ee=S[X in zR?ae.charAt(ge++):X],!ee||(W=ee(U,z,W))<0)return-1}else if(X!=z.charCodeAt(W++))return-1}return W}function E(U,ae,z){var W=u.exec(ae.slice(z));return W?(U.p=d.get(W[0].toLowerCase()),z+W[0].length):-1}function A(U,ae,z){var W=p.exec(ae.slice(z));return W?(U.w=y.get(W[0].toLowerCase()),z+W[0].length):-1}function O(U,ae,z){var W=f.exec(ae.slice(z));return W?(U.w=h.get(W[0].toLowerCase()),z+W[0].length):-1}function P(U,ae,z){var W=x.exec(ae.slice(z));return W?(U.m=b.get(W[0].toLowerCase()),z+W[0].length):-1}function k(U,ae,z){var W=m.exec(ae.slice(z));return W?(U.m=v.get(W[0].toLowerCase()),z+W[0].length):-1}function I(U,ae,z){return C(U,t,ae,z)}function M(U,ae,z){return C(U,r,ae,z)}function L(U,ae,z){return C(U,n,ae,z)}function $(U){return o[U.getDay()]}function D(U){return i[U.getDay()]}function T(U){return c[U.getMonth()]}function H(U){return l[U.getMonth()]}function re(U){return a[+(U.getHours()>=12)]}function J(U){return 1+~~(U.getMonth()/3)}function le(U){return o[U.getUTCDay()]}function te(U){return i[U.getUTCDay()]}function Z(U){return c[U.getUTCMonth()]}function we(U){return l[U.getUTCMonth()]}function oe(U){return a[+(U.getUTCHours()>=12)]}function q(U){return 1+~~(U.getUTCMonth()/3)}return{format:function(U){var ae=_(U+="",w);return ae.toString=function(){return U},ae},parse:function(U){var ae=N(U+="",!1);return ae.toString=function(){return U},ae},utcFormat:function(U){var ae=_(U+="",j);return ae.toString=function(){return U},ae},utcParse:function(U){var ae=N(U+="",!0);return ae.toString=function(){return U},ae}}}var zR={"-":"",_:" ",0:"0"},Zn=/^\s*\d+/,lAe=/^%/,cAe=/[\\^$*+?|[\]().{}]/g;function wr(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function uAe(e){return e.replace(cAe,"\\$&")}function Jh(e){return new RegExp("^(?:"+e.map(uAe).join("|")+")","i")}function Zh(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function dAe(e,t,r){var n=Zn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function fAe(e,t,r){var n=Zn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function hAe(e,t,r){var n=Zn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function pAe(e,t,r){var n=Zn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function mAe(e,t,r){var n=Zn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function WR(e,t,r){var n=Zn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function VR(e,t,r){var n=Zn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function vAe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function gAe(e,t,r){var n=Zn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function yAe(e,t,r){var n=Zn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function HR(e,t,r){var n=Zn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function xAe(e,t,r){var n=Zn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function GR(e,t,r){var n=Zn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function bAe(e,t,r){var n=Zn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function wAe(e,t,r){var n=Zn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function jAe(e,t,r){var n=Zn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function SAe(e,t,r){var n=Zn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function _Ae(e,t,r){var n=lAe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function NAe(e,t,r){var n=Zn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function CAe(e,t,r){var n=Zn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function KR(e,t){return wr(e.getDate(),t,2)}function EAe(e,t){return wr(e.getHours(),t,2)}function PAe(e,t){return wr(e.getHours()%12||12,t,2)}function OAe(e,t){return wr(1+zv.count(Wo(e),e),t,3)}function XW(e,t){return wr(e.getMilliseconds(),t,3)}function AAe(e,t){return XW(e,t)+"000"}function kAe(e,t){return wr(e.getMonth()+1,t,2)}function TAe(e,t){return wr(e.getMinutes(),t,2)}function DAe(e,t){return wr(e.getSeconds(),t,2)}function IAe(e){var t=e.getDay();return t===0?7:t}function RAe(e,t){return wr(jw.count(Wo(e)-1,e),t,2)}function QW(e){var t=e.getDay();return t>=4||t===0?kf(e):kf.ceil(e)}function $Ae(e,t){return e=QW(e),wr(kf.count(Wo(e),e)+(Wo(e).getDay()===4),t,2)}function MAe(e){return e.getDay()}function LAe(e,t){return wr(ab.count(Wo(e)-1,e),t,2)}function FAe(e,t){return wr(e.getFullYear()%100,t,2)}function BAe(e,t){return e=QW(e),wr(e.getFullYear()%100,t,2)}function qAe(e,t){return wr(e.getFullYear()%1e4,t,4)}function UAe(e,t){var r=e.getDay();return e=r>=4||r===0?kf(e):kf.ceil(e),wr(e.getFullYear()%1e4,t,4)}function zAe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+wr(t/60|0,"0",2)+wr(t%60,"0",2)}function YR(e,t){return wr(e.getUTCDate(),t,2)}function WAe(e,t){return wr(e.getUTCHours(),t,2)}function VAe(e,t){return wr(e.getUTCHours()%12||12,t,2)}function HAe(e,t){return wr(1+ww.count(Vo(e),e),t,3)}function JW(e,t){return wr(e.getUTCMilliseconds(),t,3)}function GAe(e,t){return JW(e,t)+"000"}function KAe(e,t){return wr(e.getUTCMonth()+1,t,2)}function YAe(e,t){return wr(e.getUTCMinutes(),t,2)}function XAe(e,t){return wr(e.getUTCSeconds(),t,2)}function QAe(e){var t=e.getUTCDay();return t===0?7:t}function JAe(e,t){return wr(Sw.count(Vo(e)-1,e),t,2)}function ZW(e){var t=e.getUTCDay();return t>=4||t===0?Tf(e):Tf.ceil(e)}function ZAe(e,t){return e=ZW(e),wr(Tf.count(Vo(e),e)+(Vo(e).getUTCDay()===4),t,2)}function eke(e){return e.getUTCDay()}function tke(e,t){return wr(ib.count(Vo(e)-1,e),t,2)}function rke(e,t){return wr(e.getUTCFullYear()%100,t,2)}function nke(e,t){return e=ZW(e),wr(e.getUTCFullYear()%100,t,2)}function ake(e,t){return wr(e.getUTCFullYear()%1e4,t,4)}function ike(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Tf(e):Tf.ceil(e),wr(e.getUTCFullYear()%1e4,t,4)}function ske(){return"+0000"}function XR(){return"%"}function QR(e){return+e}function JR(e){return Math.floor(+e/1e3)}var cd,eV,tV;oke({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function oke(e){return cd=oAe(e),eV=cd.format,cd.parse,tV=cd.utcFormat,cd.utcParse,cd}function lke(e){return new Date(e)}function cke(e){return e instanceof Date?+e:+new Date(+e)}function vA(e,t,r,n,a,i,o,l,c,u){var d=rA(),f=d.invert,h=d.domain,p=u(".%L"),y=u(":%S"),m=u("%I:%M"),v=u("%I %p"),x=u("%a %d"),b=u("%b %d"),w=u("%B"),j=u("%Y");function S(_){return(c(_)<_?p:l(_)<_?y:o(_)<_?m:i(_)<_?v:n(_)<_?a(_)<_?x:b:r(_)<_?w:j)(_)}return d.invert=function(_){return new Date(f(_))},d.domain=function(_){return arguments.length?h(Array.from(_,cke)):h().map(lke)},d.ticks=function(_){var N=h();return e(N[0],N[N.length-1],_??10)},d.tickFormat=function(_,N){return N==null?S:u(N)},d.nice=function(_){var N=h();return(!_||typeof _.range!="function")&&(_=t(N[0],N[N.length-1],_??10)),_?h(qW(N,_)):d},d.copy=function(){return Uv(d,vA(e,t,r,n,a,i,o,l,c,u))},d}function uke(){return Zi.apply(vA(iAe,sAe,Wo,pA,jw,zv,fA,uA,Qc,eV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function dke(){return Zi.apply(vA(nAe,aAe,Vo,mA,Sw,ww,hA,dA,Qc,tV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function _w(){var e=0,t=1,r,n,a,i,o=Ea,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var p,y;return arguments.length?([p,y]=h,o=f(p,y),u):[o(0),o(1)]}}return u.range=d(Sh),u.rangeRound=d(tA),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function bc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function rV(){var e=xc(_w()(Ea));return e.copy=function(){return bc(e,rV())},Jo.apply(e,arguments)}function nV(){var e=iA(_w()).domain([1,10]);return e.copy=function(){return bc(e,nV()).base(e.base())},Jo.apply(e,arguments)}function aV(){var e=sA(_w());return e.copy=function(){return bc(e,aV()).constant(e.constant())},Jo.apply(e,arguments)}function gA(){var e=oA(_w());return e.copy=function(){return bc(e,gA()).exponent(e.exponent())},Jo.apply(e,arguments)}function fke(){return gA.apply(null,arguments).exponent(.5)}function iV(){var e=[],t=Ea;function r(n){if(n!=null&&!isNaN(n=+n))return t((Bv(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Hl),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>JPe(e,i/n))},r.copy=function(){return iV(t).domain(e)},Jo.apply(r,arguments)}function Nw(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,u=Ea,d,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-i)*(n*m<n*i?l:c),u(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,a=d(e=+e),i=d(t=+t),o=d(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(u=m,p):u};function y(m){return function(v){var x,b,w;return arguments.length?([x,b,w]=v,u=_Oe(m,[x,b,w]),p):[u(0),u(.5),u(1)]}}return p.range=y(Sh),p.rangeRound=y(tA),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return d=m,a=m(e),i=m(t),o=m(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,p}}function sV(){var e=xc(Nw()(Ea));return e.copy=function(){return bc(e,sV())},Jo.apply(e,arguments)}function oV(){var e=iA(Nw()).domain([.1,1,10]);return e.copy=function(){return bc(e,oV()).base(e.base())},Jo.apply(e,arguments)}function lV(){var e=sA(Nw());return e.copy=function(){return bc(e,lV()).constant(e.constant())},Jo.apply(e,arguments)}function yA(){var e=oA(Nw());return e.copy=function(){return bc(e,yA()).exponent(e.exponent())},Jo.apply(e,arguments)}function hke(){return yA.apply(null,arguments).exponent(.5)}const ZR=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Em,scaleDiverging:sV,scaleDivergingLog:oV,scaleDivergingPow:yA,scaleDivergingSqrt:hke,scaleDivergingSymlog:lV,scaleIdentity:BW,scaleImplicit:ON,scaleLinear:rb,scaleLog:UW,scaleOrdinal:JO,scalePoint:kp,scalePow:lA,scaleQuantile:VW,scaleQuantize:HW,scaleRadial:WW,scaleSequential:rV,scaleSequentialLog:nV,scaleSequentialPow:gA,scaleSequentialQuantile:iV,scaleSequentialSqrt:fke,scaleSequentialSymlog:aV,scaleSqrt:GOe,scaleSymlog:zW,scaleThreshold:GW,scaleTime:uke,scaleUtc:dke,tickFormat:FW},Symbol.toStringTag,{value:"Module"}));var pke=ph;function mke(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!pke(o):r(o,l)))var l=o,c=i}return c}var Cw=mke;function vke(e,t){return e>t}var cV=vke,gke=Cw,yke=cV,xke=jh;function bke(e){return e&&e.length?gke(e,xke,yke):void 0}var wke=bke;const Ew=Sr(wke);function jke(e,t){return e<t}var uV=jke,Ske=Cw,_ke=uV,Nke=jh;function Cke(e){return e&&e.length?Ske(e,Nke,_ke):void 0}var Eke=Cke;const Pw=Sr(Eke);var Pke=TO,Oke=io,Ake=yW,kke=Ja;function Tke(e,t){var r=kke(e)?Pke:Ake;return r(e,Oke(t))}var Dke=Tke,Ike=vW,Rke=Dke;function $ke(e,t){return Ike(Rke(e,t),1)}var Mke=$ke;const Lke=Sr(Mke);var Fke=GO;function Bke(e,t){return Fke(e,t)}var qke=Bke;const Wv=Sr(qke);var _h=1e9,Uke={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},bA,cn=!0,Yi="[DecimalError] ",pu=Yi+"Invalid argument: ",xA=Yi+"Exponent out of range: ",Nh=Math.floor,Bc=Math.pow,zke=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,fi,Vn=1e7,en=7,dV=9007199254740991,sb=Nh(dV/en),We={};We.absoluteValue=We.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};We.comparedTo=We.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};We.decimalPlaces=We.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*en;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};We.dividedBy=We.div=function(e){return ko(this,new this.constructor(e))};We.dividedToIntegerBy=We.idiv=function(e){var t=this,r=t.constructor;return Ur(ko(t,new r(e),0,1),r.precision)};We.equals=We.eq=function(e){return!this.cmp(e)};We.exponent=function(){return Dn(this)};We.greaterThan=We.gt=function(e){return this.cmp(e)>0};We.greaterThanOrEqualTo=We.gte=function(e){return this.cmp(e)>=0};We.isInteger=We.isint=function(){return this.e>this.d.length-2};We.isNegative=We.isneg=function(){return this.s<0};We.isPositive=We.ispos=function(){return this.s>0};We.isZero=function(){return this.s===0};We.lessThan=We.lt=function(e){return this.cmp(e)<0};We.lessThanOrEqualTo=We.lte=function(e){return this.cmp(e)<1};We.logarithm=We.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(fi))throw Error(Yi+"NaN");if(r.s<1)throw Error(Yi+(r.s?"NaN":"-Infinity"));return r.eq(fi)?new n(0):(cn=!1,t=ko(Tm(r,i),Tm(e,i),i),cn=!0,Ur(t,a))};We.minus=We.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?pV(t,e):fV(t,(e.s=-e.s,e))};We.modulo=We.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Yi+"NaN");return r.s?(cn=!1,t=ko(r,e,0,1).times(e),cn=!0,r.minus(t)):Ur(new n(r),a)};We.naturalExponential=We.exp=function(){return hV(this)};We.naturalLogarithm=We.ln=function(){return Tm(this)};We.negated=We.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};We.plus=We.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?fV(t,e):pV(t,(e.s=-e.s,e))};We.precision=We.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(pu+e);if(t=Dn(a)+1,n=a.d.length-1,r=n*en+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};We.squareRoot=We.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Yi+"NaN")}for(e=Dn(l),cn=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Vs(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Nh((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(ko(l,i,o+2)).times(.5),Vs(i.d).slice(0,o)===(t=Vs(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Ur(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return cn=!0,Ur(n,r)};We.times=We.mul=function(e){var t,r,n,a,i,o,l,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=p.length,c<u&&(i=h,h=p,p=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+p[n]*h[a-n-1]+t,i[a--]=l%Vn|0,t=l/Vn|0;i[a]=(i[a]+t)%Vn|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,cn?Ur(e,f.precision):e};We.toDecimalPlaces=We.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(eo(e,0,_h),t===void 0?t=n.rounding:eo(t,0,8),Ur(r,e+Dn(r)+1,t))};We.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=$u(n,!0):(eo(e,0,_h),t===void 0?t=a.rounding:eo(t,0,8),n=Ur(new a(n),e+1,t),r=$u(n,!0,e+1)),r};We.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?$u(a):(eo(e,0,_h),t===void 0?t=i.rounding:eo(t,0,8),n=Ur(new i(a),e+Dn(a)+1,t),r=$u(n.abs(),!1,e+Dn(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};We.toInteger=We.toint=function(){var e=this,t=e.constructor;return Ur(new t(e),Dn(e)+1,t.rounding)};We.toNumber=function(){return+this};We.toPower=We.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(fi);if(l=new c(l),!l.s){if(e.s<1)throw Error(Yi+"Infinity");return l}if(l.eq(fi))return l;if(n=c.precision,e.eq(fi))return Ur(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=dV){for(a=new c(fi),t=Math.ceil(n/en+4),cn=!1;r%2&&(a=a.times(l),t$(a.d,t)),r=Nh(r/2),r!==0;)l=l.times(l),t$(l.d,t);return cn=!0,e.s<0?new c(fi).div(a):Ur(a,n)}}else if(i<0)throw Error(Yi+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,cn=!1,a=e.times(Tm(l,n+u)),cn=!0,a=hV(a),a.s=i,a};We.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Dn(a),n=$u(a,r<=i.toExpNeg||r>=i.toExpPos)):(eo(e,1,_h),t===void 0?t=i.rounding:eo(t,0,8),a=Ur(new i(a),e,t),r=Dn(a),n=$u(a,e<=r||r<=i.toExpNeg,e)),n};We.toSignificantDigits=We.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(eo(e,1,_h),t===void 0?t=n.rounding:eo(t,0,8)),Ur(new n(r),e,t)};We.toString=We.valueOf=We.val=We.toJSON=We[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Dn(e),r=e.constructor;return $u(e,t<=r.toExpNeg||t>=r.toExpPos)};function fV(e,t){var r,n,a,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),cn?Ur(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/en),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Vn|0,c[i]%=Vn;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,cn?Ur(t,f):t}function eo(e,t,r){if(e!==~~e||e<t||e>r)throw Error(pu+e)}function Vs(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=en-n.length,r&&(i+=hl(r)),i+=n;o=e[t],n=o+"",r=en-n.length,r&&(i+=hl(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var ko=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%Vn|0,o=i/Vn|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*Vn+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,u,d,f,h,p,y,m,v,x,b,w,j,S,_,N,C,E=n.constructor,A=n.s==a.s?1:-1,O=n.d,P=a.d;if(!n.s)return new E(n);if(!a.s)throw Error(Yi+"Division by zero");for(c=n.e-a.e,N=P.length,S=O.length,p=new E(A),y=p.d=[],u=0;P[u]==(O[u]||0);)++u;if(P[u]>(O[u]||0)&&--c,i==null?b=i=E.precision:o?b=i+(Dn(n)-Dn(a))+1:b=i,b<0)return new E(0);if(b=b/en+2|0,u=0,N==1)for(d=0,P=P[0],b++;(u<S||d)&&b--;u++)w=d*Vn+(O[u]||0),y[u]=w/P|0,d=w%P|0;else{for(d=Vn/(P[0]+1)|0,d>1&&(P=e(P,d),O=e(O,d),N=P.length,S=O.length),j=N,m=O.slice(0,N),v=m.length;v<N;)m[v++]=0;C=P.slice(),C.unshift(0),_=P[0],P[1]>=Vn/2&&++_;do d=0,l=t(P,m,N,v),l<0?(x=m[0],N!=v&&(x=x*Vn+(m[1]||0)),d=x/_|0,d>1?(d>=Vn&&(d=Vn-1),f=e(P,d),h=f.length,v=m.length,l=t(f,m,h,v),l==1&&(d--,r(f,N<h?C:P,h))):(d==0&&(l=d=1),f=P.slice()),h=f.length,h<v&&f.unshift(0),r(m,f,v),l==-1&&(v=m.length,l=t(P,m,N,v),l<1&&(d++,r(m,N<v?C:P,v))),v=m.length):l===0&&(d++,m=[0]),y[u++]=d,l&&m[0]?m[v++]=O[j]||0:(m=[O[j]],v=1);while((j++<S||m[0]!==void 0)&&b--)}return y[0]||y.shift(),p.e=c,Ur(p,o?i+Dn(p)+1:i)}}();function hV(e,t){var r,n,a,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(Dn(e)>16)throw Error(xA+Dn(e));if(!e.s)return new d(fi);for(cn=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Bc(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(fi),d.precision=l;;){if(a=Ur(a.times(e),l),r=r.times(++c),o=i.plus(ko(a,r,l)),Vs(o.d).slice(0,l)===Vs(i.d).slice(0,l)){for(;u--;)i=Ur(i.times(i),l);return d.precision=f,t==null?(cn=!0,Ur(i,f)):i}i=o}}function Dn(e){for(var t=e.e*en,r=e.d[0];r>=10;r/=10)t++;return t}function LS(e,t,r){if(t>e.LN10.sd())throw cn=!0,r&&(e.precision=r),Error(Yi+"LN10 precision limit exceeded");return Ur(new e(e.LN10),t)}function hl(e){for(var t="";e--;)t+="0";return t}function Tm(e,t){var r,n,a,i,o,l,c,u,d,f=1,h=10,p=e,y=p.d,m=p.constructor,v=m.precision;if(p.s<1)throw Error(Yi+(p.s?"NaN":"-Infinity"));if(p.eq(fi))return new m(0);if(t==null?(cn=!1,u=v):u=t,p.eq(10))return t==null&&(cn=!0),LS(m,u);if(u+=h,m.precision=u,r=Vs(y),n=r.charAt(0),i=Dn(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Vs(p.d),n=r.charAt(0),f++;i=Dn(p),n>1?(p=new m("0."+r),i++):p=new m(n+"."+r.slice(1))}else return c=LS(m,u+2,v).times(i+""),p=Tm(new m(n+"."+r.slice(1)),u-h).plus(c),m.precision=v,t==null?(cn=!0,Ur(p,v)):p;for(l=o=p=ko(p.minus(fi),p.plus(fi),u),d=Ur(p.times(p),u),a=3;;){if(o=Ur(o.times(d),u),c=l.plus(ko(o,new m(a),u)),Vs(c.d).slice(0,u)===Vs(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(LS(m,u+2,v).times(i+""))),l=ko(l,new m(f),u),m.precision=v,t==null?(cn=!0,Ur(l,v)):l;l=c,a+=2}}function e$(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Nh(r/en),e.d=[],n=(r+1)%en,r<0&&(n+=en),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=en;n<a;)e.d.push(+t.slice(n,n+=en));t=t.slice(n),n=en-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),cn&&(e.e>sb||e.e<-sb))throw Error(xA+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ur(e,t,r){var n,a,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=en,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/en),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=en,a=n-en+o}if(r!==void 0&&(i=Bc(10,o-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/Bc(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=Dn(e),f.length=1,t=t-i-1,f[0]=Bc(10,(en-t%en)%en),e.e=Nh(-t/en)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Bc(10,en-n),f[d]=a>0?(u/Bc(10,o-a)%Bc(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==Vn&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Vn)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(cn&&(e.e>sb||e.e<-sb))throw Error(xA+Dn(e));return e}function pV(e,t){var r,n,a,i,o,l,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),cn?Ur(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(p/en),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=Vn-1;--c[i],c[a]+=Vn}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,cn?Ur(t,p):t):new h(0)}function $u(e,t,r){var n,a=Dn(e),i=Vs(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+hl(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+hl(-a-1)+i,r&&(n=r-o)>0&&(i+=hl(n))):a>=o?(i+=hl(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+hl(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=hl(n))),e.s<0?"-"+i:i}function t$(e,t){if(e.length>t)return e.length=t,!0}function mV(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(pu+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return e$(o,i.toString())}else if(typeof i!="string")throw Error(pu+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,zke.test(i))e$(o,i);else throw Error(pu+i)}if(a.prototype=We,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=mV,a.config=a.set=Wke,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function Wke(e){if(!e||typeof e!="object")throw Error(Yi+"Object expected");var t,r,n,a=["precision",1,_h,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Nh(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(pu+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(pu+r+": "+n);return this}var bA=mV(Uke);fi=new bA(1);const Mr=bA;function Vke(e){return Yke(e)||Kke(e)||Gke(e)||Hke()}function Hke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gke(e,t){if(e){if(typeof e=="string")return DN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DN(e,t)}}function Kke(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Yke(e){if(Array.isArray(e))return DN(e)}function DN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Xke=function(t){return t},vV={},gV=function(t){return t===vV},r$=function(t){return function r(){return arguments.length===0||arguments.length===1&&gV(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},Qke=function e(t,r){return t===1?r:r$(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==vV}).length;return o>=t?r.apply(void 0,a):e(t-o,r$(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return gV(f)?c.shift():f});return r.apply(void 0,Vke(d).concat(c))}))})},Ow=function(t){return Qke(t.length,t)},IN=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},Jke=Ow(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),Zke=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Xke;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},RN=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},yV=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function e2e(e){var t;return e===0?t=1:t=Math.floor(new Mr(e).abs().log(10).toNumber())+1,t}function t2e(e,t,r){for(var n=new Mr(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var r2e=Ow(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),n2e=Ow(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),a2e=Ow(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Aw={rangeStep:t2e,getDigitCount:e2e,interpolateNumber:r2e,uninterpolateNumber:n2e,uninterpolateTruncation:a2e};function $N(e){return o2e(e)||s2e(e)||xV(e)||i2e()}function i2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s2e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function o2e(e){if(Array.isArray(e))return MN(e)}function Dm(e,t){return u2e(e)||c2e(e,t)||xV(e,t)||l2e()}function l2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xV(e,t){if(e){if(typeof e=="string")return MN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MN(e,t)}}function MN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c2e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function u2e(e){if(Array.isArray(e))return e}function bV(e){var t=Dm(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function wV(e,t,r){if(e.lte(0))return new Mr(0);var n=Aw.getDigitCount(e.toNumber()),a=new Mr(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new Mr(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new Mr(Math.ceil(c))}function d2e(e,t,r){var n=1,a=new Mr(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Mr(10).pow(Aw.getDigitCount(e)-1),a=new Mr(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Mr(Math.floor(e)))}else e===0?a=new Mr(Math.floor((t-1)/2)):r||(a=new Mr(Math.floor(e)));var o=Math.floor((t-1)/2),l=Zke(Jke(function(c){return a.add(new Mr(c-o).mul(n)).toNumber()}),IN);return l(0,t)}function jV(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Mr(0),tickMin:new Mr(0),tickMax:new Mr(0)};var i=wV(new Mr(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new Mr(0):(o=new Mr(e).add(t).div(2),o=o.sub(new Mr(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Mr(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?jV(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new Mr(l).mul(i)),tickMax:o.add(new Mr(c).mul(i))})}function f2e(e){var t=Dm(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=bV([r,n]),c=Dm(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat($N(IN(0,a-1).map(function(){return 1/0}))):[].concat($N(IN(0,a-1).map(function(){return-1/0})),[d]);return r>n?RN(f):f}if(u===d)return d2e(u,a,i);var h=jV(u,d,o,i),p=h.step,y=h.tickMin,m=h.tickMax,v=Aw.rangeStep(y,m.add(new Mr(.1).mul(p)),p);return r>n?RN(v):v}function h2e(e,t){var r=Dm(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=bV([n,a]),l=Dm(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=wV(new Mr(u).sub(c).div(d-1),i,0),h=[].concat($N(Aw.rangeStep(new Mr(c),new Mr(u).sub(new Mr(.99).mul(f)),f)),[u]);return n>a?RN(h):h}var p2e=yV(f2e),m2e=yV(h2e),v2e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Df(e){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Df(e)}function ob(){return ob=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ob.apply(this,arguments)}function g2e(e,t){return w2e(e)||b2e(e,t)||x2e(e,t)||y2e()}function y2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x2e(e,t){if(e){if(typeof e=="string")return n$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n$(e,t)}}function n$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b2e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function w2e(e){if(Array.isArray(e))return e}function j2e(e,t){if(e==null)return{};var r=S2e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function S2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N2e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NV(n.key),n)}}function C2e(e,t,r){return t&&N2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function E2e(e,t,r){return t=lb(t),P2e(e,SV()?Reflect.construct(t,r||[],lb(e).constructor):t.apply(e,r))}function P2e(e,t){if(t&&(Df(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O2e(e)}function O2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SV=function(){return!!e})()}function lb(e){return lb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lb(e)}function A2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LN(e,t)}function LN(e,t){return LN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},LN(e,t)}function _V(e,t,r){return t=NV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NV(e){var t=k2e(e,"string");return Df(t)=="symbol"?t:t+""}function k2e(e,t){if(Df(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Vv=function(e){function t(){return _2e(this,t),E2e(this,t,arguments)}return A2e(t,e),C2e(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=j2e(n,v2e),p=ft(h,!1);this.props.direction==="x"&&d.type!=="number"&&nc();var y=c.map(function(m){var v=u(m,l),x=v.x,b=v.y,w=v.value,j=v.errorVal;if(!j)return null;var S=[],_,N;if(Array.isArray(j)){var C=g2e(j,2);_=C[0],N=C[1]}else _=N=j;if(i==="vertical"){var E=d.scale,A=b+a,O=A+o,P=A-o,k=E(w-_),I=E(w+N);S.push({x1:I,y1:O,x2:I,y2:P}),S.push({x1:k,y1:A,x2:I,y2:A}),S.push({x1:k,y1:O,x2:k,y2:P})}else if(i==="horizontal"){var M=f.scale,L=x+a,$=L-o,D=L+o,T=M(w-_),H=M(w+N);S.push({x1:$,y1:H,x2:D,y2:H}),S.push({x1:L,y1:T,x2:L,y2:H}),S.push({x1:$,y1:T,x2:D,y2:T})}return R.createElement(br,ob({className:"recharts-errorBar",key:"bar-".concat(S.map(function(re){return"".concat(re.x1,"-").concat(re.x2,"-").concat(re.y1,"-").concat(re.y2)}))},p),S.map(function(re){return R.createElement("line",ob({},re,{key:"line-".concat(re.x1,"-").concat(re.x2,"-").concat(re.y1,"-").concat(re.y2)}))}))});return R.createElement(br,{className:"recharts-errorBars"},y)}}])}(R.Component);_V(Vv,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});_V(Vv,"displayName","ErrorBar");function Im(e){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Im(e)}function a$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ac(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a$(Object(r),!0).forEach(function(n){T2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T2e(e,t,r){return t=D2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D2e(e){var t=I2e(e,"string");return Im(t)=="symbol"?t:t+""}function I2e(e,t){if(Im(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CV=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=oi(r,fu);if(!o)return null;var l=fu.defaultProps,c=l!==void 0?Ac(Ac({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,y=p.sectors||p.data||[];return d.concat(y.map(function(m){return{type:o.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?Ac(Ac({},h),f.props):{},y=p.dataKey,m=p.name,v=p.legendType,x=p.hide;return{inactive:x,dataKey:y,type:c.iconType||v||"square",color:wA(f),value:m||y,payload:p}}),Ac(Ac(Ac({},c),fu.getWithHeight(o,a)),{},{payload:u,item:o})};function Rm(e){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rm(e)}function i$(e){return L2e(e)||M2e(e)||$2e(e)||R2e()}function R2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $2e(e,t){if(e){if(typeof e=="string")return FN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FN(e,t)}}function M2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function L2e(e){if(Array.isArray(e))return FN(e)}function FN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s$(Object(r),!0).forEach(function(n){Hd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hd(e,t,r){return t=F2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F2e(e){var t=B2e(e,"string");return Rm(t)=="symbol"?t:t+""}function B2e(e,t){if(Rm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bn(e,t,r){return Dt(e)||Dt(t)?r:Un(t)?bi(e,t,r):Ot(t)?t(e):r}function Tp(e,t,r,n){var a=Lke(e,function(l){return Bn(l,t)});if(r==="number"){var i=a.filter(function(l){return Pe(l)||parseFloat(l)});return i.length?[Pw(i),Ew(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!Dt(l)}):a;return o.map(function(l){return Un(l)||l instanceof Date?l:""})}var q2e=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(Na(f-d)!==Na(h-f)){var y=[];if(Na(h-f)===Na(c[1]-c[0])){p=h;var m=f+c[1]-c[0];y[0]=Math.min(m,(m+d)/2),y[1]=Math.max(m,(m+d)/2)}else{p=d;var v=h+c[1]-c[0];y[0]=Math.min(f,(v+f)/2),y[1]=Math.max(f,(v+f)/2)}var x=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>x[0]&&t<=x[1]||t>=y[0]&&t<=y[1]){o=a[u].index;break}}else{var b=Math.min(d,h),w=Math.max(d,h);if(t>(b+f)/2&&t<=(w+f)/2){o=a[u].index;break}}}else for(var j=0;j<l;j++)if(j===0&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j>0&&j<l-1&&t>(n[j].coordinate+n[j-1].coordinate)/2&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j===l-1&&t>(n[j].coordinate+n[j-1].coordinate)/2){o=n[j].index;break}return o},wA=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?yn(yn({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},U2e=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var y=d[f[h]],m=y.items,v=y.cateAxisId,x=m.filter(function(N){return Ao(N.type).indexOf("Bar")>=0});if(x&&x.length){var b=x[0].type.defaultProps,w=b!==void 0?yn(yn({},b),x[0].props):x[0].props,j=w.barSize,S=w[v];o[S]||(o[S]=[]);var _=Dt(j)?r:j;o[S].push({item:x[0],stackList:x.slice(1),barSize:Dt(_)?void 0:Ca(_,n,0)})}}return o},z2e=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Ca(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=a/c,y=o.reduce(function(j,S){return j+S.barSize||0},0);y+=(c-1)*u,y>=a&&(y-=(c-1)*u,u=0),y>=a&&p>0&&(h=!0,p*=.9,y=c*p);var m=(a-y)/2>>0,v={offset:m-u,size:0};d=o.reduce(function(j,S){var _={item:S.item,position:{offset:v.offset+v.size+u,size:h?p:S.barSize}},N=[].concat(i$(j),[_]);return v=N[N.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(C){N.push({item:C,position:v})}),N},f)}else{var x=Ca(n,a,0,!0);a-2*x-(c-1)*u<=0&&(u=0);var b=(a-2*x-(c-1)*u)/c;b>1&&(b>>=0);var w=l===+l?Math.min(b,l):b;d=o.reduce(function(j,S,_){var N=[].concat(i$(j),[{item:S.item,position:{offset:x+(b+u)*_+(b-w)/2,size:w}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(C){N.push({item:C,position:N[N.length-1].position})}),N},f)}return d},W2e=function(t,r,n,a){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=CV({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,p=u.align,y=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&y==="middle")&&p!=="center"&&Pe(t[p]))return yn(yn({},t),{},Hd({},p,t[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&y!=="middle"&&Pe(t[y]))return yn(yn({},t),{},Hd({},y,t[y]+(h||0)))}return t},V2e=function(t,r,n){return Dt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},EV=function(t,r,n,a,i){var o=r.props.children,l=wi(o,Vv).filter(function(u){return V2e(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Bn(d,n);if(Dt(f))return u;var h=Array.isArray(f)?[Pw(f),Ew(f)]:[f,f],p=c.reduce(function(y,m){var v=Bn(d,m,0),x=h[0]-Math.abs(Array.isArray(v)?v[0]:v),b=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(x,y[0]),Math.max(b,y[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},H2e=function(t,r,n,a,i){var o=r.map(function(l){return EV(t,l,n,i,a)}).filter(function(l){return!Dt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},PV=function(t,r,n,a,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&EV(t,c,u,a)||Tp(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},OV=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},AV=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},Co=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Na(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!Lv(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:i?i[f]:f,index:h,offset:u}})},FS=new WeakMap,ay=function(t,r){if(typeof r!="function")return t;FS.has(t)||FS.set(t,new WeakMap);var n=FS.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},kV=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Em(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:rb(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:kp(),realScaleType:"point"}:i==="category"?{scale:Em(),realScaleType:"band"}:{scale:rb(),realScaleType:"linear"};if(Du(a)){var c="scale".concat(fw(a));return{scale:(ZR[c]||kp)(),realScaleType:ZR[c]?c:"point"}}return Ot(a)?{scale:a}:{scale:kp(),realScaleType:"point"}},o$=1e-4,TV=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-o$,o=Math.max(a[0],a[1])+o$,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},G2e=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},K2e=function(t,r){if(!r||r.length!==2||!Pe(r[0])||!Pe(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Pe(t[0])||t[0]<n)&&(i[0]=n),(!Pe(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},Y2e=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,l=0;l<r;++l){var c=Lv(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},X2e=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var l=Lv(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},Q2e={sign:Y2e,expand:g0e,none:Nf,silhouette:y0e,wiggle:x0e,positive:X2e},J2e=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),i=Q2e[n],o=v0e().keys(a).value(function(l,c){return+Bn(l,c,0)}).order(uN).offset(i);return o(t)},Z2e=function(t,r,n,a,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var p,y=(p=h.type)!==null&&p!==void 0&&p.defaultProps?yn(yn({},h.type.defaultProps),h.props):h.props,m=y.stackId,v=y.hide;if(v)return f;var x=y[n],b=f[x]||{hasStack:!1,stackGroups:{}};if(Un(m)){var w=b.stackGroups[m]||{numericAxisId:n,cateAxisId:a,items:[]};w.items.push(h),b.hasStack=!0,b.stackGroups[m]=w}else b.stackGroups[xh("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return yn(yn({},f),{},Hd({},x,b))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var y={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,v){var x=p.stackGroups[v];return yn(yn({},m),{},Hd({},v,{numericAxisId:n,cateAxisId:a,items:x.items,stackedData:J2e(t,x.items,i)}))},y)}return yn(yn({},f),{},Hd({},h,p))},d)},DV=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=p2e(u,i,l);return t.domain([Pw(d),Ew(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),h=m2e(f,i,l);return{niceTicks:h}}return null};function l$(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Dt(a[t.dataKey])){var l=Rx(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=Bn(a,Dt(o)?t.dataKey:o);return Dt(c)?null:t.scale(c)}var c$=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=Bn(o,r.dataKey,r.domain[l]);return Dt(c)?null:r.scale(c)-i/2+a},eTe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},tTe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?yn(yn({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Un(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},rTe=function(t){return t.reduce(function(r,n){return[Pw(n.concat([r[0]]).filter(Pe)),Ew(n.concat([r[1]]).filter(Pe))]},[1/0,-1/0])},IV=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=rTe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},u$=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,d$=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,BN=function(t,r,n){if(Ot(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Pe(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(u$.test(t[0])){var i=+u$.exec(t[0])[1];a[0]=r[0]-i}else Ot(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Pe(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(d$.test(t[1])){var o=+d$.exec(t[1])[1];a[1]=r[1]+o}else Ot(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},cb=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=YO(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},f$=function(t,r,n){return!t||!t.length||Wv(t,bi(n,"type.defaultProps.domain"))?r:t},RV=function(t,r){var n=t.type.defaultProps?yn(yn({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return yn(yn({},ft(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:wA(t),value:Bn(r,a),type:c,payload:r,chartType:u,hide:d})};function $m(e){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$m(e)}function h$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h$(Object(r),!0).forEach(function(n){$V(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $V(e,t,r){return t=nTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nTe(e){var t=aTe(e,"string");return $m(t)=="symbol"?t:t+""}function aTe(e,t){if($m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iTe(e,t){return cTe(e)||lTe(e,t)||oTe(e,t)||sTe()}function sTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oTe(e,t){if(e){if(typeof e=="string")return p$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p$(e,t)}}function p$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lTe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function cTe(e){if(Array.isArray(e))return e}var ub=Math.PI/180,uTe=function(t){return t*180/Math.PI},Yr=function(t,r,n,a){return{x:t+Math.cos(-ub*a)*n,y:r+Math.sin(-ub*a)*n}},MV=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},dTe=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=Ca(t.cx,o,o/2),f=Ca(t.cy,l,l/2),h=MV(o,l,n),p=Ca(t.innerRadius,h,0),y=Ca(t.outerRadius,h,h*.8),m=Object.keys(r);return m.reduce(function(v,x){var b=r[x],w=b.domain,j=b.reversed,S;if(Dt(b.range))a==="angleAxis"?S=[c,u]:a==="radiusAxis"&&(S=[p,y]),j&&(S=[S[1],S[0]]);else{S=b.range;var _=S,N=iTe(_,2);c=N[0],u=N[1]}var C=kV(b,i),E=C.realScaleType,A=C.scale;A.domain(w).range(S),TV(A);var O=DV(A,mo(mo({},b),{},{realScaleType:E})),P=mo(mo(mo({},b),O),{},{range:S,radius:y,realScaleType:E,scale:A,cx:d,cy:f,innerRadius:p,outerRadius:y,startAngle:c,endAngle:u});return mo(mo({},v),{},$V({},x,P))},{})},fTe=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},hTe=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,l=fTe({x:n,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:uTe(u),angleInRadian:u}},pTe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},mTe=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},m$=function(t,r){var n=t.x,a=t.y,i=hTe({x:n,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=pTe(r),f=d.startAngle,h=d.endAngle,p=l,y;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;y=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;y=p>=h&&p<=f}return y?mo(mo({},r),{},{radius:o,angle:mTe(p,r)}):null},LV=function(t){return!g.isValidElement(t)&&!Ot(t)&&typeof t!="boolean"?t.className:""};function Mm(e){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mm(e)}var vTe=["offset"];function gTe(e){return wTe(e)||bTe(e)||xTe(e)||yTe()}function yTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xTe(e,t){if(e){if(typeof e=="string")return qN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qN(e,t)}}function bTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wTe(e){if(Array.isArray(e))return qN(e)}function qN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jTe(e,t){if(e==null)return{};var r=STe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function STe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function v$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v$(Object(r),!0).forEach(function(n){_Te(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Te(e,t,r){return t=NTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NTe(e){var t=CTe(e,"string");return Mm(t)=="symbol"?t:t+""}function CTe(e,t){if(Mm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lm(){return Lm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lm.apply(this,arguments)}var ETe=function(t){var r=t.value,n=t.formatter,a=Dt(t.children)?r:t.children;return Ot(n)?n(a):a},PTe=function(t,r){var n=Na(r-t),a=Math.min(Math.abs(r-t),360);return n*a},OTe=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,y=c.endAngle,m=c.clockWise,v=(f+h)/2,x=PTe(p,y),b=x>=0?1:-1,w,j;a==="insideStart"?(w=p+b*o,j=m):a==="insideEnd"?(w=y-b*o,j=!m):a==="end"&&(w=y+b*o,j=m),j=x<=0?j:!j;var S=Yr(u,d,v,w),_=Yr(u,d,v,w+(j?1:-1)*359),N="M".concat(S.x,",").concat(S.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(j?0:1,`,
    `).concat(_.x,",").concat(_.y),C=Dt(t.id)?xh("recharts-radial-line-"):t.id;return R.createElement("text",Lm({},n,{dominantBaseline:"central",className:It("recharts-radial-bar-label",l)}),R.createElement("defs",null,R.createElement("path",{id:C,d:N})),R.createElement("textPath",{xlinkHref:"#".concat(C)},r))},ATe=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(a==="outside"){var p=Yr(o,l,u+n,h),y=p.x,m=p.y;return{x:y,y:m,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,x=Yr(o,l,v,h),b=x.x,w=x.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},kTe=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,p=f>0?"end":"start",y=f>0?"start":"end",m=u>=0?1:-1,v=m*a,x=m>0?"end":"start",b=m>0?"start":"end";if(i==="top"){var w={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:p};return $n($n({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var j={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:y};return $n($n({},j),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var S={x:l-v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return $n($n({},S),n?{width:Math.max(S.x-n.x,0),height:d}:{})}if(i==="right"){var _={x:l+u+v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return $n($n({},_),n?{width:Math.max(n.x+n.width-_.x,0),height:d}:{})}var N=n?{width:u,height:d}:{};return i==="insideLeft"?$n({x:l+v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},N):i==="insideRight"?$n({x:l+u-v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},N):i==="insideTop"?$n({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:y},N):i==="insideBottom"?$n({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},N):i==="insideTopLeft"?$n({x:l+v,y:c+h,textAnchor:b,verticalAnchor:y},N):i==="insideTopRight"?$n({x:l+u-v,y:c+h,textAnchor:x,verticalAnchor:y},N):i==="insideBottomLeft"?$n({x:l+v,y:c+d-h,textAnchor:b,verticalAnchor:p},N):i==="insideBottomRight"?$n({x:l+u-v,y:c+d-h,textAnchor:x,verticalAnchor:p},N):mh(i)&&(Pe(i.x)||Yc(i.x))&&(Pe(i.y)||Yc(i.y))?$n({x:l+Ca(i.x,u),y:c+Ca(i.y,d),textAnchor:"end",verticalAnchor:"end"},N):$n({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},N)},TTe=function(t){return"cx"in t&&Pe(t.cx)};function Gn(e){var t=e.offset,r=t===void 0?5:t,n=jTe(e,vTe),a=$n({offset:r},n),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||Dt(l)&&Dt(c)&&!g.isValidElement(u)&&!Ot(u))return null;if(g.isValidElement(u))return g.cloneElement(u,a);var p;if(Ot(u)){if(p=g.createElement(u,a),g.isValidElement(p))return p}else p=ETe(a);var y=TTe(i),m=ft(a,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return OTe(a,p,m);var v=y?ATe(a):kTe(a);return R.createElement(Ru,Lm({className:It("recharts-label",f)},m,v,{breakAll:h}),p)}Gn.displayName="Label";var FV=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,y=t.left,m=t.width,v=t.height,x=t.clockWise,b=t.labelViewBox;if(b)return b;if(Pe(m)&&Pe(v)){if(Pe(f)&&Pe(h))return{x:f,y:h,width:m,height:v};if(Pe(p)&&Pe(y))return{x:p,y,width:m,height:v}}return Pe(f)&&Pe(h)?{x:f,y:h,width:0,height:0}:Pe(r)&&Pe(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:x}:t.viewBox?t.viewBox:{}},DTe=function(t,r){return t?t===!0?R.createElement(Gn,{key:"label-implicit",viewBox:r}):Un(t)?R.createElement(Gn,{key:"label-implicit",viewBox:r,value:t}):g.isValidElement(t)?t.type===Gn?g.cloneElement(t,{key:"label-implicit",viewBox:r}):R.createElement(Gn,{key:"label-implicit",content:t,viewBox:r}):Ot(t)?R.createElement(Gn,{key:"label-implicit",content:t,viewBox:r}):mh(t)?R.createElement(Gn,Lm({viewBox:r},t,{key:"label-implicit"})):null:null},ITe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=FV(t),o=wi(a,Gn).map(function(c,u){return g.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=DTe(t.label,r||i);return[l].concat(gTe(o))};Gn.parseViewBox=FV;Gn.renderCallByParent=ITe;function RTe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var $Te=RTe;const MTe=Sr($Te);function Fm(e){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fm(e)}var LTe=["valueAccessor"],FTe=["data","dataKey","clockWise","id","textBreakAll"];function BTe(e){return WTe(e)||zTe(e)||UTe(e)||qTe()}function qTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UTe(e,t){if(e){if(typeof e=="string")return UN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UN(e,t)}}function zTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function WTe(e){if(Array.isArray(e))return UN(e)}function UN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function db(){return db=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},db.apply(this,arguments)}function g$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function y$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g$(Object(r),!0).forEach(function(n){VTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VTe(e,t,r){return t=HTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HTe(e){var t=GTe(e,"string");return Fm(t)=="symbol"?t:t+""}function GTe(e,t){if(Fm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x$(e,t){if(e==null)return{};var r=KTe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function KTe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var YTe=function(t){return Array.isArray(t.value)?MTe(t.value):t.value};function To(e){var t=e.valueAccessor,r=t===void 0?YTe:t,n=x$(e,LTe),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=x$(n,FTe);return!a||!a.length?null:R.createElement(br,{className:"recharts-label-list"},a.map(function(d,f){var h=Dt(i)?r(d,f):Bn(d&&d.payload,i),p=Dt(l)?{}:{id:"".concat(l,"-").concat(f)};return R.createElement(Gn,db({},ft(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:Gn.parseViewBox(Dt(o)?d:y$(y$({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}To.displayName="LabelList";function XTe(e,t){return e?e===!0?R.createElement(To,{key:"labelList-implicit",data:t}):R.isValidElement(e)||Ot(e)?R.createElement(To,{key:"labelList-implicit",data:t,content:e}):mh(e)?R.createElement(To,db({data:t},e,{key:"labelList-implicit"})):null:null}function QTe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=wi(n,To).map(function(o,l){return g.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=XTe(e.label,t);return[i].concat(BTe(a))}To.renderCallByParent=QTe;function Bm(e){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bm(e)}function zN(){return zN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zN.apply(this,arguments)}function b$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function w$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b$(Object(r),!0).forEach(function(n){JTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JTe(e,t,r){return t=ZTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZTe(e){var t=eDe(e,"string");return Bm(t)=="symbol"?t:t+""}function eDe(e,t){if(Bm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tDe=function(t,r){var n=Na(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},iy=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/ub,h=u?i:i+o*f,p=Yr(r,n,d,h),y=Yr(r,n,a,h),m=u?i-o*f:i,v=Yr(r,n,d*Math.cos(f*ub),m);return{center:p,circleTangency:y,lineTangency:v,theta:f}},BV=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=tDe(o,l),u=o+c,d=Yr(r,n,i,o),f=Yr(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=Yr(r,n,a,o),y=Yr(r,n,a,u);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},rDe=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Na(d-u),h=iy({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),p=h.circleTangency,y=h.lineTangency,m=h.theta,v=iy({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),x=v.circleTangency,b=v.lineTangency,w=v.theta,j=c?Math.abs(u-d):Math.abs(u-d)-m-w;if(j<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):BV({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var S="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var _=iy({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),N=_.circleTangency,C=_.lineTangency,E=_.theta,A=iy({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),O=A.circleTangency,P=A.lineTangency,k=A.theta,I=c?Math.abs(u-d):Math.abs(u-d)-E-k;if(I<0&&o===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(I>180),",").concat(+(f>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},nDe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},qV=function(t){var r=w$(w$({},nDe),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var p=It("recharts-sector",h),y=o-i,m=Ca(l,y,0,!0),v;return m>0&&Math.abs(d-f)<360?v=rDe({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(m,y/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=BV({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),R.createElement("path",zN({},ft(r,!0),{className:p,d:v,role:"img"}))};function qm(e){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qm(e)}function WN(){return WN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},WN.apply(this,arguments)}function j$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function S$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j$(Object(r),!0).forEach(function(n){aDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aDe(e,t,r){return t=iDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iDe(e){var t=sDe(e,"string");return qm(t)=="symbol"?t:t+""}function sDe(e,t){if(qm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _$={curveBasisClosed:i0e,curveBasisOpen:s0e,curveBasis:a0e,curveBumpX:Wbe,curveBumpY:Vbe,curveLinearClosed:o0e,curveLinear:pw,curveMonotoneX:l0e,curveMonotoneY:c0e,curveNatural:u0e,curveStep:d0e,curveStepAfter:h0e,curveStepBefore:f0e},sy=function(t){return t.x===+t.x&&t.y===+t.y},ep=function(t){return t.x},tp=function(t){return t.y},oDe=function(t,r){if(Ot(t))return t;var n="curve".concat(fw(t));return(n==="curveMonotone"||n==="curveBump")&&r?_$["".concat(n).concat(r==="vertical"?"Y":"X")]:_$[n]||pw},lDe=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=oDe(n,l),f=u?i.filter(function(m){return sy(m)}):i,h;if(Array.isArray(o)){var p=u?o.filter(function(m){return sy(m)}):o,y=f.map(function(m,v){return S$(S$({},m),{},{base:p[v]})});return l==="vertical"?h=Xg().y(tp).x1(ep).x0(function(m){return m.base.x}):h=Xg().x(ep).y1(tp).y0(function(m){return m.base.y}),h.defined(sy).curve(d),h(y)}return l==="vertical"&&Pe(o)?h=Xg().y(tp).x1(ep).x0(o):Pe(o)?h=Xg().x(ep).y1(tp).y0(o):h=R8().x(ep).y(tp),h.defined(sy).curve(d),h(f)},fb=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?lDe(t):a;return g.createElement("path",WN({},ft(t,!1),$x(t),{className:It("recharts-curve",r),d:o,ref:i}))},cDe=Object.getOwnPropertyNames,uDe=Object.getOwnPropertySymbols,dDe=Object.prototype.hasOwnProperty;function N$(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function oy(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=e(r,n,a);return i.delete(r),i.delete(n),c}}function fDe(e){return e!=null?e[Symbol.toStringTag]:void 0}function C$(e){return cDe(e).concat(uDe(e))}var hDe=Object.hasOwn||function(e,t){return dDe.call(e,t)};function Ku(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var pDe="__v",mDe="__o",vDe="_owner",E$=Object.getOwnPropertyDescriptor,P$=Object.keys;function gDe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function yDe(e,t){return Ku(e.getTime(),t.getTime())}function xDe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function bDe(e,t){return e===t}function O$(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var h=o.value,p=l.value;if(r.equals(h[0],p[0],c,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var wDe=Ku;function jDe(e,t,r){var n=P$(e),a=n.length;if(P$(t).length!==a)return!1;for(;a-- >0;)if(!UV(e,t,r,n[a]))return!1;return!0}function rp(e,t,r){var n=C$(e),a=n.length;if(C$(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=n[a],!UV(e,t,r,i)||(o=E$(e,i),l=E$(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function SDe(e,t){return Ku(e.valueOf(),t.valueOf())}function _De(e,t){return e.source===t.source&&e.flags===t.flags}function A$(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function NDe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function CDe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function UV(e,t,r,n){return(n===vDe||n===mDe||n===pDe)&&(e.$$typeof||t.$$typeof)?!0:hDe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var EDe="[object Arguments]",PDe="[object Boolean]",ODe="[object Date]",ADe="[object Error]",kDe="[object Map]",TDe="[object Number]",DDe="[object Object]",IDe="[object RegExp]",RDe="[object Set]",$De="[object String]",MDe="[object URL]",LDe=Array.isArray,k$=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,T$=Object.assign,FDe=Object.prototype.toString.call.bind(Object.prototype.toString);function BDe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual,p=e.unknownTagComparators;return function(m,v,x){if(m===v)return!0;if(m==null||v==null)return!1;var b=typeof m;if(b!==typeof v)return!1;if(b!=="object")return b==="number"?o(m,v,x):b==="function"?a(m,v,x):!1;var w=m.constructor;if(w!==v.constructor)return!1;if(w===Object)return l(m,v,x);if(LDe(m))return t(m,v,x);if(k$!=null&&k$(m))return f(m,v,x);if(w===Date)return r(m,v,x);if(w===RegExp)return u(m,v,x);if(w===Map)return i(m,v,x);if(w===Set)return d(m,v,x);var j=FDe(m);if(j===ODe)return r(m,v,x);if(j===IDe)return u(m,v,x);if(j===kDe)return i(m,v,x);if(j===RDe)return d(m,v,x);if(j===DDe)return typeof m.then!="function"&&typeof v.then!="function"&&l(m,v,x);if(j===MDe)return h(m,v,x);if(j===ADe)return n(m,v,x);if(j===EDe)return l(m,v,x);if(j===PDe||j===TDe||j===$De)return c(m,v,x);if(p){var S=p[j];if(!S){var _=fDe(m);_&&(S=p[_])}if(S)return S(m,v,x)}return!1}}function qDe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?rp:gDe,areDatesEqual:yDe,areErrorsEqual:xDe,areFunctionsEqual:bDe,areMapsEqual:n?N$(O$,rp):O$,areNumbersEqual:wDe,areObjectsEqual:n?rp:jDe,arePrimitiveWrappersEqual:SDe,areRegExpsEqual:_De,areSetsEqual:n?N$(A$,rp):A$,areTypedArraysEqual:n?rp:NDe,areUrlsEqual:CDe,unknownTagComparators:void 0};if(r&&(a=T$({},a,r(a))),t){var i=oy(a.areArraysEqual),o=oy(a.areMapsEqual),l=oy(a.areObjectsEqual),c=oy(a.areSetsEqual);a=T$({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function UDe(e){return function(t,r,n,a,i,o,l){return e(t,r,l)}}function zDe(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,p=d.meta;return r(c,u,{cache:h,equals:a,meta:p,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,o)}}var WDe=wc();wc({strict:!0});wc({circular:!0});wc({circular:!0,strict:!0});wc({createInternalComparator:function(){return Ku}});wc({strict:!0,createInternalComparator:function(){return Ku}});wc({circular:!0,createInternalComparator:function(){return Ku}});wc({circular:!0,createInternalComparator:function(){return Ku},strict:!0});function wc(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=qDe(e),c=BDe(l),u=n?n(c):UDe(c);return zDe({circular:r,comparator:c,createState:a,equals:u,strict:o})}function VDe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function D$(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):VDe(a)};requestAnimationFrame(n)}function VN(e){"@babel/helpers - typeof";return VN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},VN(e)}function HDe(e){return XDe(e)||YDe(e)||KDe(e)||GDe()}function GDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KDe(e,t){if(e){if(typeof e=="string")return I$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I$(e,t)}}function I$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function YDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function XDe(e){if(Array.isArray(e))return e}function QDe(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=HDe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){D$(a.bind(null,u),c);return}a(c),D$(a.bind(null,u));return}VN(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Um(e){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Um(e)}function R$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R$(Object(r),!0).forEach(function(n){zV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zV(e,t,r){return t=JDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JDe(e){var t=ZDe(e,"string");return Um(t)==="symbol"?t:String(t)}function ZDe(e,t){if(Um(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Um(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eIe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},tIe=function(t){return t},rIe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Dp=function(t,r){return Object.keys(r).reduce(function(n,a){return $$($$({},n),{},zV({},a,t(a,r[a])))},{})},M$=function(t,r,n){return t.map(function(a){return"".concat(rIe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function nIe(e,t){return sIe(e)||iIe(e,t)||WV(e,t)||aIe()}function aIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iIe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function sIe(e){if(Array.isArray(e))return e}function oIe(e){return uIe(e)||cIe(e)||WV(e)||lIe()}function lIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WV(e,t){if(e){if(typeof e=="string")return HN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HN(e,t)}}function cIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function uIe(e){if(Array.isArray(e))return HN(e)}function HN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var hb=1e-4,VV=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},HV=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},L$=function(t,r){return function(n){var a=VV(t,r);return HV(a,n)}},dIe=function(t,r){return function(n){var a=VV(t,r),i=[].concat(oIe(a.map(function(o,l){return o*l}).slice(1)),[0]);return HV(i,n)}},F$=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=nIe(u,4);a=d[0],i=d[1],o=d[2],l=d[3]}}}var f=L$(a,o),h=L$(i,l),p=dIe(a,o),y=function(x){return x>1?1:x<0?0:x},m=function(x){for(var b=x>1?1:x,w=b,j=0;j<8;++j){var S=f(w)-b,_=p(w);if(Math.abs(S-b)<hb||_<hb)return h(w);w=y(w-S/_)}return h(w)};return m.isStepper=!1,m},fIe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var p=-(d-f)*n,y=h*i,m=h+(p-y)*l/1e3,v=h*l/1e3+d;return Math.abs(v-f)<hb&&Math.abs(m)<hb?[f,0]:[v,m]};return c.isStepper=!0,c.dt=l,c},hIe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return F$(a);case"spring":return fIe();default:if(a.split("(")[0]==="cubic-bezier")return F$(a)}return typeof a=="function"?a:null};function zm(e){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zm(e)}function B$(e){return vIe(e)||mIe(e)||GV(e)||pIe()}function pIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vIe(e){if(Array.isArray(e))return KN(e)}function q$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ra(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q$(Object(r),!0).forEach(function(n){GN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GN(e,t,r){return t=gIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gIe(e){var t=yIe(e,"string");return zm(t)==="symbol"?t:String(t)}function yIe(e,t){if(zm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xIe(e,t){return jIe(e)||wIe(e,t)||GV(e,t)||bIe()}function bIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GV(e,t){if(e){if(typeof e=="string")return KN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KN(e,t)}}function KN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wIe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function jIe(e){if(Array.isArray(e))return e}var pb=function(t,r,n){return t+(r-t)*n},YN=function(t){var r=t.from,n=t.to;return r!==n},SIe=function e(t,r,n){var a=Dp(function(i,o){if(YN(o)){var l=t(o.from,o.to,o.velocity),c=xIe(l,2),u=c[0],d=c[1];return ra(ra({},o),{},{from:u,velocity:d})}return o},r);return n<1?Dp(function(i,o){return YN(o)?ra(ra({},o),{},{velocity:pb(o.velocity,a[i].velocity,n),from:pb(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const _Ie=function(e,t,r,n,a){var i=eIe(e,t),o=i.reduce(function(v,x){return ra(ra({},v),{},GN({},x,[e[x],t[x]]))},{}),l=i.reduce(function(v,x){return ra(ra({},v),{},GN({},x,{from:e[x],velocity:0,to:t[x]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Dp(function(x,b){return b.from},l)},p=function(){return!Object.values(l).filter(YN).length},y=function(x){u||(u=x);var b=x-u,w=b/r.dt;l=SIe(r,l,w),a(ra(ra(ra({},e),t),h())),u=x,p()||(c=requestAnimationFrame(f))},m=function(x){d||(d=x);var b=(x-d)/n,w=Dp(function(S,_){return pb.apply(void 0,B$(_).concat([r(b)]))},o);if(a(ra(ra(ra({},e),t),w)),b<1)c=requestAnimationFrame(f);else{var j=Dp(function(S,_){return pb.apply(void 0,B$(_).concat([r(1)]))},o);a(ra(ra(ra({},e),t),j))}};return f=r.isStepper?y:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function If(e){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},If(e)}var NIe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function CIe(e,t){if(e==null)return{};var r=EIe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function EIe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function BS(e){return kIe(e)||AIe(e)||OIe(e)||PIe()}function PIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OIe(e,t){if(e){if(typeof e=="string")return XN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XN(e,t)}}function AIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kIe(e){if(Array.isArray(e))return XN(e)}function XN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function U$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function as(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U$(Object(r),!0).forEach(function(n){fp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fp(e,t,r){return t=KV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DIe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KV(n.key),n)}}function IIe(e,t,r){return t&&DIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function KV(e){var t=RIe(e,"string");return If(t)==="symbol"?t:String(t)}function RIe(e,t){if(If(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(If(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $Ie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&QN(e,t)}function QN(e,t){return QN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},QN(e,t)}function MIe(e){var t=LIe();return function(){var n=mb(e),a;if(t){var i=mb(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return JN(this,a)}}function JN(e,t){if(t&&(If(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZN(e)}function ZN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LIe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function mb(e){return mb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mb(e)}var to=function(e){$Ie(r,e);var t=MIe(r);function r(n,a){var i;TIe(this,r),i=t.call(this,n,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(ZN(i)),i.changeStyle=i.changeStyle.bind(ZN(i)),!l||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),JN(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},JN(i);i.state={style:c?fp({},c,u):u}}else i.state={style:{}};return i}return IIe(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!o){var p={style:c?fp({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(WDe(a.to,d)&&a.canBegin&&a.isActive)){var y=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=y||u?f:a.to;if(this.state&&h){var v={style:c?fp({},c,m):m};(c&&h[c]!==m||!c&&h!==m)&&this.setState(v)}this.runAnimation(as(as({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,p=_Ie(o,l,hIe(u),c,this.changeStyle),y=function(){i.stopJSAnimation=p()};this.manager.start([h,d,y,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(m,v,x){if(x===0)return m;var b=v.duration,w=v.easing,j=w===void 0?"ease":w,S=v.style,_=v.properties,N=v.onAnimationEnd,C=x>0?o[x-1]:v,E=_||Object.keys(S);if(typeof j=="function"||j==="spring")return[].concat(BS(m),[i.runJSAnimation.bind(i,{from:C.style,to:S,duration:b,easing:j}),b]);var A=M$(E,b,j),O=as(as(as({},C.style),S),{},{transition:A});return[].concat(BS(m),[O,b,N]).filter(tIe)};return this.manager.start([c].concat(BS(o.reduce(p,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=QDe());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,p=a.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var m=l?fp({},l,c):c,v=M$(Object.keys(m),o,u);y.start([d,i,as(as({},m),{},{transition:v}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=CIe(a,NIe),u=g.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(p){var y=p.props,m=y.style,v=m===void 0?{}:m,x=y.className,b=g.cloneElement(p,as(as({},c),{},{style:as(as({},v),d),className:x}));return b};return u===1?f(g.Children.only(i)):R.createElement("div",null,g.Children.map(i,function(h){return f(h)}))}}]),r}(g.PureComponent);to.displayName="Animate";to.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};to.propTypes={from:Cr.oneOfType([Cr.object,Cr.string]),to:Cr.oneOfType([Cr.object,Cr.string]),attributeName:Cr.string,duration:Cr.number,begin:Cr.number,easing:Cr.oneOfType([Cr.string,Cr.func]),steps:Cr.arrayOf(Cr.shape({duration:Cr.number.isRequired,style:Cr.object.isRequired,easing:Cr.oneOfType([Cr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Cr.func]),properties:Cr.arrayOf("string"),onAnimationEnd:Cr.func})),children:Cr.oneOfType([Cr.node,Cr.func]),isActive:Cr.bool,canBegin:Cr.bool,onAnimationEnd:Cr.func,shouldReAnimate:Cr.bool,onAnimationStart:Cr.func,onAnimationReStart:Cr.func};function Wm(e){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wm(e)}function vb(){return vb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vb.apply(this,arguments)}function FIe(e,t){return zIe(e)||UIe(e,t)||qIe(e,t)||BIe()}function BIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qIe(e,t){if(e){if(typeof e=="string")return z$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z$(e,t)}}function z$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function UIe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function zIe(e){if(Array.isArray(e))return e}function W$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function V$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W$(Object(r),!0).forEach(function(n){WIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WIe(e,t,r){return t=VIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VIe(e){var t=HIe(e,"string");return Wm(t)=="symbol"?t:t+""}function HIe(e,t){if(Wm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var H$=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var y=Math.min(o,i);d="M ".concat(t,",").concat(r+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+c*y,",").concat(r,`
            L `).concat(t+n-c*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*y,`
            L `).concat(t+n,",").concat(r+a-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n-c*y,",").concat(r+a,`
            L `).concat(t+c*y,",").concat(r+a,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*y," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},GIe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},KIe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},jA=function(t){var r=V$(V$({},KIe),t),n=g.useRef(),a=g.useState(-1),i=FIe(a,2),o=i[0],l=i[1];g.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,y=r.animationEasing,m=r.animationDuration,v=r.animationBegin,x=r.isAnimationActive,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=It("recharts-rectangle",p);return b?R.createElement(to,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:m,animationEasing:y,isActive:b},function(j){var S=j.width,_=j.height,N=j.x,C=j.y;return R.createElement(to,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,isActive:x,easing:y},R.createElement("path",vb({},ft(r,!0),{className:w,d:H$(N,C,S,_,h),ref:n})))}):R.createElement("path",vb({},ft(r,!0),{className:w,d:H$(c,u,d,f,h)}))},YIe=["points","className","baseLinePoints","connectNulls"];function Ed(){return Ed=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ed.apply(this,arguments)}function XIe(e,t){if(e==null)return{};var r=QIe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function QIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function G$(e){return tRe(e)||eRe(e)||ZIe(e)||JIe()}function JIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZIe(e,t){if(e){if(typeof e=="string")return eC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eC(e,t)}}function eRe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tRe(e){if(Array.isArray(e))return eC(e)}function eC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var K$=function(t){return t&&t.x===+t.x&&t.y===+t.y},rRe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){K$(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),K$(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Ip=function(t,r){var n=rRe(t);r&&(n=[n.reduce(function(i,o){return[].concat(G$(i),G$(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},nRe=function(t,r,n){var a=Ip(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Ip(r.reverse(),n).slice(1))},aRe=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,o=XIe(t,YIe);if(!r||!r.length)return null;var l=It("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=nRe(r,a,i);return R.createElement("g",{className:l},R.createElement("path",Ed({},ft(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?R.createElement("path",Ed({},ft(o,!0),{fill:"none",d:Ip(r,i)})):null,c?R.createElement("path",Ed({},ft(o,!0),{fill:"none",d:Ip(a,i)})):null)}var d=Ip(r,i);return R.createElement("path",Ed({},ft(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function tC(){return tC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tC.apply(this,arguments)}var kw=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=It("recharts-dot",i);return r===+r&&n===+n&&a===+a?g.createElement("circle",tC({},ft(t,!1),$x(t),{className:o,cx:r,cy:n,r:a})):null};function Vm(e){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vm(e)}var iRe=["x","y","top","left","width","height","className"];function rC(){return rC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rC.apply(this,arguments)}function Y$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sRe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y$(Object(r),!0).forEach(function(n){oRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oRe(e,t,r){return t=lRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lRe(e){var t=cRe(e,"string");return Vm(t)=="symbol"?t:t+""}function cRe(e,t){if(Vm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uRe(e,t){if(e==null)return{};var r=dRe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var fRe=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},hRe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,y=t.className,m=uRe(t,iRe),v=sRe({x:n,y:i,top:l,left:u,width:f,height:p},m);return!Pe(n)||!Pe(i)||!Pe(f)||!Pe(p)||!Pe(l)||!Pe(u)?null:R.createElement("path",rC({},ft(v,!0),{className:It("recharts-cross",y),d:fRe(n,i,f,p,l,u)}))},pRe=Cw,mRe=cV,vRe=io;function gRe(e,t){return e&&e.length?pRe(e,vRe(t),mRe):void 0}var yRe=gRe;const xRe=Sr(yRe);var bRe=Cw,wRe=io,jRe=uV;function SRe(e,t){return e&&e.length?bRe(e,wRe(t),jRe):void 0}var _Re=SRe;const NRe=Sr(_Re);var CRe=["cx","cy","angle","ticks","axisLine"],ERe=["ticks","tick","angle","tickFormatter","stroke"];function Rf(e){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rf(e)}function Rp(){return Rp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rp.apply(this,arguments)}function X$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X$(Object(r),!0).forEach(function(n){Tw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q$(e,t){if(e==null)return{};var r=PRe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ORe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XV(n.key),n)}}function ARe(e,t,r){return t&&J$(e.prototype,t),r&&J$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function kRe(e,t,r){return t=gb(t),TRe(e,YV()?Reflect.construct(t,r||[],gb(e).constructor):t.apply(e,r))}function TRe(e,t){if(t&&(Rf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DRe(e)}function DRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YV=function(){return!!e})()}function gb(e){return gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gb(e)}function IRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nC(e,t)}function nC(e,t){return nC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},nC(e,t)}function Tw(e,t,r){return t=XV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XV(e){var t=RRe(e,"string");return Rf(t)=="symbol"?t:t+""}function RRe(e,t){if(Rf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dw=function(e){function t(){return ORe(this,t),kRe(this,t,arguments)}return IRe(t,e),ARe(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return Yr(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=xRe(l,function(d){return d.coordinate||0}),u=NRe(l,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=Q$(n,CRe),d=l.reduce(function(y,m){return[Math.min(y[0],m.coordinate),Math.max(y[1],m.coordinate)]},[1/0,-1/0]),f=Yr(a,i,d[0],o),h=Yr(a,i,d[1],o),p=kc(kc(kc({},ft(u,!1)),{},{fill:"none"},ft(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return R.createElement("line",Rp({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=Q$(a,ERe),f=this.getTickTextAnchor(),h=ft(d,!1),p=ft(o,!1),y=i.map(function(m,v){var x=n.getTickValueCoord(m),b=kc(kc(kc(kc({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(x.x,", ").concat(x.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:v},x),{},{payload:m});return R.createElement(br,Rp({className:It("recharts-polar-radius-axis-tick",LV(o)),key:"tick-".concat(m.coordinate)},Iu(n.props,m,v)),t.renderTickItem(o,b,c?c(m.value,v):m.value))});return R.createElement(br,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:R.createElement(br,{className:It("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),Gn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return R.isValidElement(n)?o=R.cloneElement(n,a):Ot(n)?o=n(a):o=R.createElement(Ru,Rp({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(g.PureComponent);Tw(Dw,"displayName","PolarRadiusAxis");Tw(Dw,"axisType","radiusAxis");Tw(Dw,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function $f(e){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$f(e)}function zc(){return zc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zc.apply(this,arguments)}function Z$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z$(Object(r),!0).forEach(function(n){Iw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JV(n.key),n)}}function MRe(e,t,r){return t&&eM(e.prototype,t),r&&eM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function LRe(e,t,r){return t=yb(t),FRe(e,QV()?Reflect.construct(t,r||[],yb(e).constructor):t.apply(e,r))}function FRe(e,t){if(t&&($f(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BRe(e)}function BRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QV=function(){return!!e})()}function yb(e){return yb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yb(e)}function qRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aC(e,t)}function aC(e,t){return aC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},aC(e,t)}function Iw(e,t,r){return t=JV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JV(e){var t=URe(e,"string");return $f(t)=="symbol"?t:t+""}function URe(e,t){if($f(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zRe=Math.PI/180,tM=1e-5,Rw=function(e){function t(){return $Re(this,t),LRe(this,t,arguments)}return qRe(t,e),MRe(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=Yr(i,o,l,n.coordinate),h=Yr(i,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*zRe),o;return i>tM?o=a==="outer"?"start":"end":i<-tM?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=Tc(Tc({},ft(this.props,!1)),{},{fill:"none"},ft(l,!1));if(c==="circle")return R.createElement(kw,zc({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(h){return Yr(a,i,o,h.coordinate)});return R.createElement(aRe,zc({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=ft(this.props,!1),f=ft(o,!1),h=Tc(Tc({},d),{},{fill:"none"},ft(l,!1)),p=i.map(function(y,m){var v=n.getTickLineCoord(y),x=n.getTickTextAnchor(y),b=Tc(Tc(Tc({textAnchor:x},d),{},{stroke:"none",fill:u},f),{},{index:m,payload:y,x:v.x2,y:v.y2});return R.createElement(br,zc({className:It("recharts-polar-angle-axis-tick",LV(o)),key:"tick-".concat(y.coordinate)},Iu(n.props,y,m)),l&&R.createElement("line",zc({className:"recharts-polar-angle-axis-tick-line"},h,v)),o&&t.renderTickItem(o,b,c?c(y.value,m):y.value))});return R.createElement(br,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:R.createElement(br,{className:It("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return R.isValidElement(n)?o=R.cloneElement(n,a):Ot(n)?o=n(a):o=R.createElement(Ru,zc({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(g.PureComponent);Iw(Rw,"displayName","PolarAngleAxis");Iw(Rw,"axisType","angleAxis");Iw(Rw,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var WRe=iW,VRe=WRe(Object.getPrototypeOf,Object),HRe=VRe,GRe=Xo,KRe=HRe,YRe=Qo,XRe="[object Object]",QRe=Function.prototype,JRe=Object.prototype,ZV=QRe.toString,ZRe=JRe.hasOwnProperty,e$e=ZV.call(Object);function t$e(e){if(!YRe(e)||GRe(e)!=XRe)return!1;var t=KRe(e);if(t===null)return!0;var r=ZRe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&ZV.call(r)==e$e}var r$e=t$e;const n$e=Sr(r$e);var a$e=Xo,i$e=Qo,s$e="[object Boolean]";function o$e(e){return e===!0||e===!1||i$e(e)&&a$e(e)==s$e}var l$e=o$e;const c$e=Sr(l$e);function Hm(e){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hm(e)}function xb(){return xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xb.apply(this,arguments)}function u$e(e,t){return p$e(e)||h$e(e,t)||f$e(e,t)||d$e()}function d$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f$e(e,t){if(e){if(typeof e=="string")return rM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rM(e,t)}}function rM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h$e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function p$e(e){if(Array.isArray(e))return e}function nM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nM(Object(r),!0).forEach(function(n){m$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m$e(e,t,r){return t=v$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v$e(e){var t=g$e(e,"string");return Hm(t)=="symbol"?t:t+""}function g$e(e,t){if(Hm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iM=function(t,r,n,a,i){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},y$e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},x$e=function(t){var r=aM(aM({},y$e),t),n=g.useRef(),a=g.useState(-1),i=u$e(a,2),o=i[0],l=i[1];g.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,y=r.animationEasing,m=r.animationDuration,v=r.animationBegin,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var b=It("recharts-trapezoid",p);return x?R.createElement(to,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:m,animationEasing:y,isActive:x},function(w){var j=w.upperWidth,S=w.lowerWidth,_=w.height,N=w.x,C=w.y;return R.createElement(to,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,easing:y},R.createElement("path",xb({},ft(r,!0),{className:b,d:iM(N,C,j,S,_),ref:n})))}):R.createElement("g",null,R.createElement("path",xb({},ft(r,!0),{className:b,d:iM(c,u,d,f,h)})))},b$e=["option","shapeType","propTransformer","activeClassName","isActive"];function Gm(e){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gm(e)}function w$e(e,t){if(e==null)return{};var r=j$e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function j$e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function sM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sM(Object(r),!0).forEach(function(n){S$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S$e(e,t,r){return t=_$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _$e(e){var t=N$e(e,"string");return Gm(t)=="symbol"?t:t+""}function N$e(e,t){if(Gm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C$e(e,t){return bb(bb({},t),e)}function E$e(e,t){return e==="symbols"}function oM(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return R.createElement(jA,r);case"trapezoid":return R.createElement(x$e,r);case"sector":return R.createElement(qV,r);case"symbols":if(E$e(t))return R.createElement(qO,r);break;default:return null}}function P$e(e){return g.isValidElement(e)?e.props:e}function eH(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?C$e:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=w$e(e,b$e),u;if(g.isValidElement(t))u=g.cloneElement(t,bb(bb({},c),P$e(t)));else if(Ot(t))u=t(c);else if(n$e(t)&&!c$e(t)){var d=a(t,c);u=R.createElement(oM,{shapeType:r,elementProps:d})}else{var f=c;u=R.createElement(oM,{shapeType:r,elementProps:f})}return l?R.createElement(br,{className:o},u):u}function $w(e,t){return t!=null&&"trapezoids"in e.props}function Mw(e,t){return t!=null&&"sectors"in e.props}function Km(e,t){return t!=null&&"points"in e.props}function O$e(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function A$e(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function k$e(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function T$e(e,t){var r;return $w(e,t)?r=O$e:Mw(e,t)?r=A$e:Km(e,t)&&(r=k$e),r}function D$e(e,t){var r;return $w(e,t)?r="trapezoids":Mw(e,t)?r="sectors":Km(e,t)&&(r="points"),r}function I$e(e,t){if($w(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Mw(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Km(e,t)?t.payload:{}}function R$e(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=D$e(r,t),i=I$e(r,t),o=n.filter(function(c,u){var d=Wv(i,c),f=r.props[a].filter(function(y){var m=T$e(r,t);return m(y,t)}),h=r.props[a].indexOf(f[f.length-1]),p=u===h;return d&&p}),l=n.indexOf(o[o.length-1]);return l}var Iy;function Mf(e){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mf(e)}function Pd(){return Pd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pd.apply(this,arguments)}function lM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lM(Object(r),!0).forEach(function(n){Mi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rH(n.key),n)}}function M$e(e,t,r){return t&&cM(e.prototype,t),r&&cM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function L$e(e,t,r){return t=wb(t),F$e(e,tH()?Reflect.construct(t,r||[],wb(e).constructor):t.apply(e,r))}function F$e(e,t){if(t&&(Mf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B$e(e)}function B$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tH=function(){return!!e})()}function wb(e){return wb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wb(e)}function q$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iC(e,t)}function iC(e,t){return iC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},iC(e,t)}function Mi(e,t,r){return t=rH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rH(e){var t=U$e(e,"string");return Mf(t)=="symbol"?t:t+""}function U$e(e,t){if(Mf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Zo=function(e){function t(r){var n;return $$e(this,t),n=L$e(this,t,[r]),Mi(n,"pieRef",null),Mi(n,"sectorRefs",[]),Mi(n,"id",xh("recharts-pie-")),Mi(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ot(a)&&a()}),Mi(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ot(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return q$e(t,e),M$e(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=ft(this.props,!1),f=ft(o,!1),h=ft(l,!1),p=o&&o.offsetRadius||20,y=n.map(function(m,v){var x=(m.startAngle+m.endAngle)/2,b=Yr(m.cx,m.cy,m.outerRadius+p,x),w=Hr(Hr(Hr(Hr({},d),m),{},{stroke:"none"},f),{},{index:v,textAnchor:t.getTextAnchor(b.x,m.cx)},b),j=Hr(Hr(Hr(Hr({},d),m),{},{fill:"none",stroke:m.fill},h),{},{index:v,points:[Yr(m.cx,m.cy,m.outerRadius,x),b]}),S=c;return Dt(c)&&Dt(u)?S="value":Dt(c)&&(S=u),R.createElement(br,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(v)},l&&t.renderLabelLineItem(l,j,"line"),t.renderLabelItem(o,w,Bn(m,S)))});return R.createElement(br,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=c&&a.hasActiveIndex()?c:null,p=f?o:h,y=Hr(Hr({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return R.createElement(br,Pd({ref:function(v){v&&!a.sectorRefs.includes(v)&&a.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},Iu(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),R.createElement(eH,Pd({option:p,isActive:f,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return R.createElement(to,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var m=y.t,v=[],x=i&&i[0],b=x.startAngle;return i.forEach(function(w,j){var S=h&&h[j],_=j>0?bi(w,"paddingAngle",0):0;if(S){var N=ci(S.endAngle-S.startAngle,w.endAngle-w.startAngle),C=Hr(Hr({},w),{},{startAngle:b+_,endAngle:b+N(m)+_});v.push(C),b=C.endAngle}else{var E=w.endAngle,A=w.startAngle,O=ci(0,E-A),P=O(m),k=Hr(Hr({},w),{},{startAngle:b+_,endAngle:b+P+_});v.push(k),b=k.endAngle}}),R.createElement(br,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!Wv(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,p=a.isAnimationActive,y=this.state.isAnimationFinished;if(i||!o||!o.length||!Pe(u)||!Pe(d)||!Pe(f)||!Pe(h))return null;var m=It("recharts-pie",l);return R.createElement(br,{tabIndex:this.props.rootTabIndex,className:m,ref:function(x){n.pieRef=x}},this.renderSectors(),c&&this.renderLabels(o),Gn.renderCallByParent(this.props,null,!1),(!p||y)&&To.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(R.isValidElement(n))return R.cloneElement(n,a);if(Ot(n))return n(a);var o=It("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return R.createElement(fb,Pd({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(R.isValidElement(n))return R.cloneElement(n,a);var o=i;if(Ot(n)&&(o=n(a),R.isValidElement(o)))return o;var l=It("recharts-pie-label-text",typeof n!="boolean"&&!Ot(n)?n.className:"");return R.createElement(Ru,Pd({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(g.PureComponent);Iy=Zo;Mi(Zo,"displayName","Pie");Mi(Zo,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Vu.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Mi(Zo,"parseDeltaAngle",function(e,t){var r=Na(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Mi(Zo,"getRealPieData",function(e){var t=e.data,r=e.children,n=ft(e,!1),a=wi(r,xw);return t&&t.length?t.map(function(i,o){return Hr(Hr(Hr({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Hr(Hr({},n),i.props)}):[]});Mi(Zo,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=MV(a,i),l=n+Ca(e.cx,a,a/2),c=r+Ca(e.cy,i,i/2),u=Ca(e.innerRadius,o,0),d=Ca(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Mi(Zo,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Hr(Hr({},t.type.defaultProps),t.props):t.props,a=Iy.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),y=Iy.parseCoordinateOfPie(n,r),m=Iy.parseDeltaAngle(o,l),v=Math.abs(m),x=u;Dt(u)&&Dt(f)?(Ss(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):Dt(u)&&(Ss(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=f);var b=a.filter(function(C){return Bn(C,x,0)!==0}).length,w=(v>=360?b:b-1)*c,j=v-b*p-w,S=a.reduce(function(C,E){var A=Bn(E,x,0);return C+(Pe(A)?A:0)},0),_;if(S>0){var N;_=a.map(function(C,E){var A=Bn(C,x,0),O=Bn(C,d,E),P=(Pe(A)?A:0)/S,k;E?k=N.endAngle+Na(m)*c*(A!==0?1:0):k=o;var I=k+Na(m)*((A!==0?p:0)+P*j),M=(k+I)/2,L=(y.innerRadius+y.outerRadius)/2,$=[{name:O,value:A,payload:C,dataKey:x,type:h}],D=Yr(y.cx,y.cy,L,M);return N=Hr(Hr(Hr({percent:P,cornerRadius:i,name:O,tooltipPayload:$,midAngle:M,middleRadius:L,tooltipPosition:D},C),y),{},{value:Bn(C,x),startAngle:k,endAngle:I,payload:C,paddingAngle:Na(m)*c}),N})}return Hr(Hr({},y),{},{sectors:_,data:a})});var z$e=Math.ceil,W$e=Math.max;function V$e(e,t,r,n){for(var a=-1,i=W$e(z$e((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=e,e+=r;return o}var H$e=V$e,G$e=_W,uM=1/0,K$e=17976931348623157e292;function Y$e(e){if(!e)return e===0?e:0;if(e=G$e(e),e===uM||e===-uM){var t=e<0?-1:1;return t*K$e}return e===e?e:0}var nH=Y$e,X$e=H$e,Q$e=yw,qS=nH;function J$e(e){return function(t,r,n){return n&&typeof n!="number"&&Q$e(t,r,n)&&(r=n=void 0),t=qS(t),r===void 0?(r=t,t=0):r=qS(r),n=n===void 0?t<r?1:-1:qS(n),X$e(t,r,n,e)}}var Z$e=J$e,eMe=Z$e,tMe=eMe(),rMe=tMe;const jb=Sr(rMe);function Ym(e){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ym(e)}function dM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dM(Object(r),!0).forEach(function(n){aH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aH(e,t,r){return t=nMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nMe(e){var t=aMe(e,"string");return Ym(t)=="symbol"?t:t+""}function aMe(e,t){if(Ym(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iMe=["Webkit","Moz","O","ms"],sMe=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=iMe.reduce(function(i,o){return fM(fM({},i),{},aH({},o+n,r))},{});return a[t]=r,a};function Lf(e){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lf(e)}function Sb(){return Sb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sb.apply(this,arguments)}function hM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function US(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hM(Object(r),!0).forEach(function(n){ii(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sH(n.key),n)}}function lMe(e,t,r){return t&&pM(e.prototype,t),r&&pM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cMe(e,t,r){return t=_b(t),uMe(e,iH()?Reflect.construct(t,r||[],_b(e).constructor):t.apply(e,r))}function uMe(e,t){if(t&&(Lf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dMe(e)}function dMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iH=function(){return!!e})()}function _b(e){return _b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_b(e)}function fMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sC(e,t)}function sC(e,t){return sC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sC(e,t)}function ii(e,t,r){return t=sH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sH(e){var t=hMe(e,"string");return Lf(t)=="symbol"?t:t+""}function hMe(e,t){if(Lf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var pMe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=kp().domain(jb(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},mM=function(t){return t.changedTouches&&!!t.changedTouches.length},Ff=function(e){function t(r){var n;return oMe(this,t),n=cMe(this,t,[r]),ii(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),ii(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),ii(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),ii(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),ii(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),ii(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),ii(n,"handleSlideDragStart",function(a){var i=mM(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return fMe(t,e),lMe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,i),h=Math.max(a,i),p=t.getIndexInRange(o,f),y=t.getIndexInRange(o,h);return{startIndex:p-p%c,endIndex:y===d?d:y-y%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=Bn(i[n],l,n);return Ot(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,y=c.onChange,m=n.pageX-i;m>0?m=Math.min(m,u+d-f-l,u+d-f-o):m<0&&(m=Math.max(m,u-o,u-l));var v=this.getIndex({startX:o+m,endX:l+m});(v.startIndex!==h||v.endIndex!==p)&&y&&y(v),this.setState({startX:o+m,endX:l+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=mM(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,y=d.onChange,m=d.gap,v=d.data,x={startX:this.state.startX,endX:this.state.endX},b=n.pageX-i;b>0?b=Math.min(b,f+h-p-u):b<0&&(b=Math.max(b,f-u)),x[o]=u+b;var w=this.getIndex(x),j=w.startIndex,S=w.endIndex,_=function(){var C=v.length-1;return o==="startX"&&(l>c?j%m===0:S%m===0)||l<c&&S===C||o==="endX"&&(l>c?S%m===0:j%m===0)||l>c&&S===C};this.setState(ii(ii({},o,u+b),"brushMoveStartX",n.pageX),function(){y&&_()&&y(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var p=l[h];a==="startX"&&p>=u||a==="endX"&&p<=c||this.setState(ii({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return R.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=g.Children.only(u);return f?R.cloneElement(f,{x:a,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,y=c.data,m=c.startIndex,v=c.endIndex,x=Math.max(n,this.props.x),b=US(US({},ft(this.props,!1)),{},{x,y:u,width:d,height:f}),w=p||"Min value: ".concat((i=y[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=y[v])===null||o===void 0?void 0:o.name);return R.createElement(br,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),l.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,b))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return R.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,y={pointerEvents:"none",fill:u};return R.createElement(br,{className:"recharts-brush-texts"},R.createElement(Ru,Sb({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+l/2},y),this.getTextOfTick(a)),R.createElement(Ru,Sb({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:o+l/2},y),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,y=h.endX,m=h.isTextActive,v=h.isSlideMoving,x=h.isTravellerMoving,b=h.isTravellerFocused;if(!a||!a.length||!Pe(l)||!Pe(c)||!Pe(u)||!Pe(d)||u<=0||d<=0)return null;var w=It("recharts-brush",i),j=R.Children.count(o)===1,S=sMe("userSelect","none");return R.createElement(br,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(p,y),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(y,"endX"),(m||v||x||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return R.createElement(R.Fragment,null,R.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),R.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),R.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return R.isValidElement(n)?i=R.cloneElement(n,a):Ot(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return US({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?pMe({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(g.PureComponent);ii(Ff,"displayName","Brush");ii(Ff,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var mMe=KO;function vMe(e,t){var r;return mMe(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var gMe=vMe,yMe=Q8,xMe=io,bMe=gMe,wMe=Ja,jMe=yw;function SMe(e,t,r){var n=wMe(e)?yMe:bMe;return r&&jMe(e,t,r)&&(t=void 0),n(e,xMe(t))}var _Me=SMe;const NMe=Sr(_Me);var Xs=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},vM=xW;function CMe(e,t,r){t=="__proto__"&&vM?vM(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var EMe=CMe,PMe=EMe,OMe=gW,AMe=io;function kMe(e,t){var r={};return t=AMe(t),OMe(e,function(n,a,i){PMe(r,a,t(n,a,i))}),r}var TMe=kMe;const DMe=Sr(TMe);function IMe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var RMe=IMe,$Me=KO;function MMe(e,t){var r=!0;return $Me(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var LMe=MMe,FMe=RMe,BMe=LMe,qMe=io,UMe=Ja,zMe=yw;function WMe(e,t,r){var n=UMe(e)?FMe:BMe;return r&&zMe(e,t,r)&&(t=void 0),n(e,qMe(t))}var VMe=WMe;const oH=Sr(VMe);var HMe=["x","y"];function Xm(e){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xm(e)}function oC(){return oC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oC.apply(this,arguments)}function gM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function np(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gM(Object(r),!0).forEach(function(n){GMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GMe(e,t,r){return t=KMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KMe(e){var t=YMe(e,"string");return Xm(t)=="symbol"?t:t+""}function YMe(e,t){if(Xm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XMe(e,t){if(e==null)return{};var r=QMe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function QMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function JMe(e,t){var r=e.x,n=e.y,a=XMe(e,HMe),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return np(np(np(np(np({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function yM(e){return R.createElement(eH,oC({shapeType:"rectangle",propTransformer:JMe,activeClassName:"recharts-active-bar"},e))}var ZMe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=Pe(n)||Oxe(n);return i?t(n,a):(i||nc(),r)}},eLe=["value","background"],lH;function Bf(e){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bf(e)}function tLe(e,t){if(e==null)return{};var r=rLe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rLe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Nb(){return Nb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nb.apply(this,arguments)}function xM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function En(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xM(Object(r),!0).forEach(function(n){Al(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uH(n.key),n)}}function aLe(e,t,r){return t&&bM(e.prototype,t),r&&bM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function iLe(e,t,r){return t=Cb(t),sLe(e,cH()?Reflect.construct(t,r||[],Cb(e).constructor):t.apply(e,r))}function sLe(e,t){if(t&&(Bf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oLe(e)}function oLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cH=function(){return!!e})()}function Cb(e){return Cb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cb(e)}function lLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lC(e,t)}function lC(e,t){return lC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},lC(e,t)}function Al(e,t,r){return t=uH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uH(e){var t=cLe(e,"string");return Bf(t)=="symbol"?t:t+""}function cLe(e,t){if(Bf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Hv=function(e){function t(){var r;nLe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=iLe(this,t,[].concat(a)),Al(r,"state",{isAnimationFinished:!1}),Al(r,"id",xh("recharts-bar-")),Al(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Al(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return lLe(t,e),aLe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=ft(this.props,!1);return n&&n.map(function(f,h){var p=h===c,y=p?u:o,m=En(En(En({},d),f),{},{isActive:p,option:y,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return R.createElement(br,Nb({className:"recharts-bar-rectangle"},Iu(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),R.createElement(yM,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return R.createElement(to,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var y=p.t,m=i.map(function(v,x){var b=h&&h[x];if(b){var w=ci(b.x,v.x),j=ci(b.y,v.y),S=ci(b.width,v.width),_=ci(b.height,v.height);return En(En({},v),{},{x:w(y),y:j(y),width:S(y),height:_(y)})}if(o==="horizontal"){var N=ci(0,v.height),C=N(y);return En(En({},v),{},{y:v.y+v.height-C,height:C})}var E=ci(0,v.width),A=E(y);return En(En({},v),{},{width:A})});return R.createElement(br,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!Wv(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=ft(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=tLe(u,eLe);if(!f)return null;var p=En(En(En(En(En({},h),{},{fill:"#eee"},f),c),Iu(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return R.createElement(yM,Nb({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=wi(d,Vv);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(v,x){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:Bn(v,x)}},y={clipPath:n?"url(#clipPath-".concat(a,")"):null};return R.createElement(br,y,f.map(function(m){return R.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,y=n.background,m=n.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,x=It("recharts-bar",o),b=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,j=b||w,S=Dt(m)?this.id:m;return R.createElement(br,{className:x},b||w?R.createElement("defs",null,R.createElement("clipPath",{id:"clipPath-".concat(S)},R.createElement("rect",{x:b?u:u-f/2,y:w?d:d-h/2,width:b?f:f*2,height:w?h:h*2}))):null,R.createElement(br,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(S,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,S),(!p||v)&&To.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(g.PureComponent);lH=Hv;Al(Hv,"displayName","Bar");Al(Hv,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Vu.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Al(Hv,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=G2e(n,r);if(!p)return null;var y=t.layout,m=r.type.defaultProps,v=m!==void 0?En(En({},m),r.props):r.props,x=v.dataKey,b=v.children,w=v.minPointSize,j=y==="horizontal"?o:i,S=u?j.scale.domain():null,_=eTe({numericAxis:j}),N=wi(b,xw),C=f.map(function(E,A){var O,P,k,I,M,L;u?O=K2e(u[d+A],S):(O=Bn(E,x),Array.isArray(O)||(O=[_,O]));var $=ZMe(w,lH.defaultProps.minPointSize)(O[1],A);if(y==="horizontal"){var D,T=[o.scale(O[0]),o.scale(O[1])],H=T[0],re=T[1];P=c$({axis:i,ticks:l,bandSize:a,offset:p.offset,entry:E,index:A}),k=(D=re??H)!==null&&D!==void 0?D:void 0,I=p.size;var J=H-re;if(M=Number.isNaN(J)?0:J,L={x:P,y:o.y,width:I,height:o.height},Math.abs($)>0&&Math.abs(M)<Math.abs($)){var le=Na(M||$)*(Math.abs($)-Math.abs(M));k-=le,M+=le}}else{var te=[i.scale(O[0]),i.scale(O[1])],Z=te[0],we=te[1];if(P=Z,k=c$({axis:o,ticks:c,bandSize:a,offset:p.offset,entry:E,index:A}),I=we-Z,M=p.size,L={x:i.x,y:k,width:i.width,height:M},Math.abs($)>0&&Math.abs(I)<Math.abs($)){var oe=Na(I||$)*(Math.abs($)-Math.abs(I));I+=oe}}return En(En(En({},E),{},{x:P,y:k,width:I,height:M,value:u?O:O[1],payload:E,background:L},N&&N[A]&&N[A].props),{},{tooltipPayload:[RV(r,E)],tooltipPosition:{x:P+I/2,y:k+M/2}})});return En({data:C,layout:y},h)});function Qm(e){"@babel/helpers - typeof";return Qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qm(e)}function uLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dH(n.key),n)}}function dLe(e,t,r){return t&&wM(e.prototype,t),r&&wM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function jM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ps(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jM(Object(r),!0).forEach(function(n){Lw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lw(e,t,r){return t=dH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dH(e){var t=fLe(e,"string");return Qm(t)=="symbol"?t:t+""}function fLe(e,t){if(Qm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hLe=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!oi(u,Hv);return d.reduce(function(p,y){var m=r[y],v=m.orientation,x=m.domain,b=m.padding,w=b===void 0?{}:b,j=m.mirror,S=m.reversed,_="".concat(v).concat(j?"Mirror":""),N,C,E,A,O;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var P=x[1]-x[0],k=1/0,I=m.categoricalDomain.sort(Txe);if(I.forEach(function(te,Z){Z>0&&(k=Math.min((te||0)-(I[Z-1]||0),k))}),Number.isFinite(k)){var M=k/P,L=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(N=M*L/2),m.padding==="no-gap"){var $=Ca(t.barCategoryGap,M*L),D=M*L/2;N=D-$-(D-$)/L*$}}}a==="xAxis"?C=[n.left+(w.left||0)+(N||0),n.left+n.width-(w.right||0)-(N||0)]:a==="yAxis"?C=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(N||0),n.top+n.height-(w.bottom||0)-(N||0)]:C=m.range,S&&(C=[C[1],C[0]]);var T=kV(m,i,h),H=T.scale,re=T.realScaleType;H.domain(x).range(C),TV(H);var J=DV(H,ps(ps({},m),{},{realScaleType:re}));a==="xAxis"?(O=v==="top"&&!j||v==="bottom"&&j,E=n.left,A=f[_]-O*m.height):a==="yAxis"&&(O=v==="left"&&!j||v==="right"&&j,E=f[_]-O*m.width,A=n.top);var le=ps(ps(ps({},m),J),{},{realScaleType:re,x:E,y:A,scale:H,width:a==="xAxis"?n.width:m.width,height:a==="yAxis"?n.height:m.height});return le.bandSize=cb(le,J),!m.hide&&a==="xAxis"?f[_]+=(O?-1:1)*le.height:m.hide||(f[_]+=(O?-1:1)*le.width),ps(ps({},p),{},Lw({},y,le))},{})},fH=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},pLe=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return fH({x:r,y:n},{x:a,y:i})},hH=function(){function e(t){uLe(this,e),this.scale=t}return dLe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();Lw(hH,"EPS",1e-4);var SA=function(t){var r=Object.keys(t).reduce(function(n,a){return ps(ps({},n),{},Lw({},a,hH.create(t[a])))},{});return ps(ps({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return DMe(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return oH(a,function(i,o){return r[o].isInRange(i)})}})};function mLe(e){return(e%180+180)%180}var vLe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=mLe(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},gLe=io,yLe=Fv,xLe=vw;function bLe(e){return function(t,r,n){var a=Object(t);if(!yLe(t)){var i=gLe(r);t=xLe(t),r=function(l){return i(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}}var wLe=bLe,jLe=nH;function SLe(e){var t=jLe(e),r=t%1;return t===t?r?t-r:t:0}var _Le=SLe,NLe=dW,CLe=io,ELe=_Le,PLe=Math.max;function OLe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:ELe(r);return a<0&&(a=PLe(n+a,0)),NLe(e,CLe(t),a)}var ALe=OLe,kLe=wLe,TLe=ALe,DLe=kLe(TLe),ILe=DLe;const RLe=Sr(ILe);var $Le=Rye(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),_A=g.createContext(void 0),NA=g.createContext(void 0),pH=g.createContext(void 0),mH=g.createContext({}),vH=g.createContext(void 0),gH=g.createContext(0),yH=g.createContext(0),SM=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=$Le(i);return R.createElement(_A.Provider,{value:n},R.createElement(NA.Provider,{value:a},R.createElement(mH.Provider,{value:i},R.createElement(pH.Provider,{value:d},R.createElement(vH.Provider,{value:o},R.createElement(gH.Provider,{value:u},R.createElement(yH.Provider,{value:c},l)))))))},MLe=function(){return g.useContext(vH)},xH=function(t){var r=g.useContext(_A);r==null&&nc();var n=r[t];return n==null&&nc(),n},LLe=function(){var t=g.useContext(_A);return gl(t)},FLe=function(){var t=g.useContext(NA),r=RLe(t,function(n){return oH(n.domain,Number.isFinite)});return r||gl(t)},bH=function(t){var r=g.useContext(NA);r==null&&nc();var n=r[t];return n==null&&nc(),n},BLe=function(){var t=g.useContext(pH);return t},qLe=function(){return g.useContext(mH)},CA=function(){return g.useContext(yH)},EA=function(){return g.useContext(gH)};function qf(e){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qf(e)}function ULe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zLe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jH(n.key),n)}}function WLe(e,t,r){return t&&zLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function VLe(e,t,r){return t=Eb(t),HLe(e,wH()?Reflect.construct(t,r||[],Eb(e).constructor):t.apply(e,r))}function HLe(e,t){if(t&&(qf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GLe(e)}function GLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wH=function(){return!!e})()}function Eb(e){return Eb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Eb(e)}function KLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cC(e,t)}function cC(e,t){return cC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cC(e,t)}function _M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function NM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_M(Object(r),!0).forEach(function(n){PA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_M(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PA(e,t,r){return t=jH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jH(e){var t=YLe(e,"string");return qf(t)=="symbol"?t:t+""}function YLe(e,t){if(qf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function XLe(e,t){return eFe(e)||ZLe(e,t)||JLe(e,t)||QLe()}function QLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JLe(e,t){if(e){if(typeof e=="string")return CM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CM(e,t)}}function CM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ZLe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function eFe(e){if(Array.isArray(e))return e}function uC(){return uC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uC.apply(this,arguments)}var tFe=function(t,r){var n;return R.isValidElement(t)?n=R.cloneElement(t,r):Ot(t)?n=t(r):n=R.createElement("line",uC({},r,{className:"recharts-reference-line-line"})),n},rFe=function(t,r,n,a,i,o,l,c,u){var d=i.x,f=i.y,h=i.width,p=i.height;if(n){var y=u.y,m=t.y.apply(y,{position:o});if(Xs(u,"discard")&&!t.y.isInRange(m))return null;var v=[{x:d+h,y:m},{x:d,y:m}];return c==="left"?v.reverse():v}if(r){var x=u.x,b=t.x.apply(x,{position:o});if(Xs(u,"discard")&&!t.x.isInRange(b))return null;var w=[{x:b,y:f+p},{x:b,y:f}];return l==="top"?w.reverse():w}if(a){var j=u.segment,S=j.map(function(_){return t.apply(_,{position:o})});return Xs(u,"discard")&&NMe(S,function(_){return!t.isInRange(_)})?null:S}return null};function nFe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=MLe(),d=xH(a),f=bH(i),h=BLe();if(!u||!h)return null;Ss(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=SA({x:d.scale,y:f.scale}),y=Un(t),m=Un(r),v=n&&n.length===2,x=rFe(p,y,m,v,h,e.position,d.orientation,f.orientation,e);if(!x)return null;var b=XLe(x,2),w=b[0],j=w.x,S=w.y,_=b[1],N=_.x,C=_.y,E=Xs(e,"hidden")?"url(#".concat(u,")"):void 0,A=NM(NM({clipPath:E},ft(e,!0)),{},{x1:j,y1:S,x2:N,y2:C});return R.createElement(br,{className:It("recharts-reference-line",l)},tFe(o,A),Gn.renderCallByParent(e,pLe({x1:j,y1:S,x2:N,y2:C})))}var OA=function(e){function t(){return ULe(this,t),VLe(this,t,arguments)}return KLe(t,e),WLe(t,[{key:"render",value:function(){return R.createElement(nFe,this.props)}}])}(R.Component);PA(OA,"displayName","ReferenceLine");PA(OA,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function dC(){return dC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dC.apply(this,arguments)}function Uf(e){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uf(e)}function EM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EM(Object(r),!0).forEach(function(n){Fw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_H(n.key),n)}}function sFe(e,t,r){return t&&iFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function oFe(e,t,r){return t=Pb(t),lFe(e,SH()?Reflect.construct(t,r||[],Pb(e).constructor):t.apply(e,r))}function lFe(e,t){if(t&&(Uf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cFe(e)}function cFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SH=function(){return!!e})()}function Pb(e){return Pb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pb(e)}function uFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fC(e,t)}function fC(e,t){return fC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},fC(e,t)}function Fw(e,t,r){return t=_H(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _H(e){var t=dFe(e,"string");return Uf(t)=="symbol"?t:t+""}function dFe(e,t){if(Uf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fFe=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=SA({x:a.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Xs(t,"discard")&&!o.isInRange(l)?null:l},Bw=function(e){function t(){return aFe(this,t),oFe(this,t,arguments)}return uFe(t,e),sFe(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Un(a),d=Un(i);if(Ss(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=fFe(this.props);if(!f)return null;var h=f.x,p=f.y,y=this.props,m=y.shape,v=y.className,x=Xs(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=PM(PM({clipPath:x},ft(this.props,!0)),{},{cx:h,cy:p});return R.createElement(br,{className:It("recharts-reference-dot",v)},t.renderDot(m,b),Gn.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(R.Component);Fw(Bw,"displayName","ReferenceDot");Fw(Bw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Fw(Bw,"renderDot",function(e,t){var r;return R.isValidElement(e)?r=R.cloneElement(e,t):Ot(e)?r=e(t):r=R.createElement(kw,dC({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function hC(){return hC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hC.apply(this,arguments)}function zf(e){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zf(e)}function OM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function AM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OM(Object(r),!0).forEach(function(n){qw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,CH(n.key),n)}}function mFe(e,t,r){return t&&pFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vFe(e,t,r){return t=Ob(t),gFe(e,NH()?Reflect.construct(t,r||[],Ob(e).constructor):t.apply(e,r))}function gFe(e,t){if(t&&(zf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yFe(e)}function yFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NH=function(){return!!e})()}function Ob(e){return Ob=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ob(e)}function xFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pC(e,t)}function pC(e,t){return pC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},pC(e,t)}function qw(e,t,r){return t=CH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CH(e){var t=bFe(e,"string");return zf(t)=="symbol"?t:t+""}function bFe(e,t){if(zf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var wFe=function(t,r,n,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=SA({x:d.scale,y:f.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},y={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Xs(i,"discard")&&(!h.isInRange(p)||!h.isInRange(y))?null:fH(p,y)},Uw=function(e){function t(){return hFe(this,t),vFe(this,t,arguments)}return xFe(t,e),mFe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Ss(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Un(a),h=Un(i),p=Un(o),y=Un(l),m=this.props.shape;if(!f&&!h&&!p&&!y&&!m)return null;var v=wFe(f,h,p,y,this.props);if(!v&&!m)return null;var x=Xs(this.props,"hidden")?"url(#".concat(d,")"):void 0;return R.createElement(br,{className:It("recharts-reference-area",c)},t.renderRect(m,AM(AM({clipPath:x},ft(this.props,!0)),v)),Gn.renderCallByParent(this.props,v))}}])}(R.Component);qw(Uw,"displayName","ReferenceArea");qw(Uw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});qw(Uw,"renderRect",function(e,t){var r;return R.isValidElement(e)?r=R.cloneElement(e,t):Ot(e)?r=e(t):r=R.createElement(jA,hC({},t,{className:"recharts-reference-area-rect"})),r});function EH(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function jFe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return vLe(n,r)}function SFe(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function Ab(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function _Fe(e,t){return EH(e,t+1)}function NFe(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var y=n==null?void 0:n[c];if(y===void 0)return{v:EH(n,u)};var m=c,v,x=function(){return v===void 0&&(v=r(y,m)),v},b=y.coordinate,w=c===0||Ab(e,b,x,d,l);w||(c=0,d=o,u+=1),w&&(d=b+e*(x()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function Jm(e){"@babel/helpers - typeof";return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jm(e)}function kM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kM(Object(r),!0).forEach(function(n){CFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CFe(e,t,r){return t=EFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EFe(e){var t=PFe(e,"string");return Jm(t)=="symbol"?t:t+""}function PFe(e,t){if(Jm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OFe(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var p=i[h],y,m=function(){return y===void 0&&(y=r(p,h)),y};if(h===o-1){var v=e*(p.coordinate+e*m()/2-c);i[h]=p=fa(fa({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else i[h]=p=fa(fa({},p),{},{tickCoord:p.coordinate});var x=Ab(e,p.tickCoord,m,l,c);x&&(c=p.tickCoord-e*(m()/2+a),i[h]=fa(fa({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function AFe(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=fa(fa({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=Ab(e,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-e*(f/2+a),o[l-1]=fa(fa({},d),{},{isShow:!0}))}for(var y=i?l-1:l,m=function(b){var w=o[b],j,S=function(){return j===void 0&&(j=r(w,b)),j};if(b===0){var _=e*(w.coordinate-e*S()/2-c);o[b]=w=fa(fa({},w),{},{tickCoord:_<0?w.coordinate-_*e:w.coordinate})}else o[b]=w=fa(fa({},w),{},{tickCoord:w.coordinate});var N=Ab(e,w.tickCoord,S,c,u);N&&(c=w.tickCoord+e*(S()/2+a),o[b]=fa(fa({},w),{},{isShow:!0}))},v=0;v<y;v++)m(v);return o}function AA(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(Pe(c)||Vu.isSsr)return _Fe(a,typeof c=="number"&&Pe(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",y=d&&p==="width"?Ap(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(w,j){var S=Ot(u)?u(w.value,j):w.value;return p==="width"?jFe(Ap(S,{fontSize:t,letterSpacing:r}),y,f):Ap(S,{fontSize:t,letterSpacing:r})[p]},v=a.length>=2?Na(a[1].coordinate-a[0].coordinate):1,x=SFe(i,v,p);return c==="equidistantPreserveStart"?NFe(v,x,m,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=AFe(v,x,m,a,o,c==="preserveStartEnd"):h=OFe(v,x,m,a,o),h.filter(function(b){return b.isShow}))}var kFe=["viewBox"],TFe=["viewBox"],DFe=["ticks"];function Wf(e){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wf(e)}function Od(){return Od=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Od.apply(this,arguments)}function TM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TM(Object(r),!0).forEach(function(n){kA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zS(e,t){if(e==null)return{};var r=IFe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function IFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function RFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OH(n.key),n)}}function $Fe(e,t,r){return t&&DM(e.prototype,t),r&&DM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function MFe(e,t,r){return t=kb(t),LFe(e,PH()?Reflect.construct(t,r||[],kb(e).constructor):t.apply(e,r))}function LFe(e,t){if(t&&(Wf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FFe(e)}function FFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PH=function(){return!!e})()}function kb(e){return kb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kb(e)}function BFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mC(e,t)}function mC(e,t){return mC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},mC(e,t)}function kA(e,t,r){return t=OH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OH(e){var t=qFe(e,"string");return Wf(t)=="symbol"?t:t+""}function qFe(e,t){if(Wf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ch=function(e){function t(r){var n;return RFe(this,t),n=MFe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return BFe(t,e),$Fe(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=zS(n,kFe),l=this.props,c=l.viewBox,u=zS(l,TFe);return!Wd(i,c)||!Wd(o,u)||!Wd(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,p,y,m,v,x,b,w=f?-1:1,j=n.tickSize||d,S=Pe(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=y=n.coordinate,v=o+ +!f*c,m=v-w*j,b=m-w*h,x=S;break;case"left":m=v=n.coordinate,y=i+ +!f*l,p=y-w*j,x=p-w*h,b=S;break;case"right":m=v=n.coordinate,y=i+ +f*l,p=y+w*j,x=p+w*h,b=S;break;default:p=y=n.coordinate,v=o+ +f*c,m=v+w*j,b=m+w*h,x=S;break}return{line:{x1:p,y1:m,x2:y,y2:v},tick:{x,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Rn(Rn(Rn({},ft(this.props,!1)),ft(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Rn(Rn({},f),{},{x1:a,y1:i+h*l,x2:a+o,y2:i+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=Rn(Rn({},f),{},{x1:a+p*o,y1:i,x2:a+p*o,y2:i+l})}return R.createElement("line",Od({},f,{className:It("recharts-cartesian-axis-line",bi(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,p=AA(Rn(Rn({},this.props),{},{ticks:n}),a,i),y=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),v=ft(this.props,!1),x=ft(d,!1),b=Rn(Rn({},v),{},{fill:"none"},ft(c,!1)),w=p.map(function(j,S){var _=o.getTickLineCoord(j),N=_.line,C=_.tick,E=Rn(Rn(Rn(Rn({textAnchor:y,verticalAnchor:m},v),{},{stroke:"none",fill:u},x),C),{},{index:S,payload:j,visibleTicksCount:p.length,tickFormatter:f});return R.createElement(br,Od({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},Iu(o.props,j,S)),c&&R.createElement("line",Od({},b,N,{className:It("recharts-cartesian-axis-tick-line",bi(c,"className"))})),d&&t.renderTickItem(d,E,"".concat(Ot(f)?f(j.value,S):j.value).concat(h||"")))});return R.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,p=zS(f,DFe),y=h;return Ot(c)&&(y=h&&h.length>0?c(this.props):c(p)),o<=0||l<=0||!y||!y.length?null:R.createElement(br,{className:It("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),Gn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o,l=It(a.className,"recharts-cartesian-axis-tick-value");return R.isValidElement(n)?o=R.cloneElement(n,Rn(Rn({},a),{},{className:l})):Ot(n)?o=n(Rn(Rn({},a),{},{className:l})):o=R.createElement(Ru,Od({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(g.Component);kA(Ch,"displayName","CartesianAxis");kA(Ch,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var UFe=["x1","y1","x2","y2","key"],zFe=["offset"];function Mu(e){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mu(e)}function IM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function va(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IM(Object(r),!0).forEach(function(n){WFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WFe(e,t,r){return t=VFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VFe(e){var t=HFe(e,"string");return Mu(t)=="symbol"?t:t+""}function HFe(e,t){if(Mu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jc(){return Jc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jc.apply(this,arguments)}function RM(e,t){if(e==null)return{};var r=GFe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var KFe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return R.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function AH(e,t){var r;if(R.isValidElement(e))r=R.cloneElement(e,t);else if(Ot(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=RM(t,UFe),u=ft(c,!1);u.offset;var d=RM(u,zFe);r=R.createElement("line",Jc({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function YFe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=va(va({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return AH(a,u)});return R.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function XFe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=va(va({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return AH(a,u)});return R.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function QFe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var y=!d[p+1],m=y?a+o-h:d[p+1]-h;if(m<=0)return null;var v=p%t.length;return R.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function JFe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var y=!d[p+1],m=y?i+l-h:d[p+1]-h;if(m<=0)return null;var v=p%n.length;return R.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:m,height:c,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var ZFe=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return AV(AA(va(va(va({},Ch.defaultProps),n),{},{ticks:Co(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},e4e=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return AV(AA(va(va(va({},Ch.defaultProps),n),{},{ticks:Co(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},ud={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function kH(e){var t,r,n,a,i,o,l=CA(),c=EA(),u=qLe(),d=va(va({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:ud.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:ud.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:ud.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:ud.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:ud.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:ud.verticalFill,x:Pe(e.x)?e.x:u.left,y:Pe(e.y)?e.y:u.top,width:Pe(e.width)?e.width:u.width,height:Pe(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,y=d.height,m=d.syncWithTicks,v=d.horizontalValues,x=d.verticalValues,b=LLe(),w=FLe();if(!Pe(p)||p<=0||!Pe(y)||y<=0||!Pe(f)||f!==+f||!Pe(h)||h!==+h)return null;var j=d.verticalCoordinatesGenerator||ZFe,S=d.horizontalCoordinatesGenerator||e4e,_=d.horizontalPoints,N=d.verticalPoints;if((!_||!_.length)&&Ot(S)){var C=v&&v.length,E=S({yAxis:w?va(va({},w),{},{ticks:C?v:w.ticks}):void 0,width:l,height:c,offset:u},C?!0:m);Ss(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Mu(E),"]")),Array.isArray(E)&&(_=E)}if((!N||!N.length)&&Ot(j)){var A=x&&x.length,O=j({xAxis:b?va(va({},b),{},{ticks:A?x:b.ticks}):void 0,width:l,height:c,offset:u},A?!0:m);Ss(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Mu(O),"]")),Array.isArray(O)&&(N=O)}return R.createElement("g",{className:"recharts-cartesian-grid"},R.createElement(KFe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),R.createElement(YFe,Jc({},d,{offset:u,horizontalPoints:_,xAxis:b,yAxis:w})),R.createElement(XFe,Jc({},d,{offset:u,verticalPoints:N,xAxis:b,yAxis:w})),R.createElement(QFe,Jc({},d,{horizontalPoints:_})),R.createElement(JFe,Jc({},d,{verticalPoints:N})))}kH.displayName="CartesianGrid";var t4e=["type","layout","connectNulls","ref"],r4e=["key"];function Vf(e){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vf(e)}function $M(e,t){if(e==null)return{};var r=n4e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function n4e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $p(){return $p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$p.apply(this,arguments)}function MM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ni(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MM(Object(r),!0).forEach(function(n){ms(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dd(e){return o4e(e)||s4e(e)||i4e(e)||a4e()}function a4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i4e(e,t){if(e){if(typeof e=="string")return vC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vC(e,t)}}function s4e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function o4e(e){if(Array.isArray(e))return vC(e)}function vC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DH(n.key),n)}}function c4e(e,t,r){return t&&LM(e.prototype,t),r&&LM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u4e(e,t,r){return t=Tb(t),d4e(e,TH()?Reflect.construct(t,r||[],Tb(e).constructor):t.apply(e,r))}function d4e(e,t){if(t&&(Vf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f4e(e)}function f4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TH=function(){return!!e})()}function Tb(e){return Tb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tb(e)}function h4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gC(e,t)}function gC(e,t){return gC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},gC(e,t)}function ms(e,t,r){return t=DH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DH(e){var t=p4e(e,"string");return Vf(t)=="symbol"?t:t+""}function p4e(e,t){if(Vf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var mu=function(e){function t(){var r;l4e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=u4e(this,t,[].concat(a)),ms(r,"state",{isAnimationFinished:!0,totalLength:0}),ms(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),ms(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(x,b){return x+b});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,h=l-o,p=[],y=0,m=0;y<c.length;m+=c[y],++y)if(m+c[y]>f){p=[].concat(dd(c.slice(0,y)),[f-m]);break}var v=p.length%2===0?[0,h]:[h];return[].concat(dd(t.repeat(c,d)),dd(p),v).map(function(x){return"".concat(x,"px")}).join(", ")}),ms(r,"id",xh("recharts-line-")),ms(r,"pathRef",function(o){r.mainCurve=o}),ms(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),ms(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return h4e(t,e),c4e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=wi(d,Vv);if(!f)return null;var h=function(m,v){return{x:m.x,y:m.y,value:m.value,errorVal:Bn(m.payload,v)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return R.createElement(br,p,f.map(function(y){return R.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=ft(this.props,!1),h=ft(c,!0),p=u.map(function(m,v){var x=ni(ni(ni({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:m.x,cy:m.y,value:m.value,dataKey:d,payload:m.payload,points:u});return t.renderDotItem(c,x)}),y={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return R.createElement(br,$p({className:"recharts-line-dots",key:"dots"},y),p)}},{key:"renderCurveStatically",value:function(n,a,i,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=$M(l,t4e),h=ni(ni(ni({},ft(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return R.createElement(fb,$p({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,y=o.animateNewValues,m=o.width,v=o.height,x=this.state,b=x.prevPoints,w=x.totalLength;return R.createElement(to,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var S=j.t;if(b){var _=b.length/l.length,N=l.map(function(P,k){var I=Math.floor(k*_);if(b[I]){var M=b[I],L=ci(M.x,P.x),$=ci(M.y,P.y);return ni(ni({},P),{},{x:L(S),y:$(S)})}if(y){var D=ci(m*2,P.x),T=ci(v/2,P.y);return ni(ni({},P),{},{x:D(S),y:T(S)})}return ni(ni({},P),{},{x:P.x,y:P.y})});return i.renderCurveStatically(N,n,a)}var C=ci(0,w),E=C(S),A;if(c){var O="".concat(c).split(/[,\s]+/gim).map(function(P){return parseFloat(P)});A=i.getStrokeDasharray(E,w,O)}else A=i.generateSimpleStrokeDasharray(w,E);return i.renderCurveStatically(l,n,a,{strokeDasharray:A})})}},{key:"renderCurve",value:function(n,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!Wv(u,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,f=a.top,h=a.left,p=a.width,y=a.height,m=a.isAnimationActive,v=a.id;if(i||!l||!l.length)return null;var x=this.state.isAnimationFinished,b=l.length===1,w=It("recharts-line",c),j=u&&u.allowDataOverflow,S=d&&d.allowDataOverflow,_=j||S,N=Dt(v)?this.id:v,C=(n=ft(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},E=C.r,A=E===void 0?3:E,O=C.strokeWidth,P=O===void 0?2:O,k=qxe(o)?o:{},I=k.clipDot,M=I===void 0?!0:I,L=A*2+P;return R.createElement(br,{className:w},j||S?R.createElement("defs",null,R.createElement("clipPath",{id:"clipPath-".concat(N)},R.createElement("rect",{x:j?h:h-p/2,y:S?f:f-y/2,width:j?p:p*2,height:S?y:y*2})),!M&&R.createElement("clipPath",{id:"clipPath-dots-".concat(N)},R.createElement("rect",{x:h-L/2,y:f-L/2,width:p+L,height:y+L}))):null,!b&&this.renderCurve(_,N),this.renderErrorBar(_,N),(b||o)&&this.renderDots(_,M,N),(!m||x)&&To.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(dd(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(dd(o),dd(i));return o}},{key:"renderDotItem",value:function(n,a){var i;if(R.isValidElement(n))i=R.cloneElement(n,a);else if(Ot(n))i=n(a);else{var o=a.key,l=$M(a,r4e),c=It("recharts-line-dot",typeof n!="boolean"?n.className:"");i=R.createElement(kw,$p({key:o},l,{className:c}))}return i}}])}(g.PureComponent);ms(mu,"displayName","Line");ms(mu,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Vu.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ms(mu,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,p){var y=Bn(h,o);return d==="horizontal"?{x:l$({axis:r,ticks:a,bandSize:l,entry:h,index:p}),y:Dt(y)?null:n.scale(y),value:y,payload:h}:{x:Dt(y)?null:r.scale(y),y:l$({axis:n,ticks:i,bandSize:l,entry:h,index:p}),value:y,payload:h}});return ni({points:f,layout:d},u)});function Hf(e){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hf(e)}function m4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v4e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$H(n.key),n)}}function g4e(e,t,r){return t&&v4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function y4e(e,t,r){return t=Db(t),x4e(e,IH()?Reflect.construct(t,r||[],Db(e).constructor):t.apply(e,r))}function x4e(e,t){if(t&&(Hf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b4e(e)}function b4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IH=function(){return!!e})()}function Db(e){return Db=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Db(e)}function w4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yC(e,t)}function yC(e,t){return yC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},yC(e,t)}function RH(e,t,r){return t=$H(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $H(e){var t=j4e(e,"string");return Hf(t)=="symbol"?t:t+""}function j4e(e,t){if(Hf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function xC(){return xC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xC.apply(this,arguments)}function S4e(e){var t=e.xAxisId,r=CA(),n=EA(),a=xH(t);return a==null?null:g.createElement(Ch,xC({},a,{className:It("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Co(o,!0)}}))}var zw=function(e){function t(){return m4e(this,t),y4e(this,t,arguments)}return w4e(t,e),g4e(t,[{key:"render",value:function(){return g.createElement(S4e,this.props)}}])}(g.Component);RH(zw,"displayName","XAxis");RH(zw,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Gf(e){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gf(e)}function _4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N4e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FH(n.key),n)}}function C4e(e,t,r){return t&&N4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function E4e(e,t,r){return t=Ib(t),P4e(e,MH()?Reflect.construct(t,r||[],Ib(e).constructor):t.apply(e,r))}function P4e(e,t){if(t&&(Gf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O4e(e)}function O4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MH=function(){return!!e})()}function Ib(e){return Ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ib(e)}function A4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bC(e,t)}function bC(e,t){return bC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bC(e,t)}function LH(e,t,r){return t=FH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FH(e){var t=k4e(e,"string");return Gf(t)=="symbol"?t:t+""}function k4e(e,t){if(Gf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function wC(){return wC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wC.apply(this,arguments)}var T4e=function(t){var r=t.yAxisId,n=CA(),a=EA(),i=bH(r);return i==null?null:g.createElement(Ch,wC({},i,{className:It("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return Co(l,!0)}}))},Ww=function(e){function t(){return _4e(this,t),E4e(this,t,arguments)}return A4e(t,e),C4e(t,[{key:"render",value:function(){return g.createElement(T4e,this.props)}}])}(g.Component);LH(Ww,"displayName","YAxis");LH(Ww,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function FM(e){return $4e(e)||R4e(e)||I4e(e)||D4e()}function D4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I4e(e,t){if(e){if(typeof e=="string")return jC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jC(e,t)}}function R4e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $4e(e){if(Array.isArray(e))return jC(e)}function jC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var SC=function(t,r,n,a,i){var o=wi(t,OA),l=wi(t,Bw),c=[].concat(FM(o),FM(l)),u=wi(t,Uw),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(m,v){if(v.props[d]===n&&Xs(v.props,"extendDomain")&&Pe(v.props[f])){var x=v.props[f];return[Math.min(m[0],x),Math.max(m[1],x)]}return m},h)),u.length){var p="".concat(f,"1"),y="".concat(f,"2");h=u.reduce(function(m,v){if(v.props[d]===n&&Xs(v.props,"extendDomain")&&Pe(v.props[p])&&Pe(v.props[y])){var x=v.props[p],b=v.props[y];return[Math.min(m[0],x,b),Math.max(m[1],x,b)]}return m},h)}return i&&i.length&&(h=i.reduce(function(m,v){return Pe(v)?[Math.min(m[0],v),Math.max(m[1],v)]:m},h)),h},BH={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||c,h),y=r?r+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],p]:c._events[y].push(p):(c._events[y]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,y=new Array(p);h<p;h++)y[h]=f[h].fn;return y},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,p,y){var m=r?r+u:u;if(!this._events[m])return!1;var v=this._events[m],x=arguments.length,b,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,p),!0;case 6:return v.fn.call(v.context,d,f,h,p,y),!0}for(w=1,b=new Array(x-1);w<x;w++)b[w-1]=arguments[w];v.fn.apply(v.context,b)}else{var j=v.length,S;for(w=0;w<j;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),x){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,f);break;case 4:v[w].fn.call(v[w].context,d,f,h);break;default:if(!b)for(S=1,b=new Array(x-1);S<x;S++)b[S-1]=arguments[S];v[w].fn.apply(v[w].context,b)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var y=this._events[p];if(y.fn)y.fn===d&&(!h||y.once)&&(!f||y.context===f)&&o(this,p);else{for(var m=0,v=[],x=y.length;m<x;m++)(y[m].fn!==d||h&&!y[m].once||f&&y[m].context!==f)&&v.push(y[m]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(BH);var M4e=BH.exports;const L4e=Sr(M4e);var WS=new L4e,VS="recharts.syncMouseEvents";function Zm(e){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zm(e)}function F4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B4e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qH(n.key),n)}}function q4e(e,t,r){return t&&B4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HS(e,t,r){return t=qH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qH(e){var t=U4e(e,"string");return Zm(t)=="symbol"?t:t+""}function U4e(e,t){if(Zm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var z4e=function(){function e(){F4e(this,e),HS(this,"activeIndex",0),HS(this,"coordinateList",[]),HS(this,"layout","horizontal")}return q4e(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function W4e(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&Pe(n)&&Pe(a))return!0}return!1}function V4e(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function UH(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=Yr(t,r,n,a),l=Yr(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function H4e(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Yr(l,c,u,f),p=Yr(l,c,d,f);n=h.x,a=h.y,i=p.x,o=p.y}else return UH(t);return[{x:n,y:a},{x:i,y:o}]}function ev(e){"@babel/helpers - typeof";return ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ev(e)}function BM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ly(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BM(Object(r),!0).forEach(function(n){G4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G4e(e,t,r){return t=K4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K4e(e){var t=Y4e(e,"string");return ev(t)=="symbol"?t:t+""}function Y4e(e,t){if(ev(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ev(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X4e(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!o||h!=="ScatterChart"&&a!=="axis")return null;var y,m=fb;if(h==="ScatterChart")y=o,m=hRe;else if(h==="BarChart")y=V4e(f,o,c,d),m=jA;else if(f==="radial"){var v=UH(o),x=v.cx,b=v.cy,w=v.radius,j=v.startAngle,S=v.endAngle;y={cx:x,cy:b,startAngle:j,endAngle:S,innerRadius:w,outerRadius:w},m=qV}else y={points:H4e(f,o,c)},m=fb;var _=ly(ly(ly(ly({stroke:"#ccc",pointerEvents:"none"},c),y),ft(p,!1)),{},{payload:l,payloadIndex:u,className:It("recharts-tooltip-cursor",p.className)});return g.isValidElement(p)?g.cloneElement(p,_):g.createElement(m,_)}var Q4e=["item"],J4e=["children","className","width","height","style","compact","title","desc"];function Kf(e){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kf(e)}function Ad(){return Ad=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ad.apply(this,arguments)}function qM(e,t){return t3e(e)||e3e(e,t)||WH(e,t)||Z4e()}function Z4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e3e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function t3e(e){if(Array.isArray(e))return e}function UM(e,t){if(e==null)return{};var r=r3e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function r3e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function n3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a3e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VH(n.key),n)}}function i3e(e,t,r){return t&&a3e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function s3e(e,t,r){return t=Rb(t),o3e(e,zH()?Reflect.construct(t,r||[],Rb(e).constructor):t.apply(e,r))}function o3e(e,t){if(t&&(Kf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l3e(e)}function l3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zH=function(){return!!e})()}function Rb(e){return Rb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rb(e)}function c3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_C(e,t)}function _C(e,t){return _C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_C(e,t)}function Yf(e){return f3e(e)||d3e(e)||WH(e)||u3e()}function u3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WH(e,t){if(e){if(typeof e=="string")return NC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NC(e,t)}}function d3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function f3e(e){if(Array.isArray(e))return NC(e)}function NC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zM(Object(r),!0).forEach(function(n){gt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gt(e,t,r){return t=VH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VH(e){var t=h3e(e,"string");return Kf(t)=="symbol"?t:t+""}function h3e(e,t){if(Kf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var p3e={xAxis:["bottom","top"],yAxis:["left","right"]},m3e={width:"100%",height:"100%"},HH={x:0,y:0};function cy(e){return e}var v3e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},g3e=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return pe(pe(pe({},a),Yr(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return pe(pe(pe({},a),Yr(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return HH},Vw=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Yf(l),Yf(u)):l},[]);return o.length>0?o:t&&t.length&&Pe(a)&&Pe(i)?t.slice(a,i+1):[]};function GH(e){return e==="number"?[0,"auto"]:void 0}var CC=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,l=Vw(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?l:f;h=Rx(p,o.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(Yf(c),[RV(u,h)]):c},[])},WM=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=v3e(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=q2e(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=CC(t,r,d,f),p=g3e(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},y3e=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=OV(d,i);return n.reduce(function(y,m){var v,x=m.type.defaultProps!==void 0?pe(pe({},m.type.defaultProps),m.props):m.props,b=x.type,w=x.dataKey,j=x.allowDataOverflow,S=x.allowDuplicatedCategory,_=x.scale,N=x.ticks,C=x.includeHidden,E=x[o];if(y[E])return y;var A=Vw(t.data,{graphicalItems:a.filter(function(J){var le,te=o in J.props?J.props[o]:(le=J.type.defaultProps)===null||le===void 0?void 0:le[o];return te===E}),dataStartIndex:c,dataEndIndex:u}),O=A.length,P,k,I;W4e(x.domain,j,b)&&(P=BN(x.domain,null,j),p&&(b==="number"||_!=="auto")&&(I=Tp(A,w,"category")));var M=GH(b);if(!P||P.length===0){var L,$=(L=x.domain)!==null&&L!==void 0?L:M;if(w){if(P=Tp(A,w,b),b==="category"&&p){var D=kxe(P);S&&D?(k=P,P=jb(0,O)):S||(P=f$($,P,m).reduce(function(J,le){return J.indexOf(le)>=0?J:[].concat(Yf(J),[le])},[]))}else if(b==="category")S?P=P.filter(function(J){return J!==""&&!Dt(J)}):P=f$($,P,m).reduce(function(J,le){return J.indexOf(le)>=0||le===""||Dt(le)?J:[].concat(Yf(J),[le])},[]);else if(b==="number"){var T=H2e(A,a.filter(function(J){var le,te,Z=o in J.props?J.props[o]:(le=J.type.defaultProps)===null||le===void 0?void 0:le[o],we="hide"in J.props?J.props.hide:(te=J.type.defaultProps)===null||te===void 0?void 0:te.hide;return Z===E&&(C||!we)}),w,i,d);T&&(P=T)}p&&(b==="number"||_!=="auto")&&(I=Tp(A,w,"category"))}else p?P=jb(0,O):l&&l[E]&&l[E].hasStack&&b==="number"?P=h==="expand"?[0,1]:IV(l[E].stackGroups,c,u):P=PV(A,a.filter(function(J){var le=o in J.props?J.props[o]:J.type.defaultProps[o],te="hide"in J.props?J.props.hide:J.type.defaultProps.hide;return le===E&&(C||!te)}),b,d,!0);if(b==="number")P=SC(f,P,E,i,N),$&&(P=BN($,P,j));else if(b==="category"&&$){var H=$,re=P.every(function(J){return H.indexOf(J)>=0});re&&(P=H)}}return pe(pe({},y),{},gt({},E,pe(pe({},x),{},{axisType:i,domain:P,categoricalDomain:I,duplicateDomain:k,originalDomain:(v=x.domain)!==null&&v!==void 0?v:M,isCategorical:p,layout:d})))},{})},x3e=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=Vw(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,y=OV(d,i),m=-1;return n.reduce(function(v,x){var b=x.type.defaultProps!==void 0?pe(pe({},x.type.defaultProps),x.props):x.props,w=b[o],j=GH("number");if(!v[w]){m++;var S;return y?S=jb(0,p):l&&l[w]&&l[w].hasStack?(S=IV(l[w].stackGroups,c,u),S=SC(f,S,w,i)):(S=BN(j,PV(h,n.filter(function(_){var N,C,E=o in _.props?_.props[o]:(N=_.type.defaultProps)===null||N===void 0?void 0:N[o],A="hide"in _.props?_.props.hide:(C=_.type.defaultProps)===null||C===void 0?void 0:C.hide;return E===w&&!A}),"number",d),a.defaultProps.allowDataOverflow),S=SC(f,S,w,i)),pe(pe({},v),{},gt({},w,pe(pe({axisType:i},a.defaultProps),{},{hide:!0,orientation:bi(p3e,"".concat(i,".").concat(m%2),null),domain:S,originalDomain:j,isCategorical:y,layout:d})))}return v},{})},b3e=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=wi(d,i),p={};return h&&h.length?p=y3e(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=x3e(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},w3e=function(t){var r=gl(t),n=Co(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:YO(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:cb(r,n)}},VM=function(t){var r=t.children,n=t.defaultShowTooltip,a=oi(r,Ff),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},j3e=function(t){return!t||!t.length?!1:t.some(function(r){var n=Ao(r&&r.type);return n&&n.indexOf("Bar")>=0})},HM=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},S3e=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=oi(f,Ff),y=oi(f,fu),m=Object.keys(c).reduce(function(S,_){var N=c[_],C=N.orientation;return!N.mirror&&!N.hide?pe(pe({},S),{},gt({},C,S[C]+N.width)):S},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(S,_){var N=o[_],C=N.orientation;return!N.mirror&&!N.hide?pe(pe({},S),{},gt({},C,bi(S,"".concat(C))+N.height)):S},{top:h.top||0,bottom:h.bottom||0}),x=pe(pe({},v),m),b=x.bottom;p&&(x.bottom+=p.props.height||Ff.defaultProps.height),y&&r&&(x=W2e(x,a,n,r));var w=u-x.left-x.right,j=d-x.top-x.bottom;return pe(pe({brushBottom:b},x),{},{width:Math.max(w,0),height:Math.max(j,0)})},_3e=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},KH=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(x,b){var w=b.graphicalItems,j=b.stackGroups,S=b.offset,_=b.updateId,N=b.dataStartIndex,C=b.dataEndIndex,E=x.barSize,A=x.layout,O=x.barGap,P=x.barCategoryGap,k=x.maxBarSize,I=HM(A),M=I.numericAxisName,L=I.cateAxisName,$=j3e(w),D=[];return w.forEach(function(T,H){var re=Vw(x.data,{graphicalItems:[T],dataStartIndex:N,dataEndIndex:C}),J=T.type.defaultProps!==void 0?pe(pe({},T.type.defaultProps),T.props):T.props,le=J.dataKey,te=J.maxBarSize,Z=J["".concat(M,"Id")],we=J["".concat(L,"Id")],oe={},q=c.reduce(function(Ce,Ct){var ht=b["".concat(Ct.axisType,"Map")],Ft=J["".concat(Ct.axisType,"Id")];ht&&ht[Ft]||Ct.axisType==="zAxis"||nc();var _r=ht[Ft];return pe(pe({},Ce),{},gt(gt({},Ct.axisType,_r),"".concat(Ct.axisType,"Ticks"),Co(_r)))},oe),U=q[L],ae=q["".concat(L,"Ticks")],z=j&&j[Z]&&j[Z].hasStack&&tTe(T,j[Z].stackGroups),W=Ao(T.type).indexOf("Bar")>=0,ge=cb(U,ae),me=[],be=$&&U2e({barSize:E,stackGroups:j,totalSize:_3e(q,L)});if(W){var X,ee,xe=Dt(te)?k:te,he=(X=(ee=cb(U,ae,!0))!==null&&ee!==void 0?ee:xe)!==null&&X!==void 0?X:0;me=z2e({barGap:O,barCategoryGap:P,bandSize:he!==ge?he:ge,sizeList:be[we],maxBarSize:xe}),he!==ge&&(me=me.map(function(Ce){return pe(pe({},Ce),{},{position:pe(pe({},Ce.position),{},{offset:Ce.position.offset-he/2})})}))}var Ae=T&&T.type&&T.type.getComposedData;Ae&&D.push({props:pe(pe({},Ae(pe(pe({},q),{},{displayedData:re,props:x,dataKey:le,item:T,bandSize:ge,barPosition:me,offset:S,stackedData:z,layout:A,dataStartIndex:N,dataEndIndex:C}))),{},gt(gt(gt({key:T.key||"item-".concat(H)},M,q[M]),L,q[L]),"animationId",_)),childIndex:Wxe(T,x.children),item:T})}),D},p=function(x,b){var w=x.props,j=x.dataStartIndex,S=x.dataEndIndex,_=x.updateId;if(!aI({props:w}))return null;var N=w.children,C=w.layout,E=w.stackOffset,A=w.data,O=w.reverseStackOrder,P=HM(C),k=P.numericAxisName,I=P.cateAxisName,M=wi(N,n),L=Z2e(A,M,"".concat(k,"Id"),"".concat(I,"Id"),E,O),$=c.reduce(function(J,le){var te="".concat(le.axisType,"Map");return pe(pe({},J),{},gt({},te,b3e(w,pe(pe({},le),{},{graphicalItems:M,stackGroups:le.axisType===k&&L,dataStartIndex:j,dataEndIndex:S}))))},{}),D=S3e(pe(pe({},$),{},{props:w,graphicalItems:M}),b==null?void 0:b.legendBBox);Object.keys($).forEach(function(J){$[J]=d(w,$[J],D,J.replace("Map",""),r)});var T=$["".concat(I,"Map")],H=w3e(T),re=h(w,pe(pe({},$),{},{dataStartIndex:j,dataEndIndex:S,updateId:_,graphicalItems:M,stackGroups:L,offset:D}));return pe(pe({formattedGraphicalItems:re,graphicalItems:M,offset:D,stackGroups:L},H),$)},y=function(v){function x(b){var w,j,S;return n3e(this,x),S=s3e(this,x,[b]),gt(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),gt(S,"accessibilityManager",new z4e),gt(S,"handleLegendBBoxUpdate",function(_){if(_){var N=S.state,C=N.dataStartIndex,E=N.dataEndIndex,A=N.updateId;S.setState(pe({legendBBox:_},p({props:S.props,dataStartIndex:C,dataEndIndex:E,updateId:A},pe(pe({},S.state),{},{legendBBox:_}))))}}),gt(S,"handleReceiveSyncEvent",function(_,N,C){if(S.props.syncId===_){if(C===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(N)}}),gt(S,"handleBrushChange",function(_){var N=_.startIndex,C=_.endIndex;if(N!==S.state.dataStartIndex||C!==S.state.dataEndIndex){var E=S.state.updateId;S.setState(function(){return pe({dataStartIndex:N,dataEndIndex:C},p({props:S.props,dataStartIndex:N,dataEndIndex:C,updateId:E},S.state))}),S.triggerSyncEvent({dataStartIndex:N,dataEndIndex:C})}}),gt(S,"handleMouseEnter",function(_){var N=S.getMouseInfo(_);if(N){var C=pe(pe({},N),{},{isTooltipActive:!0});S.setState(C),S.triggerSyncEvent(C);var E=S.props.onMouseEnter;Ot(E)&&E(C,_)}}),gt(S,"triggeredAfterMouseMove",function(_){var N=S.getMouseInfo(_),C=N?pe(pe({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(C),S.triggerSyncEvent(C);var E=S.props.onMouseMove;Ot(E)&&E(C,_)}),gt(S,"handleItemMouseEnter",function(_){S.setState(function(){return{isTooltipActive:!0,activeItem:_,activePayload:_.tooltipPayload,activeCoordinate:_.tooltipPosition||{x:_.cx,y:_.cy}}})}),gt(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),gt(S,"handleMouseMove",function(_){_.persist(),S.throttleTriggeredAfterMouseMove(_)}),gt(S,"handleMouseLeave",function(_){S.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};S.setState(N),S.triggerSyncEvent(N);var C=S.props.onMouseLeave;Ot(C)&&C(N,_)}),gt(S,"handleOuterEvent",function(_){var N=zxe(_),C=bi(S.props,"".concat(N));if(N&&Ot(C)){var E,A;/.*touch.*/i.test(N)?A=S.getMouseInfo(_.changedTouches[0]):A=S.getMouseInfo(_),C((E=A)!==null&&E!==void 0?E:{},_)}}),gt(S,"handleClick",function(_){var N=S.getMouseInfo(_);if(N){var C=pe(pe({},N),{},{isTooltipActive:!0});S.setState(C),S.triggerSyncEvent(C);var E=S.props.onClick;Ot(E)&&E(C,_)}}),gt(S,"handleMouseDown",function(_){var N=S.props.onMouseDown;if(Ot(N)){var C=S.getMouseInfo(_);N(C,_)}}),gt(S,"handleMouseUp",function(_){var N=S.props.onMouseUp;if(Ot(N)){var C=S.getMouseInfo(_);N(C,_)}}),gt(S,"handleTouchMove",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(_.changedTouches[0])}),gt(S,"handleTouchStart",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&S.handleMouseDown(_.changedTouches[0])}),gt(S,"handleTouchEnd",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&S.handleMouseUp(_.changedTouches[0])}),gt(S,"handleDoubleClick",function(_){var N=S.props.onDoubleClick;if(Ot(N)){var C=S.getMouseInfo(_);N(C,_)}}),gt(S,"handleContextMenu",function(_){var N=S.props.onContextMenu;if(Ot(N)){var C=S.getMouseInfo(_);N(C,_)}}),gt(S,"triggerSyncEvent",function(_){S.props.syncId!==void 0&&WS.emit(VS,S.props.syncId,_,S.eventEmitterSymbol)}),gt(S,"applySyncEvent",function(_){var N=S.props,C=N.layout,E=N.syncMethod,A=S.state.updateId,O=_.dataStartIndex,P=_.dataEndIndex;if(_.dataStartIndex!==void 0||_.dataEndIndex!==void 0)S.setState(pe({dataStartIndex:O,dataEndIndex:P},p({props:S.props,dataStartIndex:O,dataEndIndex:P,updateId:A},S.state)));else if(_.activeTooltipIndex!==void 0){var k=_.chartX,I=_.chartY,M=_.activeTooltipIndex,L=S.state,$=L.offset,D=L.tooltipTicks;if(!$)return;if(typeof E=="function")M=E(D,_);else if(E==="value"){M=-1;for(var T=0;T<D.length;T++)if(D[T].value===_.activeLabel){M=T;break}}var H=pe(pe({},$),{},{x:$.left,y:$.top}),re=Math.min(k,H.x+H.width),J=Math.min(I,H.y+H.height),le=D[M]&&D[M].value,te=CC(S.state,S.props.data,M),Z=D[M]?{x:C==="horizontal"?D[M].coordinate:re,y:C==="horizontal"?J:D[M].coordinate}:HH;S.setState(pe(pe({},_),{},{activeLabel:le,activeCoordinate:Z,activePayload:te,activeTooltipIndex:M}))}else S.setState(_)}),gt(S,"renderCursor",function(_){var N,C=S.state,E=C.isTooltipActive,A=C.activeCoordinate,O=C.activePayload,P=C.offset,k=C.activeTooltipIndex,I=C.tooltipAxisBandSize,M=S.getTooltipEventType(),L=(N=_.props.active)!==null&&N!==void 0?N:E,$=S.props.layout,D=_.key||"_recharts-cursor";return R.createElement(X4e,{key:D,activeCoordinate:A,activePayload:O,activeTooltipIndex:k,chartName:r,element:_,isActive:L,layout:$,offset:P,tooltipAxisBandSize:I,tooltipEventType:M})}),gt(S,"renderPolarAxis",function(_,N,C){var E=bi(_,"type.axisType"),A=bi(S.state,"".concat(E,"Map")),O=_.type.defaultProps,P=O!==void 0?pe(pe({},O),_.props):_.props,k=A&&A[P["".concat(E,"Id")]];return g.cloneElement(_,pe(pe({},k),{},{className:It(E,k.className),key:_.key||"".concat(N,"-").concat(C),ticks:Co(k,!0)}))}),gt(S,"renderPolarGrid",function(_){var N=_.props,C=N.radialLines,E=N.polarAngles,A=N.polarRadius,O=S.state,P=O.radiusAxisMap,k=O.angleAxisMap,I=gl(P),M=gl(k),L=M.cx,$=M.cy,D=M.innerRadius,T=M.outerRadius;return g.cloneElement(_,{polarAngles:Array.isArray(E)?E:Co(M,!0).map(function(H){return H.coordinate}),polarRadius:Array.isArray(A)?A:Co(I,!0).map(function(H){return H.coordinate}),cx:L,cy:$,innerRadius:D,outerRadius:T,key:_.key||"polar-grid",radialLines:C})}),gt(S,"renderLegend",function(){var _=S.state.formattedGraphicalItems,N=S.props,C=N.children,E=N.width,A=N.height,O=S.props.margin||{},P=E-(O.left||0)-(O.right||0),k=CV({children:C,formattedGraphicalItems:_,legendWidth:P,legendContent:u});if(!k)return null;var I=k.item,M=UM(k,Q4e);return g.cloneElement(I,pe(pe({},M),{},{chartWidth:E,chartHeight:A,margin:O,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),gt(S,"renderTooltip",function(){var _,N=S.props,C=N.children,E=N.accessibilityLayer,A=oi(C,hs);if(!A)return null;var O=S.state,P=O.isTooltipActive,k=O.activeCoordinate,I=O.activePayload,M=O.activeLabel,L=O.offset,$=(_=A.props.active)!==null&&_!==void 0?_:P;return g.cloneElement(A,{viewBox:pe(pe({},L),{},{x:L.left,y:L.top}),active:$,label:M,payload:$?I:[],coordinate:k,accessibilityLayer:E})}),gt(S,"renderBrush",function(_){var N=S.props,C=N.margin,E=N.data,A=S.state,O=A.offset,P=A.dataStartIndex,k=A.dataEndIndex,I=A.updateId;return g.cloneElement(_,{key:_.key||"_recharts-brush",onChange:ay(S.handleBrushChange,_.props.onChange),data:E,x:Pe(_.props.x)?_.props.x:O.left,y:Pe(_.props.y)?_.props.y:O.top+O.height+O.brushBottom-(C.bottom||0),width:Pe(_.props.width)?_.props.width:O.width,startIndex:P,endIndex:k,updateId:"brush-".concat(I)})}),gt(S,"renderReferenceElement",function(_,N,C){if(!_)return null;var E=S,A=E.clipPathId,O=S.state,P=O.xAxisMap,k=O.yAxisMap,I=O.offset,M=_.type.defaultProps||{},L=_.props,$=L.xAxisId,D=$===void 0?M.xAxisId:$,T=L.yAxisId,H=T===void 0?M.yAxisId:T;return g.cloneElement(_,{key:_.key||"".concat(N,"-").concat(C),xAxis:P[D],yAxis:k[H],viewBox:{x:I.left,y:I.top,width:I.width,height:I.height},clipPathId:A})}),gt(S,"renderActivePoints",function(_){var N=_.item,C=_.activePoint,E=_.basePoint,A=_.childIndex,O=_.isRange,P=[],k=N.props.key,I=N.item.type.defaultProps!==void 0?pe(pe({},N.item.type.defaultProps),N.item.props):N.item.props,M=I.activeDot,L=I.dataKey,$=pe(pe({index:A,dataKey:L,cx:C.x,cy:C.y,r:4,fill:wA(N.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},ft(M,!1)),$x(M));return P.push(x.renderActiveDot(M,$,"".concat(k,"-activePoint-").concat(A))),E?P.push(x.renderActiveDot(M,pe(pe({},$),{},{cx:E.x,cy:E.y}),"".concat(k,"-basePoint-").concat(A))):O&&P.push(null),P}),gt(S,"renderGraphicChild",function(_,N,C){var E=S.filterFormatItem(_,N,C);if(!E)return null;var A=S.getTooltipEventType(),O=S.state,P=O.isTooltipActive,k=O.tooltipAxis,I=O.activeTooltipIndex,M=O.activeLabel,L=S.props.children,$=oi(L,hs),D=E.props,T=D.points,H=D.isRange,re=D.baseLine,J=E.item.type.defaultProps!==void 0?pe(pe({},E.item.type.defaultProps),E.item.props):E.item.props,le=J.activeDot,te=J.hide,Z=J.activeBar,we=J.activeShape,oe=!!(!te&&P&&$&&(le||Z||we)),q={};A!=="axis"&&$&&$.props.trigger==="click"?q={onClick:ay(S.handleItemMouseEnter,_.props.onClick)}:A!=="axis"&&(q={onMouseLeave:ay(S.handleItemMouseLeave,_.props.onMouseLeave),onMouseEnter:ay(S.handleItemMouseEnter,_.props.onMouseEnter)});var U=g.cloneElement(_,pe(pe({},E.props),q));function ae(Ct){return typeof k.dataKey=="function"?k.dataKey(Ct.payload):null}if(oe)if(I>=0){var z,W;if(k.dataKey&&!k.allowDuplicatedCategory){var ge=typeof k.dataKey=="function"?ae:"payload.".concat(k.dataKey.toString());z=Rx(T,ge,M),W=H&&re&&Rx(re,ge,M)}else z=T==null?void 0:T[I],W=H&&re&&re[I];if(we||Z){var me=_.props.activeIndex!==void 0?_.props.activeIndex:I;return[g.cloneElement(_,pe(pe(pe({},E.props),q),{},{activeIndex:me})),null,null]}if(!Dt(z))return[U].concat(Yf(S.renderActivePoints({item:E,activePoint:z,basePoint:W,childIndex:I,isRange:H})))}else{var be,X=(be=S.getItemByXY(S.state.activeCoordinate))!==null&&be!==void 0?be:{graphicalItem:U},ee=X.graphicalItem,xe=ee.item,he=xe===void 0?_:xe,Ae=ee.childIndex,Ce=pe(pe(pe({},E.props),q),{},{activeIndex:Ae});return[g.cloneElement(he,Ce),null,null]}return H?[U,null,null]:[U,null]}),gt(S,"renderCustomized",function(_,N,C){return g.cloneElement(_,pe(pe({key:"recharts-customized-".concat(C)},S.props),S.state))}),gt(S,"renderMap",{CartesianGrid:{handler:cy,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:cy},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:cy},YAxis:{handler:cy},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((w=b.id)!==null&&w!==void 0?w:xh("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=NW(S.triggeredAfterMouseMove,(j=b.throttleDelay)!==null&&j!==void 0?j:1e3/60),S.state={},S}return c3e(x,v),i3e(x,[{key:"componentDidMount",value:function(){var w,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,j=w.children,S=w.data,_=w.height,N=w.layout,C=oi(j,hs);if(C){var E=C.props.defaultIndex;if(!(typeof E!="number"||E<0||E>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[E]&&this.state.tooltipTicks[E].value,O=CC(this.state,S,E,A),P=this.state.tooltipTicks[E].coordinate,k=(this.state.offset.top+_)/2,I=N==="horizontal",M=I?{x:P,y:k}:{y:P,x:k},L=this.state.formattedGraphicalItems.find(function(D){var T=D.item;return T.type.name==="Scatter"});L&&(M=pe(pe({},M),L.props.points[E].tooltipPosition),O=L.props.points[E].tooltipPayload);var $={activeTooltipIndex:E,isTooltipActive:!0,activeLabel:A,activePayload:O,activeCoordinate:M};this.setState($),this.renderCursor(C),this.accessibilityManager.setIndex(E)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var S,_;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0}})}return null}},{key:"componentDidUpdate",value:function(w){tN([oi(w.children,hs)],[oi(this.props.children,hs)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=oi(this.props.children,hs);if(w&&typeof w.props.shared=="boolean"){var j=w.props.shared?"axis":"item";return l.indexOf(j)>=0?j:i}return i}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var j=this.container,S=j.getBoundingClientRect(),_=vPe(S),N={chartX:Math.round(w.pageX-_.left),chartY:Math.round(w.pageY-_.top)},C=S.width/j.offsetWidth||1,E=this.inRange(N.chartX,N.chartY,C);if(!E)return null;var A=this.state,O=A.xAxisMap,P=A.yAxisMap,k=this.getTooltipEventType(),I=WM(this.state,this.props.data,this.props.layout,E);if(k!=="axis"&&O&&P){var M=gl(O).scale,L=gl(P).scale,$=M&&M.invert?M.invert(N.chartX):null,D=L&&L.invert?L.invert(N.chartY):null;return pe(pe({},N),{},{xValue:$,yValue:D},I)}return I?pe(pe({},N),I):null}},{key:"inRange",value:function(w,j){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,_=this.props.layout,N=w/S,C=j/S;if(_==="horizontal"||_==="vertical"){var E=this.state.offset,A=N>=E.left&&N<=E.left+E.width&&C>=E.top&&C<=E.top+E.height;return A?{x:N,y:C}:null}var O=this.state,P=O.angleAxisMap,k=O.radiusAxisMap;if(P&&k){var I=gl(P);return m$({x:N,y:C},I)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,j=this.getTooltipEventType(),S=oi(w,hs),_={};S&&j==="axis"&&(S.props.trigger==="click"?_={onClick:this.handleClick}:_={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=$x(this.props,this.handleOuterEvent);return pe(pe({},N),_)}},{key:"addListener",value:function(){WS.on(VS,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){WS.removeListener(VS,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,j,S){for(var _=this.state.formattedGraphicalItems,N=0,C=_.length;N<C;N++){var E=_[N];if(E.item===w||E.props.key===w.key||j===Ao(E.item.type)&&S===E.childIndex)return E}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,j=this.state.offset,S=j.left,_=j.top,N=j.height,C=j.width;return R.createElement("defs",null,R.createElement("clipPath",{id:w},R.createElement("rect",{x:S,y:_,height:N,width:C})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(j,S){var _=qM(S,2),N=_[0],C=_[1];return pe(pe({},j),{},gt({},N,C.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(j,S){var _=qM(S,2),N=_[0],C=_[1];return pe(pe({},j),{},gt({},N,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[w])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(w){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[w])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(w){var j=this.state,S=j.formattedGraphicalItems,_=j.activeItem;if(S&&S.length)for(var N=0,C=S.length;N<C;N++){var E=S[N],A=E.props,O=E.item,P=O.type.defaultProps!==void 0?pe(pe({},O.type.defaultProps),O.props):O.props,k=Ao(O.type);if(k==="Bar"){var I=(A.data||[]).find(function(D){return GIe(w,D)});if(I)return{graphicalItem:E,payload:I}}else if(k==="RadialBar"){var M=(A.data||[]).find(function(D){return m$(w,D)});if(M)return{graphicalItem:E,payload:M}}else if($w(E,_)||Mw(E,_)||Km(E,_)){var L=R$e({graphicalItem:E,activeTooltipItem:_,itemData:P.data}),$=P.activeIndex===void 0?L:P.activeIndex;return{graphicalItem:pe(pe({},E),{},{childIndex:$}),payload:Km(E,_)?P.data[L]:E.props.data[L]}}}return null}},{key:"render",value:function(){var w=this;if(!aI(this))return null;var j=this.props,S=j.children,_=j.className,N=j.width,C=j.height,E=j.style,A=j.compact,O=j.title,P=j.desc,k=UM(j,J4e),I=ft(k,!1);if(A)return R.createElement(SM,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},R.createElement(nN,Ad({},I,{width:N,height:C,title:O,desc:P}),this.renderClipPath(),sI(S,this.renderMap)));if(this.props.accessibilityLayer){var M,L;I.tabIndex=(M=this.props.tabIndex)!==null&&M!==void 0?M:0,I.role=(L=this.props.role)!==null&&L!==void 0?L:"application",I.onKeyDown=function(D){w.accessibilityManager.keyboardEvent(D)},I.onFocus=function(){w.accessibilityManager.focus()}}var $=this.parseEventsOfWrapper();return R.createElement(SM,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},R.createElement("div",Ad({className:It("recharts-wrapper",_),style:pe({position:"relative",cursor:"default",width:N,height:C},E)},$,{ref:function(T){w.container=T}}),R.createElement(nN,Ad({},I,{width:N,height:C,title:O,desc:P,style:m3e}),this.renderClipPath(),sI(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(g.Component);gt(y,"displayName",r),gt(y,"defaultProps",pe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),gt(y,"getDerivedStateFromProps",function(v,x){var b=v.dataKey,w=v.data,j=v.children,S=v.width,_=v.height,N=v.layout,C=v.stackOffset,E=v.margin,A=x.dataStartIndex,O=x.dataEndIndex;if(x.updateId===void 0){var P=VM(v);return pe(pe(pe({},P),{},{updateId:0},p(pe(pe({props:v},P),{},{updateId:0}),x)),{},{prevDataKey:b,prevData:w,prevWidth:S,prevHeight:_,prevLayout:N,prevStackOffset:C,prevMargin:E,prevChildren:j})}if(b!==x.prevDataKey||w!==x.prevData||S!==x.prevWidth||_!==x.prevHeight||N!==x.prevLayout||C!==x.prevStackOffset||!Wd(E,x.prevMargin)){var k=VM(v),I={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},M=pe(pe({},WM(x,w,N)),{},{updateId:x.updateId+1}),L=pe(pe(pe({},k),I),M);return pe(pe(pe({},L),p(pe({props:v},L),x)),{},{prevDataKey:b,prevData:w,prevWidth:S,prevHeight:_,prevLayout:N,prevStackOffset:C,prevMargin:E,prevChildren:j})}if(!tN(j,x.prevChildren)){var $,D,T,H,re=oi(j,Ff),J=re&&($=(D=re.props)===null||D===void 0?void 0:D.startIndex)!==null&&$!==void 0?$:A,le=re&&(T=(H=re.props)===null||H===void 0?void 0:H.endIndex)!==null&&T!==void 0?T:O,te=J!==A||le!==O,Z=!Dt(w),we=Z&&!te?x.updateId:x.updateId+1;return pe(pe({updateId:we},p(pe(pe({props:v},x),{},{updateId:we,dataStartIndex:J,dataEndIndex:le}),x)),{},{prevChildren:j,dataStartIndex:J,dataEndIndex:le})}return null}),gt(y,"renderActiveDot",function(v,x,b){var w;return g.isValidElement(v)?w=g.cloneElement(v,x):Ot(v)?w=v(x):w=R.createElement(kw,x),R.createElement(br,{className:"recharts-active-dot",key:b},w)});var m=g.forwardRef(function(x,b){return R.createElement(y,Ad({},x,{ref:b}))});return m.displayName=y.displayName,m},N3e=KH({chartName:"LineChart",GraphicalChild:mu,axisComponents:[{axisType:"xAxis",AxisComp:zw},{axisType:"yAxis",AxisComp:Ww}],formatAxisMap:hLe}),C3e=KH({chartName:"PieChart",GraphicalChild:Zo,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Rw},{axisType:"radiusAxis",AxisComp:Dw}],formatAxisMap:dTe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const uy=["#10B981","#3B82F6","#8B5CF6","#F59E0B","#EF4444","#EC4899","#14B8A6","#F97316"];function E3e({onNewTransaction:e}){const{summary:t,loadingSummary:r}=i8(),{categorySummary:n}=c8(),{evolution:a}=u8(6),i=u=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(u),o=u=>{const[d,f]=u.split("-");return new Date(parseInt(d),parseInt(f)-1).toLocaleDateString("pt-BR",{month:"short",year:"numeric"})},l=n.filter(u=>u.category.type==="despesa").slice(0,8).map(u=>({name:u.category.name,value:u.total,percentage:u.percentage})),c=a.map(u=>({month:o(u.month),Receitas:u.receitas,Despesas:u.despesas,Saldo:u.saldo}));return r?s.jsx("div",{className:"flex items-center justify-center p-12",children:"Carregando dados financeiros..."}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs(ve,{className:"relative overflow-hidden",children:[s.jsxs(je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Se,{className:"text-sm font-medium",children:"Saldo Total"}),s.jsx(Ld,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ye,{children:[s.jsx("div",{className:"text-2xl font-bold",children:i((t==null?void 0:t.totalContasBancarias)||0)}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Em contas bancrias"})]}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-blue-500 to-blue-600"})]}),s.jsxs(ve,{className:"relative overflow-hidden",children:[s.jsxs(je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Se,{className:"text-sm font-medium",children:"Receitas do Ms"}),s.jsx(J4,{className:"h-4 w-4 text-green-600"})]}),s.jsxs(ye,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:i((t==null?void 0:t.totalReceitas)||0)}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Total recebido"})]}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-green-500 to-green-600"})]}),s.jsxs(ve,{className:"relative overflow-hidden",children:[s.jsxs(je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Se,{className:"text-sm font-medium",children:"Despesas do Ms"}),s.jsx(Q4,{className:"h-4 w-4 text-red-600"})]}),s.jsxs(ye,{children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:i((t==null?void 0:t.totalDespesas)||0)}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Total pago"})]}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-red-500 to-red-600"})]}),s.jsxs(ve,{className:"relative overflow-hidden",children:[s.jsxs(je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Se,{className:"text-sm font-medium",children:"Lucro Lquido"}),s.jsx(Md,{className:`h-4 w-4 ${((t==null?void 0:t.lucroLiquido)||0)>=0?"text-green-600":"text-red-600"}`})]}),s.jsxs(ye,{children:[s.jsx("div",{className:`text-2xl font-bold ${((t==null?void 0:t.lucroLiquido)||0)>=0?"text-green-600":"text-red-600"}`,children:i((t==null?void 0:t.lucroLiquido)||0)}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Receitas - Despesas"})]}),s.jsx("div",{className:`absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r ${((t==null?void 0:t.lucroLiquido)||0)>=0?"from-green-500 to-green-600":"from-red-500 to-red-600"}`})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs(ve,{children:[s.jsxs(je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Se,{className:"text-sm font-medium",children:"Contas a Receber"}),s.jsx(Fi,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ye,{children:[s.jsx("div",{className:"text-2xl font-bold",children:i((t==null?void 0:t.totalContasReceber)||0)}),s.jsxs("p",{className:"text-xs text-red-600 mt-1",children:["Vencidas: ",i((t==null?void 0:t.totalContasVencidas)||0)]})]})]}),s.jsxs(ve,{children:[s.jsx(je,{children:s.jsx(Se,{className:"text-sm font-medium",children:"Aes Rpidas"})}),s.jsxs(ye,{className:"flex flex-wrap gap-2",children:[s.jsxs(B,{size:"sm",className:"gap-2",onClick:()=>e("receita"),children:[s.jsx(xr,{className:"h-4 w-4"}),"Nova Receita"]}),s.jsxs(B,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>e("despesa"),children:[s.jsx(xr,{className:"h-4 w-4"}),"Nova Despesa"]}),s.jsxs(B,{size:"sm",variant:"outline",className:"gap-2",children:[s.jsx(t0,{className:"h-4 w-4"}),"Exportar"]})]})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs(ve,{children:[s.jsx(je,{children:s.jsx(Se,{children:"Despesas por Categoria"})}),s.jsx(ye,{children:l.length>0?s.jsx(nR,{width:"100%",height:300,children:s.jsxs(C3e,{children:[s.jsx(Zo,{data:l,cx:"50%",cy:"50%",labelLine:!1,label:({name:u,percentage:d})=>`${u} ${d.toFixed(1)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:l.map((u,d)=>s.jsx(xw,{fill:uy[d%uy.length]},`cell-${d}`))}),s.jsx(hs,{formatter:u=>i(u)})]})}):s.jsx("div",{className:"flex items-center justify-center h-[300px] text-muted-foreground",children:"Nenhuma despesa registrada"})})]}),s.jsxs(ve,{children:[s.jsx(je,{children:s.jsx(Se,{children:"Evoluo Mensal"})}),s.jsx(ye,{children:c.length>0?s.jsx(nR,{width:"100%",height:300,children:s.jsxs(N3e,{data:c,children:[s.jsx(kH,{strokeDasharray:"3 3"}),s.jsx(zw,{dataKey:"month"}),s.jsx(Ww,{tickFormatter:u=>`R$ ${u.toLocaleString()}`}),s.jsx(hs,{formatter:u=>i(u)}),s.jsx(fu,{}),s.jsx(mu,{type:"monotone",dataKey:"Receitas",stroke:"#10B981",strokeWidth:2}),s.jsx(mu,{type:"monotone",dataKey:"Despesas",stroke:"#EF4444",strokeWidth:2}),s.jsx(mu,{type:"monotone",dataKey:"Saldo",stroke:"#3B82F6",strokeWidth:2})]})}):s.jsx("div",{className:"flex items-center justify-center h-[300px] text-muted-foreground",children:"Nenhum dado disponvel"})})]})]}),s.jsxs(ve,{children:[s.jsx(je,{children:s.jsx(Se,{children:"Maiores Despesas por Categoria"})}),s.jsx(ye,{children:s.jsxs("div",{className:"space-y-4",children:[n.filter(u=>u.category.type==="despesa").slice(0,5).map((u,d)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:uy[d%uy.length]}}),s.jsx("span",{className:"font-medium",children:u.category.name}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",u.transactionCount," ",u.transactionCount===1?"transao":"transaes",")"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"font-bold",children:i(u.total)}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[u.percentage.toFixed(1),"%"]})]})]},u.category.id)),n.filter(u=>u.category.type==="despesa").length===0&&s.jsx("div",{className:"text-center text-muted-foreground py-8",children:"Nenhuma despesa registrada"})]})})]})]})}function P3e({triggerNew:e,onTriggerComplete:t}){const{profile:r}=Gt(),[n,a]=g.useState(""),[i,o]=g.useState("todos"),[l,c]=g.useState("todos"),[u,d]=g.useState(!1),[f,h]=g.useState(null),{transactions:p,isLoading:y,createTransaction:m,updateTransaction:v,deleteTransaction:x,duplicateTransaction:b}=l8({searchTerm:n||void 0,type:i!=="todos"?i:void 0,status:l!=="todos"?l:void 0}),{categories:w}=s8(),{accounts:j}=NO(),{cards:S}=o8(),_=()=>{const T=new Date,H=T.getFullYear(),re=String(T.getMonth()+1).padStart(2,"0"),J=String(T.getDate()).padStart(2,"0");return`${H}-${re}-${J}`},[N,C]=g.useState({type:"despesa",description:"",amount:"",transaction_date:_(),category_id:"",bank_account_id:"",credit_card_id:"",status:"pendente",payment_method:"",notes:""}),E=()=>{C({type:"despesa",description:"",amount:"",transaction_date:_(),category_id:"",bank_account_id:"",credit_card_id:"",status:"pendente",payment_method:"",notes:""}),h(null)};g.useEffect(()=>{e!=null&&e.type&&(E(),C(T=>({...T,type:e.type})),d(!0),t&&t())},[e,t]);const A=T=>{T?(h(T),C({type:T.type,description:T.description,amount:String(T.amount),transaction_date:T.transaction_date,category_id:T.category_id||"",bank_account_id:T.bank_account_id||"",credit_card_id:T.credit_card_id||"",status:T.status,payment_method:T.payment_method||"",notes:T.notes||""})):E(),d(!0)},O=async T=>{if(T.preventDefault(),!(r!=null&&r.store_id))return;const H={type:N.type,description:N.description,amount:parseFloat(N.amount),transaction_date:N.transaction_date,status:N.status,payment_method:N.payment_method||null,notes:N.notes||null,category_id:N.category_id||null,bank_account_id:N.bank_account_id||null,credit_card_id:N.credit_card_id||null,store_id:r.store_id,created_by:r.id,is_recurring:!1};f?await v.mutateAsync({id:f.id,...H}):await m.mutateAsync(H),d(!1),E()},P=async T=>{confirm("Tem certeza que deseja excluir este lanamento?")&&await x.mutateAsync(T)},k=async T=>{await b.mutateAsync(T)},I=async T=>{const H=T.type==="receita"?"recebido":"pago";await v.mutateAsync({id:T.id,status:H})},M=T=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(T),L=T=>{const H={pendente:"secondary",pago:"default",recebido:"default",cancelado:"destructive"};return s.jsx(kn,{variant:H[T],children:T.toUpperCase()})},$=T=>{const H={receita:"text-green-600",despesa:"text-red-600",transferencia:"text-blue-600"},J={receita:J4,despesa:Q4,transferencia:Fl}[T];return s.jsxs("div",{className:`flex items-center gap-1 ${H[T]}`,children:[s.jsx(J,{className:"h-4 w-4"}),s.jsx("span",{className:"capitalize",children:T})]})};if(y)return s.jsx("div",{className:"flex items-center justify-center p-12",children:"Carregando lanamentos..."});const D=w.filter(T=>T.type===N.type.replace("transferencia","despesa"));return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ve,{children:[s.jsx(je,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsx(Se,{children:"Lanamentos Financeiros"}),s.jsxs(B,{onClick:()=>A(),className:"gap-2",children:[s.jsx(xr,{className:"h-4 w-4"}),"Novo Lanamento"]})]})}),s.jsxs(ye,{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Xl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ne,{placeholder:"Buscar por descrio...",value:n,onChange:T=>a(T.target.value),className:"pl-10"})]}),s.jsxs(ir,{value:i,onValueChange:o,children:[s.jsx(er,{className:"w-full sm:w-[180px]",children:s.jsx(sr,{placeholder:"Tipo"})}),s.jsxs(tr,{children:[s.jsx($e,{value:"todos",children:"Todos os tipos"}),s.jsx($e,{value:"receita",children:"Receitas"}),s.jsx($e,{value:"despesa",children:"Despesas"}),s.jsx($e,{value:"transferencia",children:"Transferncias"})]})]}),s.jsxs(ir,{value:l,onValueChange:c,children:[s.jsx(er,{className:"w-full sm:w-[180px]",children:s.jsx(sr,{placeholder:"Status"})}),s.jsxs(tr,{children:[s.jsx($e,{value:"todos",children:"Todos os status"}),s.jsx($e,{value:"pendente",children:"Pendente"}),s.jsx($e,{value:"pago",children:"Pago"}),s.jsx($e,{value:"recebido",children:"Recebido"}),s.jsx($e,{value:"cancelado",children:"Cancelado"})]})]})]}),s.jsx("div",{className:"rounded-md border",children:s.jsxs(Ga,{children:[s.jsx(Ka,{children:s.jsxs(ur,{children:[s.jsx(yt,{children:"Data"}),s.jsx(yt,{children:"Tipo"}),s.jsx(yt,{children:"Descrio"}),s.jsx(yt,{children:"Categoria"}),s.jsx(yt,{children:"Conta"}),s.jsx(yt,{className:"text-right",children:"Valor"}),s.jsx(yt,{children:"Status"}),s.jsx(yt,{className:"text-right",children:"Aes"})]})}),s.jsx(Ya,{children:p.length===0?s.jsx(ur,{children:s.jsx(rt,{colSpan:8,className:"text-center text-muted-foreground py-8",children:"Nenhum lanamento encontrado"})}):p.map(T=>{var H,re,J;return s.jsxs(ur,{children:[s.jsx(rt,{children:Be(new Date(T.transaction_date),"dd/MM/yyyy",{locale:Tt})}),s.jsx(rt,{children:$(T.type)}),s.jsx(rt,{className:"font-medium",children:T.description}),s.jsx(rt,{children:((H=T.category)==null?void 0:H.name)||"-"}),s.jsx(rt,{children:((re=T.bank_account)==null?void 0:re.name)||((J=T.credit_card)==null?void 0:J.name)||"-"}),s.jsx(rt,{className:`text-right font-bold ${T.type==="receita"?"text-green-600":"text-red-600"}`,children:M(T.amount)}),s.jsx(rt,{children:L(T.status)}),s.jsx(rt,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[T.status==="pendente"&&s.jsxs(B,{size:"sm",variant:"default",onClick:()=>I(T),className:"gap-1",title:T.type==="receita"?"Marcar como Recebido":"Marcar como Pago",children:[s.jsx(Gi,{className:"h-4 w-4"}),T.type==="receita"?"Receber":"Pagar"]}),s.jsx(B,{size:"sm",variant:"ghost",onClick:()=>A(T),children:s.jsx(Tn,{className:"h-4 w-4"})}),s.jsx(B,{size:"sm",variant:"ghost",onClick:()=>k(T),children:s.jsx(AE,{className:"h-4 w-4"})}),s.jsx(B,{size:"sm",variant:"ghost",onClick:()=>P(T.id),children:s.jsx(qr,{className:"h-4 w-4"})})]})})]},T.id)})})]})})]})]}),s.jsx(St,{open:u,onOpenChange:d,children:s.jsxs(xt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(bt,{children:s.jsx(wt,{children:f?"Editar Lanamento":"Novo Lanamento"})}),s.jsxs("form",{onSubmit:O,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Tipo"}),s.jsxs(ir,{value:N.type,onValueChange:T=>{const H=T;let re=N.status;(H==="despesa"&&N.status==="recebido"||H==="receita"&&N.status==="pago")&&(re="pendente"),C({...N,type:H,status:re})},children:[s.jsx(er,{children:s.jsx(sr,{})}),s.jsxs(tr,{children:[s.jsx($e,{value:"receita",children:"Receita"}),s.jsx($e,{value:"despesa",children:"Despesa"}),s.jsx($e,{value:"transferencia",children:"Transferncia"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Data"}),s.jsx(ne,{type:"date",value:N.transaction_date,onChange:T=>C({...N,transaction_date:T.target.value}),required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Descrio"}),s.jsx(ne,{value:N.description,onChange:T=>C({...N,description:T.target.value}),placeholder:"Ex: Pagamento de fornecedor",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Valor (R$)"}),s.jsx(ne,{type:"number",step:"0.01",value:N.amount,onChange:T=>C({...N,amount:T.target.value}),placeholder:"0,00",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Status"}),s.jsxs(ir,{value:N.status,onValueChange:T=>C({...N,status:T}),children:[s.jsx(er,{children:s.jsx(sr,{})}),s.jsxs(tr,{children:[s.jsx($e,{value:"pendente",children:"Pendente"}),N.type==="despesa"&&s.jsx($e,{value:"pago",children:"Pago"}),N.type==="receita"&&s.jsx($e,{value:"recebido",children:"Recebido"}),N.type==="transferencia"&&s.jsxs(s.Fragment,{children:[s.jsx($e,{value:"pago",children:"Pago"}),s.jsx($e,{value:"recebido",children:"Recebido"})]}),s.jsx($e,{value:"cancelado",children:"Cancelado"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Categoria (opcional)"}),s.jsxs(ir,{value:N.category_id||void 0,onValueChange:T=>C({...N,category_id:T}),children:[s.jsx(er,{children:s.jsx(sr,{placeholder:"Selecione uma categoria"})}),s.jsx(tr,{children:D.map(T=>s.jsx($e,{value:T.id,children:T.name},T.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Forma de Pagamento"}),s.jsx(ne,{value:N.payment_method,onChange:T=>C({...N,payment_method:T.target.value}),placeholder:"Ex: Pix, Dinheiro"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Conta Bancria (opcional)"}),s.jsxs(ir,{value:N.bank_account_id||void 0,onValueChange:T=>C({...N,bank_account_id:T,credit_card_id:""}),children:[s.jsx(er,{children:s.jsx(sr,{placeholder:"Selecione uma conta"})}),s.jsx(tr,{children:j.map(T=>s.jsx($e,{value:T.id,children:T.name},T.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Carto de Crdito (opcional)"}),s.jsxs(ir,{value:N.credit_card_id||void 0,onValueChange:T=>C({...N,credit_card_id:T,bank_account_id:""}),children:[s.jsx(er,{children:s.jsx(sr,{placeholder:"Selecione um carto"})}),s.jsx(tr,{children:S.map(T=>s.jsx($e,{value:T.id,children:T.name},T.id))})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Observaes"}),s.jsx(zu,{value:N.notes,onChange:T=>C({...N,notes:T.target.value}),placeholder:"Observaes adicionais...",rows:3})]}),s.jsxs(Lr,{children:[s.jsx(B,{type:"button",variant:"outline",onClick:()=>d(!1),children:"Cancelar"}),s.jsxs(B,{type:"submit",children:[f?"Atualizar":"Criar"," Lanamento"]})]})]})]})})]})}const O3e=["#10B981","#3B82F6","#8B5CF6","#F59E0B","#EF4444","#EC4899","#14B8A6","#F97316","#6366F1","#84CC16"];function A3e(){const{profile:e}=Gt(),{categories:t,createCategory:r,updateCategory:n,deleteCategory:a}=s8(),[i,o]=g.useState(!1),[l,c]=g.useState(null),[u,d]=g.useState({name:"",type:"despesa",color:"#3B82F6",description:""}),f=v=>{v?(c(v),d({name:v.name,type:v.type,color:v.color,description:v.description||""})):(c(null),d({name:"",type:"despesa",color:"#3B82F6",description:""})),o(!0)},h=async v=>{if(v.preventDefault(),!(e!=null&&e.store_id))return;const x={...u,store_id:e.store_id,is_active:!0,icon:"DollarSign"};l?await n.mutateAsync({id:l.id,...x}):await r.mutateAsync(x),o(!1)},p=async v=>{confirm("Tem certeza que deseja excluir esta categoria?")&&await a.mutateAsync(v)},y=t.filter(v=>v.type==="receita"),m=t.filter(v=>v.type==="despesa");return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ve,{children:[s.jsx(je,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(Se,{children:"Categorias Financeiras"}),s.jsxs(B,{onClick:()=>f(),className:"gap-2",children:[s.jsx(xr,{className:"h-4 w-4"}),"Nova Categoria"]})]})}),s.jsxs(ye,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(Md,{className:"h-5 w-5 text-green-600"}),s.jsxs("h3",{className:"text-lg font-semibold",children:["Receitas (",y.length,")"]})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:y.map(v=>s.jsx(ve,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg",style:{backgroundColor:v.color}}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:v.name}),v.description&&s.jsx("p",{className:"text-xs text-muted-foreground",children:v.description})]})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(B,{size:"sm",variant:"ghost",onClick:()=>f(v),children:s.jsx(Tn,{className:"h-4 w-4"})}),s.jsx(B,{size:"sm",variant:"ghost",onClick:()=>p(v.id),children:s.jsx(qr,{className:"h-4 w-4"})})]})]})},v.id))})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(s3,{className:"h-5 w-5 text-red-600"}),s.jsxs("h3",{className:"text-lg font-semibold",children:["Despesas (",m.length,")"]})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:m.map(v=>s.jsx(ve,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg",style:{backgroundColor:v.color}}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:v.name}),v.description&&s.jsx("p",{className:"text-xs text-muted-foreground",children:v.description})]})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(B,{size:"sm",variant:"ghost",onClick:()=>f(v),children:s.jsx(Tn,{className:"h-4 w-4"})}),s.jsx(B,{size:"sm",variant:"ghost",onClick:()=>p(v.id),children:s.jsx(qr,{className:"h-4 w-4"})})]})]})},v.id))})]})]})]}),s.jsx(St,{open:i,onOpenChange:o,children:s.jsxs(xt,{children:[s.jsx(bt,{children:s.jsxs(wt,{children:[l?"Editar":"Nova"," Categoria"]})}),s.jsxs("form",{onSubmit:h,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Nome"}),s.jsx(ne,{value:u.name,onChange:v=>d({...u,name:v.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Tipo"}),s.jsxs(ir,{value:u.type,onValueChange:v=>d({...u,type:v}),children:[s.jsx(er,{children:s.jsx(sr,{})}),s.jsxs(tr,{children:[s.jsx($e,{value:"receita",children:"Receita"}),s.jsx($e,{value:"despesa",children:"Despesa"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Cor"}),s.jsx("div",{className:"flex gap-2 flex-wrap",children:O3e.map(v=>s.jsx("button",{type:"button",className:`w-10 h-10 rounded-lg border-2 ${u.color===v?"border-primary":"border-transparent"}`,style:{backgroundColor:v},onClick:()=>d({...u,color:v})},v))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Descrio (opcional)"}),s.jsx(ne,{value:u.description,onChange:v=>d({...u,description:v.target.value})})]}),s.jsxs(Lr,{children:[s.jsx(B,{type:"button",variant:"outline",onClick:()=>o(!1),children:"Cancelar"}),s.jsx(B,{type:"submit",children:l?"Atualizar":"Criar"})]})]})]})})]})}function k3e(){const{profile:e}=Gt(),{accounts:t,createAccount:r,updateAccount:n,deleteAccount:a}=NO(),[i,o]=g.useState(!1),[l,c]=g.useState(null),[u,d]=g.useState({name:"",bank_name:"",account_type:"corrente",account_number:"",agency:"",initial_balance:"",color:"#10B981"}),f=v=>{v?(c(v),d({name:v.name,bank_name:v.bank_name||"",account_type:v.account_type||"corrente",account_number:v.account_number||"",agency:v.agency||"",initial_balance:String(v.initial_balance),color:v.color})):(c(null),d({name:"",bank_name:"",account_type:"corrente",account_number:"",agency:"",initial_balance:"0",color:"#10B981"})),o(!0)},h=async v=>{if(v.preventDefault(),!(e!=null&&e.store_id))return;const x={...u,initial_balance:parseFloat(u.initial_balance),store_id:e.store_id,is_active:!0};l?await n.mutateAsync({id:l.id,...x}):await r.mutateAsync(x),o(!1)},p=async v=>{confirm("Tem certeza que deseja excluir esta conta?")&&await a.mutateAsync(v)},y=v=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(v),m=t.reduce((v,x)=>v+Number(x.current_balance),0);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ve,{children:[s.jsx(je,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx(Se,{children:"Contas Bancrias"}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Saldo Total: ",s.jsx("span",{className:"font-bold text-lg",children:y(m)})]})]}),s.jsxs(B,{onClick:()=>f(),className:"gap-2",children:[s.jsx(xr,{className:"h-4 w-4"}),"Nova Conta"]})]})}),s.jsx(ye,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[t.map(v=>s.jsxs(ve,{className:"overflow-hidden",children:[s.jsx("div",{className:"h-2",style:{backgroundColor:v.color}}),s.jsxs(ye,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ld,{className:"h-5 w-5",style:{color:v.color}}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:v.name}),v.bank_name&&s.jsx("p",{className:"text-xs text-muted-foreground",children:v.bank_name})]})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(B,{size:"sm",variant:"ghost",onClick:()=>f(v),children:s.jsx(Tn,{className:"h-3 w-3"})}),s.jsx(B,{size:"sm",variant:"ghost",onClick:()=>p(v.id),children:s.jsx(qr,{className:"h-3 w-3"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Saldo Atual"}),s.jsx("p",{className:"text-xl font-bold",children:y(v.current_balance)})]}),v.account_number&&s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsx("span",{className:"text-muted-foreground",children:"Conta:"}),s.jsx("span",{className:"font-medium",children:v.account_number})]}),v.agency&&s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsx("span",{className:"text-muted-foreground",children:"Agncia:"}),s.jsx("span",{className:"font-medium",children:v.agency})]})]})]})]},v.id)),t.length===0&&s.jsx("div",{className:"col-span-3 text-center py-12 text-muted-foreground",children:"Nenhuma conta bancria cadastrada"})]})})]}),s.jsx(St,{open:i,onOpenChange:o,children:s.jsxs(xt,{children:[s.jsx(bt,{children:s.jsxs(wt,{children:[l?"Editar":"Nova"," Conta Bancria"]})}),s.jsxs("form",{onSubmit:h,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Nome da Conta"}),s.jsx(ne,{value:u.name,onChange:v=>d({...u,name:v.target.value}),required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Banco"}),s.jsx(ne,{value:u.bank_name,onChange:v=>d({...u,bank_name:v.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Tipo"}),s.jsxs(ir,{value:u.account_type,onValueChange:v=>d({...u,account_type:v}),children:[s.jsx(er,{children:s.jsx(sr,{})}),s.jsxs(tr,{children:[s.jsx($e,{value:"corrente",children:"Corrente"}),s.jsx($e,{value:"poupanca",children:"Poupana"}),s.jsx($e,{value:"investimento",children:"Investimento"}),s.jsx($e,{value:"outro",children:"Outro"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Agncia"}),s.jsx(ne,{value:u.agency,onChange:v=>d({...u,agency:v.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Conta"}),s.jsx(ne,{value:u.account_number,onChange:v=>d({...u,account_number:v.target.value})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Saldo Inicial (R$)"}),s.jsx(ne,{type:"number",step:"0.01",value:u.initial_balance,onChange:v=>d({...u,initial_balance:v.target.value}),required:!0})]}),s.jsxs(Lr,{children:[s.jsx(B,{type:"button",variant:"outline",onClick:()=>o(!1),children:"Cancelar"}),s.jsx(B,{type:"submit",children:l?"Atualizar":"Criar"})]})]})]})})]})}function T3e(){const{profile:e}=Gt(),{cards:t,createCard:r,updateCard:n,deleteCard:a}=o8(),[i,o]=g.useState(!1),[l,c]=g.useState(null),[u,d]=g.useState({name:"",bank_name:"",last_four_digits:"",card_limit:"",closing_day:"",due_day:"",color:"#EF4444"}),f=m=>{m?(c(m),d({name:m.name,bank_name:m.bank_name||"",last_four_digits:m.last_four_digits||"",card_limit:String(m.card_limit||""),closing_day:String(m.closing_day||""),due_day:String(m.due_day||""),color:m.color})):(c(null),d({name:"",bank_name:"",last_four_digits:"",card_limit:"",closing_day:"",due_day:"",color:"#EF4444"})),o(!0)},h=async m=>{if(m.preventDefault(),!(e!=null&&e.store_id))return;const v={...u,card_limit:u.card_limit?parseFloat(u.card_limit):void 0,closing_day:u.closing_day?parseInt(u.closing_day):void 0,due_day:u.due_day?parseInt(u.due_day):void 0,store_id:e.store_id,is_active:!0};l?await n.mutateAsync({id:l.id,...v}):await r.mutateAsync(v),o(!1)},p=async m=>{confirm("Tem certeza que deseja excluir este carto?")&&await a.mutateAsync(m)},y=m=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(m);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ve,{children:[s.jsx(je,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(Se,{children:"Cartes de Crdito"}),s.jsxs(B,{onClick:()=>f(),className:"gap-2",children:[s.jsx(xr,{className:"h-4 w-4"}),"Novo Carto"]})]})}),s.jsx(ye,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[t.map(m=>s.jsxs(ve,{className:"overflow-hidden",children:[s.jsx("div",{className:"h-2",style:{backgroundColor:m.color}}),s.jsxs(ye,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ju,{className:"h-5 w-5",style:{color:m.color}}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:m.name}),m.bank_name&&s.jsx("p",{className:"text-xs text-muted-foreground",children:m.bank_name})]})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(B,{size:"sm",variant:"ghost",onClick:()=>f(m),children:s.jsx(Tn,{className:"h-3 w-3"})}),s.jsx(B,{size:"sm",variant:"ghost",onClick:()=>p(m.id),children:s.jsx(qr,{className:"h-3 w-3"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[m.last_four_digits&&s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsx("span",{className:"text-muted-foreground",children:"Final:"}),s.jsxs("span",{className:"font-mono font-medium",children:["**** ",m.last_four_digits]})]}),m.card_limit&&s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsx("span",{className:"text-muted-foreground",children:"Limite:"}),s.jsx("span",{className:"font-medium",children:y(m.card_limit)})]}),s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsx("span",{className:"text-muted-foreground",children:"Fechamento:"}),s.jsxs("span",{className:"font-medium",children:["Dia ",m.closing_day||"-"]})]}),s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsx("span",{className:"text-muted-foreground",children:"Vencimento:"}),s.jsxs("span",{className:"font-medium",children:["Dia ",m.due_day||"-"]})]})]})]})]},m.id)),t.length===0&&s.jsx("div",{className:"col-span-3 text-center py-12 text-muted-foreground",children:"Nenhum carto de crdito cadastrado"})]})})]}),s.jsx(St,{open:i,onOpenChange:o,children:s.jsxs(xt,{children:[s.jsx(bt,{children:s.jsxs(wt,{children:[l?"Editar":"Novo"," Carto de Crdito"]})}),s.jsxs("form",{onSubmit:h,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Nome do Carto"}),s.jsx(ne,{value:u.name,onChange:m=>d({...u,name:m.target.value}),required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Banco"}),s.jsx(ne,{value:u.bank_name,onChange:m=>d({...u,bank_name:m.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"4 ltimos Dgitos"}),s.jsx(ne,{maxLength:4,value:u.last_four_digits,onChange:m=>d({...u,last_four_digits:m.target.value})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Limite (R$)"}),s.jsx(ne,{type:"number",step:"0.01",value:u.card_limit,onChange:m=>d({...u,card_limit:m.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Dia de Fechamento"}),s.jsx(ne,{type:"number",min:"1",max:"31",value:u.closing_day,onChange:m=>d({...u,closing_day:m.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Dia de Vencimento"}),s.jsx(ne,{type:"number",min:"1",max:"31",value:u.due_day,onChange:m=>d({...u,due_day:m.target.value})})]})]}),s.jsxs(Lr,{children:[s.jsx(B,{type:"button",variant:"outline",onClick:()=>o(!1),children:"Cancelar"}),s.jsx(B,{type:"submit",children:l?"Atualizar":"Criar"})]})]})]})})]})}function D3e(){const{profile:e}=Gt(),{toast:t}=dr(),r=Go(),{data:n,isLoading:a}=Ko({queryKey:["accounts-receivable",e==null?void 0:e.store_id],queryFn:async()=>{if(!(e!=null&&e.store_id))return[];const{data:u,error:d}=await ke.from("accounts_receivable").select(`
          *,
          bank_account:bank_accounts(*)
        `).eq("store_id",e.store_id).order("due_date",{ascending:!0});if(d)throw d;const f=new Date().toISOString().split("T")[0];return(u||[]).map(p=>p.status==="pendente"&&p.due_date<f?{...p,status:"atrasado"}:p)},enabled:!!(e!=null&&e.store_id)}),i=xn({mutationFn:async u=>{const{data:d,error:f}=await ke.from("accounts_receivable").insert([u]).select().single();if(f)throw f;return d},onSuccess:()=>{r.invalidateQueries({queryKey:["accounts-receivable"]}),r.invalidateQueries({queryKey:["financial-summary"]}),t({title:"Conta a receber criada",description:"A conta a receber foi criada com sucesso."})},onError:u=>{t({title:"Erro ao criar conta a receber",description:u.message,variant:"destructive"})}}),o=xn({mutationFn:async({id:u,...d})=>{const{data:f,error:h}=await ke.from("accounts_receivable").update(d).eq("id",u).select().single();if(h)throw h;return f},onSuccess:()=>{r.invalidateQueries({queryKey:["accounts-receivable"]}),r.invalidateQueries({queryKey:["financial-summary"]}),t({title:"Conta a receber atualizada",description:"A conta a receber foi atualizada com sucesso."})},onError:u=>{t({title:"Erro ao atualizar conta a receber",description:u.message,variant:"destructive"})}}),l=xn({mutationFn:async({id:u,bankAccountId:d,paymentMethod:f})=>{const h=new Date().toISOString().split("T")[0],{data:p,error:y}=await ke.from("accounts_receivable").update({status:"recebido",received_date:h,bank_account_id:d,payment_method:f}).eq("id",u).select().single();if(y)throw y;if(d&&p){const{error:m}=await ke.from("financial_transactions").insert([{store_id:p.store_id,type:"receita",description:`Recebimento: ${p.description}`,amount:p.amount,transaction_date:h,status:"recebido",bank_account_id:d,payment_method:f,notes:`Conta a receber ID: ${u}`}]);if(m)throw m}return p},onSuccess:()=>{r.invalidateQueries({queryKey:["accounts-receivable"]}),r.invalidateQueries({queryKey:["financial-transactions"]}),r.invalidateQueries({queryKey:["financial-summary"]}),r.invalidateQueries({queryKey:["bank-accounts"]}),t({title:"Pagamento recebido",description:"A conta foi marcada como recebida com sucesso."})},onError:u=>{t({title:"Erro ao marcar como recebido",description:u.message,variant:"destructive"})}}),c=xn({mutationFn:async u=>{const{error:d}=await ke.from("accounts_receivable").delete().eq("id",u);if(d)throw d},onSuccess:()=>{r.invalidateQueries({queryKey:["accounts-receivable"]}),r.invalidateQueries({queryKey:["financial-summary"]}),t({title:"Conta a receber excluda",description:"A conta a receber foi excluda com sucesso."})},onError:u=>{t({title:"Erro ao excluir conta a receber",description:u.message,variant:"destructive"})}});return{receivables:n||[],isLoading:a,createReceivable:i,updateReceivable:o,markAsReceived:l,deleteReceivable:c}}function I3e(){const{profile:e}=Gt(),{receivables:t,createReceivable:r,updateReceivable:n,markAsReceived:a,deleteReceivable:i}=D3e(),{accounts:o}=NO(),[l,c]=g.useState(!1),[u,d]=g.useState(!1),[f,h]=g.useState(null),[p,y]=g.useState(null),[m,v]=g.useState({bank_account_id:"",payment_method:""}),x=()=>{const k=new Date,I=k.getFullYear(),M=String(k.getMonth()+1).padStart(2,"0"),L=String(k.getDate()).padStart(2,"0");return`${I}-${M}-${L}`},[b,w]=g.useState({customer_name:"",customer_phone:"",description:"",amount:"",due_date:x()}),j=k=>{k?(h(k),w({customer_name:k.customer_name||"",customer_phone:k.customer_phone||"",description:k.description,amount:String(k.amount),due_date:k.due_date})):(h(null),w({customer_name:"",customer_phone:"",description:"",amount:"",due_date:x()})),c(!0)},S=k=>{y(k),v({bank_account_id:"",payment_method:""}),d(!0)},_=async k=>{if(k.preventDefault(),!(e!=null&&e.store_id))return;const I={customer_name:b.customer_name||null,customer_phone:b.customer_phone||null,description:b.description,amount:parseFloat(b.amount),due_date:b.due_date,store_id:e.store_id,status:"pendente"};f?await n.mutateAsync({id:f.id,...I}):await r.mutateAsync(I),c(!1)},N=async()=>{p&&(await a.mutateAsync({id:p.id,bankAccountId:m.bank_account_id||void 0,paymentMethod:m.payment_method||void 0}),d(!1))},C=async k=>{confirm("Tem certeza que deseja excluir esta conta?")&&await i.mutateAsync(k)},E=k=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(k),A=k=>{const I={pendente:"secondary",recebido:"default",atrasado:"destructive",cancelado:"outline"};return s.jsx(kn,{variant:I[k],children:k.toUpperCase()})},O=t.filter(k=>k.status==="pendente"||k.status==="atrasado");t.filter(k=>k.status==="recebido");const P=O.reduce((k,I)=>k+Number(I.amount),0);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ve,{children:[s.jsx(je,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx(Se,{children:"Contas a Receber"}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Total Pendente: ",s.jsx("span",{className:"font-bold text-lg text-orange-600",children:E(P)})]})]}),s.jsxs(B,{onClick:()=>j(),className:"gap-2",children:[s.jsx(xr,{className:"h-4 w-4"}),"Nova Conta"]})]})}),s.jsx(ye,{children:s.jsx("div",{className:"rounded-md border",children:s.jsxs(Ga,{children:[s.jsx(Ka,{children:s.jsxs(ur,{children:[s.jsx(yt,{children:"Cliente"}),s.jsx(yt,{children:"Descrio"}),s.jsx(yt,{children:"Vencimento"}),s.jsx(yt,{className:"text-right",children:"Valor"}),s.jsx(yt,{children:"Status"}),s.jsx(yt,{className:"text-right",children:"Aes"})]})}),s.jsx(Ya,{children:t.length===0?s.jsx(ur,{children:s.jsx(rt,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"Nenhuma conta a receber encontrada"})}):t.map(k=>s.jsxs(ur,{children:[s.jsx(rt,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:k.customer_name||"N/A"}),k.customer_phone&&s.jsx("p",{className:"text-xs text-muted-foreground",children:k.customer_phone})]})}),s.jsx(rt,{children:k.description}),s.jsx(rt,{children:Be(new Date(k.due_date),"dd/MM/yyyy",{locale:Tt})}),s.jsx(rt,{className:"text-right font-bold",children:E(k.amount)}),s.jsx(rt,{children:A(k.status)}),s.jsx(rt,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[k.status==="pendente"&&s.jsx(B,{size:"sm",variant:"ghost",onClick:()=>S(k),children:s.jsx(Gi,{className:"h-4 w-4 text-green-600"})}),s.jsx(B,{size:"sm",variant:"ghost",onClick:()=>j(k),children:s.jsx(Tn,{className:"h-4 w-4"})}),s.jsx(B,{size:"sm",variant:"ghost",onClick:()=>C(k.id),children:s.jsx(qr,{className:"h-4 w-4"})})]})})]},k.id))})]})})})]}),s.jsx(St,{open:l,onOpenChange:c,children:s.jsxs(xt,{children:[s.jsx(bt,{children:s.jsxs(wt,{children:[f?"Editar":"Nova"," Conta a Receber"]})}),s.jsxs("form",{onSubmit:_,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Cliente"}),s.jsx(ne,{value:b.customer_name,onChange:k=>w({...b,customer_name:k.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Telefone"}),s.jsx(ne,{value:b.customer_phone,onChange:k=>w({...b,customer_phone:k.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Descrio"}),s.jsx(ne,{value:b.description,onChange:k=>w({...b,description:k.target.value}),required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Valor (R$)"}),s.jsx(ne,{type:"number",step:"0.01",value:b.amount,onChange:k=>w({...b,amount:k.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Vencimento"}),s.jsx(ne,{type:"date",value:b.due_date,onChange:k=>w({...b,due_date:k.target.value}),required:!0})]})]}),s.jsxs(Lr,{children:[s.jsx(B,{type:"button",variant:"outline",onClick:()=>c(!1),children:"Cancelar"}),s.jsx(B,{type:"submit",children:f?"Atualizar":"Criar"})]})]})]})}),s.jsx(St,{open:u,onOpenChange:d,children:s.jsxs(xt,{children:[s.jsx(bt,{children:s.jsx(wt,{children:"Marcar como Recebido"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Conta Bancria (opcional)"}),s.jsxs(ir,{value:m.bank_account_id||void 0,onValueChange:k=>v({...m,bank_account_id:k}),children:[s.jsx(er,{children:s.jsx(sr,{placeholder:"Selecione uma conta"})}),s.jsx(tr,{children:o.map(k=>s.jsx($e,{value:k.id,children:k.name},k.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Forma de Pagamento"}),s.jsx(ne,{value:m.payment_method,onChange:k=>v({...m,payment_method:k.target.value}),placeholder:"Ex: Pix"})]})]}),s.jsxs(Lr,{children:[s.jsx(B,{type:"button",variant:"outline",onClick:()=>d(!1),children:"Cancelar"}),s.jsx(B,{onClick:N,children:"Confirmar Recebimento"})]})]})})]})}function R3e(){const{profile:e}=Gt(),{toast:t}=dr(),r=Go(),{data:n,isLoading:a}=Ko({queryKey:["dream-board",e==null?void 0:e.store_id],queryFn:async()=>{if(!(e!=null&&e.store_id))return[];const{data:d,error:f}=await ke.from("dream_board").select("*").eq("store_id",e.store_id).order("priority",{ascending:!1});if(f)throw f;return d||[]},enabled:!!(e!=null&&e.store_id)}),i=xn({mutationFn:async d=>{const{data:f,error:h}=await ke.from("dream_board").insert([d]).select().single();if(h)throw h;return f},onSuccess:()=>{r.invalidateQueries({queryKey:["dream-board"]}),t({title:"Sonho adicionado",description:"Seu sonho foi adicionado ao quadro com sucesso."})},onError:d=>{t({title:"Erro ao adicionar sonho",description:d.message,variant:"destructive"})}}),o=xn({mutationFn:async({id:d,...f})=>{const{data:h,error:p}=await ke.from("dream_board").update(f).eq("id",d).select().single();if(p)throw p;return h},onSuccess:()=>{r.invalidateQueries({queryKey:["dream-board"]}),t({title:"Sonho atualizado",description:"Seu sonho foi atualizado com sucesso."})},onError:d=>{t({title:"Erro ao atualizar sonho",description:d.message,variant:"destructive"})}}),l=xn({mutationFn:async({id:d,amount:f})=>{const{data:h,error:p}=await ke.from("dream_board").select("*").eq("id",d).single();if(p)throw p;const y=Number(h.current_amount)+f,m=Number(h.target_amount),v={current_amount:y};y>=m&&h.status==="ativo"&&(v.status="concluido",v.completed_at=new Date().toISOString());const{data:x,error:b}=await ke.from("dream_board").update(v).eq("id",d).select().single();if(b)throw b;return x},onSuccess:d=>{r.invalidateQueries({queryKey:["dream-board"]}),d.status==="concluido"?t({title:" Parabns!",description:`Voc realizou seu sonho: ${d.title}!`}):t({title:"Contribuio adicionada",description:"Continue assim! Voc est mais perto do seu sonho!"})},onError:d=>{t({title:"Erro ao adicionar contribuio",description:d.message,variant:"destructive"})}}),c=xn({mutationFn:async d=>{const{error:f}=await ke.from("dream_board").delete().eq("id",d);if(f)throw f},onSuccess:()=>{r.invalidateQueries({queryKey:["dream-board"]}),t({title:"Sonho removido",description:"O sonho foi removido do quadro."})},onError:d=>{t({title:"Erro ao remover sonho",description:d.message,variant:"destructive"})}}),u=xn({mutationFn:async d=>{const{data:f,error:h}=await ke.from("dream_board").update({status:"concluido",completed_at:new Date().toISOString()}).eq("id",d).select().single();if(h)throw h;return f},onSuccess:d=>{r.invalidateQueries({queryKey:["dream-board"]}),t({title:" Sonho realizado!",description:`Parabns por realizar: ${d.title}!`})},onError:d=>{t({title:"Erro ao marcar como concludo",description:d.message,variant:"destructive"})}});return{dreams:n||[],isLoading:a,createDream:i,updateDream:o,addContribution:l,deleteDream:c,completeDream:u}}function $3e(){const{profile:e}=Gt(),{dreams:t,createDream:r,updateDream:n,addContribution:a,deleteDream:i}=R3e(),[o,l]=g.useState(!1),[c,u]=g.useState(!1),[d,f]=g.useState(null),[h,p]=g.useState(null),[y,m]=g.useState(""),[v,x]=g.useState({title:"",description:"",target_amount:"",current_amount:"0",target_date:"",priority:"3"}),b=O=>{O?(f(O),x({title:O.title,description:O.description||"",target_amount:String(O.target_amount),current_amount:String(O.current_amount),target_date:O.target_date||"",priority:String(O.priority)})):(f(null),x({title:"",description:"",target_amount:"",current_amount:"0",target_date:"",priority:"3"})),l(!0)},w=O=>{p(O),m(""),u(!0)},j=async O=>{if(O.preventDefault(),!(e!=null&&e.store_id))return;const P={...v,target_amount:parseFloat(v.target_amount),current_amount:parseFloat(v.current_amount),priority:parseInt(v.priority),store_id:e.store_id,status:"ativo"};d?await n.mutateAsync({id:d.id,...P}):await r.mutateAsync(P),l(!1)},S=async()=>{!h||!y||(await a.mutateAsync({id:h.id,amount:parseFloat(y)}),u(!1))},_=async O=>{confirm("Tem certeza que deseja excluir este sonho?")&&await i.mutateAsync(O)},N=O=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(O),C=(O,P)=>Math.min(O/P*100,100),E=t.filter(O=>O.status==="ativo"),A=t.filter(O=>O.status==="concluido");return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ve,{children:[s.jsx(je,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs(Se,{className:"flex items-center gap-2",children:[s.jsx(Cy,{className:"h-5 w-5"}),"Quadro dos Sonhos"]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Defina e acompanhe seus objetivos financeiros"})]}),s.jsxs(B,{onClick:()=>b(),className:"gap-2",children:[s.jsx(xr,{className:"h-4 w-4"}),"Novo Sonho"]})]})}),s.jsxs(ye,{className:"space-y-8",children:[E.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Cy,{className:"h-4 w-4"}),"Sonhos Ativos"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:E.map(O=>{const P=C(O.current_amount,O.target_amount);return s.jsxs(ve,{className:"overflow-hidden",children:[s.jsx(je,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(Se,{className:"text-base",children:O.title}),O.description&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:O.description})]}),s.jsxs(kn,{variant:"outline",children:[" ",O.priority]})]})}),s.jsxs(ye,{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[s.jsx("span",{className:"text-muted-foreground",children:"Progresso"}),s.jsxs("span",{className:"font-semibold",children:[P.toFixed(1),"%"]})]}),s.jsx(KP,{value:P,className:"h-2"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Atual:"}),s.jsx("span",{className:"font-semibold text-green-600",children:N(O.current_amount)})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Meta:"}),s.jsx("span",{className:"font-semibold",children:N(O.target_amount)})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Falta:"}),s.jsx("span",{className:"font-semibold text-orange-600",children:N(O.target_amount-O.current_amount)})]})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsxs(B,{size:"sm",className:"flex-1",onClick:()=>w(O),children:[s.jsx(Md,{className:"h-3 w-3 mr-1"}),"Adicionar"]}),s.jsx(B,{size:"sm",variant:"ghost",onClick:()=>b(O),children:s.jsx(Tn,{className:"h-3 w-3"})}),s.jsx(B,{size:"sm",variant:"ghost",onClick:()=>_(O.id),children:s.jsx(qr,{className:"h-3 w-3"})})]})]})]},O.id)})})]}),A.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2 text-green-600",children:[s.jsx(Gi,{className:"h-4 w-4"}),"Sonhos Realizados (",A.length,")"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:A.map(O=>s.jsxs(ve,{className:"opacity-75 border-green-600",children:[s.jsx(je,{children:s.jsxs(Se,{className:"text-base flex items-center gap-2",children:[s.jsx(Gi,{className:"h-4 w-4 text-green-600"}),O.title]})}),s.jsxs(ye,{children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Concludo em ",O.completed_at?new Date(O.completed_at).toLocaleDateString("pt-BR"):"-"]}),s.jsxs("p",{className:"text-sm font-semibold mt-2",children:["Valor: ",N(O.target_amount)]})]})]},O.id))})]}),t.length===0&&s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(Cy,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Nenhum sonho cadastrado ainda"}),s.jsx("p",{className:"text-sm",children:"Comece adicionando seus objetivos financeiros!"})]})]})]}),s.jsx(St,{open:o,onOpenChange:l,children:s.jsxs(xt,{children:[s.jsx(bt,{children:s.jsxs(wt,{children:[d?"Editar":"Novo"," Sonho"]})}),s.jsxs("form",{onSubmit:j,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Ttulo do Sonho"}),s.jsx(ne,{value:v.title,onChange:O=>x({...v,title:O.target.value}),placeholder:"Ex: Casa prpria",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Descrio"}),s.jsx(zu,{value:v.description,onChange:O=>x({...v,description:O.target.value}),rows:2})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Valor da Meta (R$)"}),s.jsx(ne,{type:"number",step:"0.01",value:v.target_amount,onChange:O=>x({...v,target_amount:O.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Valor Atual (R$)"}),s.jsx(ne,{type:"number",step:"0.01",value:v.current_amount,onChange:O=>x({...v,current_amount:O.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Data Alvo"}),s.jsx(ne,{type:"date",value:v.target_date,onChange:O=>x({...v,target_date:O.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Prioridade (1-5)"}),s.jsx(ne,{type:"number",min:"1",max:"5",value:v.priority,onChange:O=>x({...v,priority:O.target.value})})]})]}),s.jsxs(Lr,{children:[s.jsx(B,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancelar"}),s.jsx(B,{type:"submit",children:d?"Atualizar":"Criar"})]})]})]})}),s.jsx(St,{open:c,onOpenChange:u,children:s.jsxs(xt,{children:[s.jsx(bt,{children:s.jsx(wt,{children:"Adicionar Contribuio"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Sonho:"}),s.jsx("p",{className:"font-semibold",children:h==null?void 0:h.title})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Valor da Contribuio (R$)"}),s.jsx(ne,{type:"number",step:"0.01",value:y,onChange:O=>m(O.target.value),placeholder:"0,00",autoFocus:!0})]})]}),s.jsxs(Lr,{children:[s.jsx(B,{type:"button",variant:"outline",onClick:()=>u(!1),children:"Cancelar"}),s.jsx(B,{onClick:S,children:"Adicionar Contribuio"})]})]})})]})}function M3e(){const e=x=>{const b=x.getFullYear(),w=String(x.getMonth()+1).padStart(2,"0"),j=String(x.getDate()).padStart(2,"0");return`${b}-${w}-${j}`},t=()=>{const x=new Date;return e(new Date(x.getFullYear(),x.getMonth(),1))},[r,n]=g.useState(t()),[a,i]=g.useState(e(new Date)),[o,l]=g.useState("mensal"),{transactions:c}=l8({startDate:r,endDate:a}),{categorySummary:u}=c8(r,a),{evolution:d}=u8(12);i8();const f=x=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(x),h=()=>{let x="",b="";o==="transacoes"?(x=`Data,Tipo,Descrio,Categoria,Valor,Status
`,c.forEach(S=>{var _;x+=`${S.transaction_date},${S.type},${S.description},${((_=S.category)==null?void 0:_.name)||""},${S.amount},${S.status}
`}),b="transacoes.csv"):o==="categorias"?(x=`Categoria,Tipo,Total,Transaes,Porcentagem
`,u.forEach(S=>{x+=`${S.category.name},${S.category.type},${S.total},${S.transactionCount},${S.percentage.toFixed(2)}%
`}),b="categorias.csv"):o==="mensal"&&(x=`Ms,Receitas,Despesas,Saldo
`,d.forEach(S=>{x+=`${S.month},${S.receitas},${S.despesas},${S.saldo}
`}),b="evolucao_mensal.csv");const w=new Blob([x],{type:"text/csv;charset=utf-8;"}),j=document.createElement("a");j.href=URL.createObjectURL(w),j.download=b,j.click()},p=()=>{alert("Exportao para PDF ser implementada em breve!")},y=c.filter(x=>x.type==="receita"&&(x.status==="recebido"||x.status==="pago")).reduce((x,b)=>x+Number(b.amount),0),m=c.filter(x=>x.type==="despesa"&&(x.status==="recebido"||x.status==="pago")).reduce((x,b)=>x+Number(b.amount),0),v=y-m;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ve,{children:[s.jsx(je,{children:s.jsx(Se,{children:"Filtros do Relatrio"})}),s.jsxs(ye,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Tipo de Relatrio"}),s.jsxs(ir,{value:o,onValueChange:l,children:[s.jsx(er,{children:s.jsx(sr,{})}),s.jsxs(tr,{children:[s.jsx($e,{value:"mensal",children:"Evoluo Mensal"}),s.jsx($e,{value:"categorias",children:"Por Categoria"}),s.jsx($e,{value:"transacoes",children:"Transaes Detalhadas"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Data Inicial"}),s.jsx(ne,{type:"date",value:r,onChange:x=>n(x.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Data Final"}),s.jsx(ne,{type:"date",value:a,onChange:x=>i(x.target.value)})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(B,{onClick:h,className:"gap-2",children:[s.jsx(GK,{className:"h-4 w-4"}),"Exportar CSV"]}),s.jsxs(B,{variant:"outline",onClick:p,className:"gap-2",children:[s.jsx(e3,{className:"h-4 w-4"}),"Exportar PDF"]})]})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs(ve,{children:[s.jsx(je,{className:"pb-2",children:s.jsx(Se,{className:"text-sm font-medium",children:"Receitas do Perodo"})}),s.jsx(ye,{children:s.jsx("div",{className:"text-2xl font-bold text-green-600",children:f(y)})})]}),s.jsxs(ve,{children:[s.jsx(je,{className:"pb-2",children:s.jsx(Se,{className:"text-sm font-medium",children:"Despesas do Perodo"})}),s.jsx(ye,{children:s.jsx("div",{className:"text-2xl font-bold text-red-600",children:f(m)})})]}),s.jsxs(ve,{children:[s.jsx(je,{className:"pb-2",children:s.jsx(Se,{className:"text-sm font-medium",children:"Saldo do Perodo"})}),s.jsx(ye,{children:s.jsx("div",{className:`text-2xl font-bold ${v>=0?"text-green-600":"text-red-600"}`,children:f(v)})})]})]}),o==="categorias"&&s.jsxs(ve,{children:[s.jsx(je,{children:s.jsx(Se,{children:"Relatrio por Categoria"})}),s.jsx(ye,{children:s.jsx("div",{className:"space-y-4",children:u.length>0?u.map(x=>s.jsxs("div",{className:"flex items-center justify-between border-b pb-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:x.category.color}}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:x.category.name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[x.transactionCount," ",x.transactionCount===1?"transao":"transaes"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-bold",children:f(x.total)}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[x.percentage.toFixed(1),"%"]})]})]},x.category.id)):s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Nenhum dado disponvel"})})})]}),o==="mensal"&&s.jsxs(ve,{children:[s.jsx(je,{children:s.jsx(Se,{children:"Evoluo Mensal"})}),s.jsx(ye,{children:s.jsx("div",{className:"space-y-4",children:d.length>0?d.map(x=>s.jsxs("div",{className:"flex items-center justify-between border-b pb-3",children:[s.jsx("div",{children:s.jsx("p",{className:"font-medium",children:x.month})}),s.jsxs("div",{className:"flex gap-6 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Receitas"}),s.jsx("p",{className:"font-semibold text-green-600",children:f(x.receitas)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Despesas"}),s.jsx("p",{className:"font-semibold text-red-600",children:f(x.despesas)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Saldo"}),s.jsx("p",{className:`font-semibold ${x.saldo>=0?"text-green-600":"text-red-600"}`,children:f(x.saldo)})]})]})]},x.month)):s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Nenhum dado disponvel"})})})]}),o==="transacoes"&&s.jsxs(ve,{children:[s.jsx(je,{children:s.jsxs(Se,{children:["Transaes Detalhadas (",c.length,")"]})}),s.jsx(ye,{children:s.jsx("div",{className:"space-y-2",children:c.length>0?c.map(x=>{var b;return s.jsxs("div",{className:"flex items-center justify-between border-b pb-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:x.description}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[Be(new Date(x.transaction_date),"dd/MM/yyyy",{locale:Tt})," - ",((b=x.category)==null?void 0:b.name)||"Sem categoria"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:`font-bold ${x.type==="receita"?"text-green-600":"text-red-600"}`,children:[x.type==="receita"?"+":"-"," ",f(x.amount)]}),s.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:x.status})]})]},x.id)}):s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Nenhuma transao encontrada"})})})]})]})}function L3e(){const[e,t]=g.useState("dashboard"),[r,n]=g.useState({type:null}),a=i=>{t("lancamentos"),setTimeout(()=>{n({type:i})},100)};return s.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[s.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Minhas Finanas"}),s.jsx("p",{className:"text-muted-foreground",children:"Gerencie suas receitas, despesas e objetivos financeiros"})]})}),s.jsxs(k0,{value:e,onValueChange:t,className:"space-y-6",children:[s.jsxs(Nv,{className:"grid grid-cols-4 lg:grid-cols-8 gap-2 h-auto p-1",children:[s.jsxs(ha,{value:"dashboard",className:"flex items-center gap-2",children:[s.jsx(Md,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Dashboard"})]}),s.jsxs(ha,{value:"lancamentos",className:"flex items-center gap-2",children:[s.jsx(Ld,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Lanamentos"})]}),s.jsxs(ha,{value:"contas",className:"flex items-center gap-2",children:[s.jsx(Ld,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Contas"})]}),s.jsxs(ha,{value:"cartoes",className:"flex items-center gap-2",children:[s.jsx(Ld,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Cartes"})]}),s.jsxs(ha,{value:"receber",className:"flex items-center gap-2",children:[s.jsx(Md,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"A Receber"})]}),s.jsxs(ha,{value:"sonhos",className:"flex items-center gap-2",children:[s.jsx(Cy,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Sonhos"})]}),s.jsxs(ha,{value:"categorias",className:"flex items-center gap-2",children:[s.jsx(s3,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Categorias"})]}),s.jsxs(ha,{value:"relatorios",className:"flex items-center gap-2",children:[s.jsx(Md,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Relatrios"})]})]}),s.jsx(pa,{value:"dashboard",className:"space-y-6",children:s.jsx(E3e,{onNewTransaction:a})}),s.jsx(pa,{value:"lancamentos",className:"space-y-6",children:s.jsx(P3e,{triggerNew:r,onTriggerComplete:()=>n({type:null})})}),s.jsx(pa,{value:"contas",className:"space-y-6",children:s.jsx(k3e,{})}),s.jsx(pa,{value:"cartoes",className:"space-y-6",children:s.jsx(T3e,{})}),s.jsx(pa,{value:"receber",className:"space-y-6",children:s.jsx(I3e,{})}),s.jsx(pa,{value:"sonhos",className:"space-y-6",children:s.jsx($3e,{})}),s.jsx(pa,{value:"categorias",className:"space-y-6",children:s.jsx(A3e,{})}),s.jsx(pa,{value:"relatorios",className:"space-y-6",children:s.jsx(M3e,{})})]})]})}const F3e=new yJ;function xa({children:e}){const{user:t,loading:r}=Gt();return r?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Carregando..."}):t?s.jsx(s.Fragment,{children:e}):s.jsx(vB,{to:"/login",replace:!0})}const B3e=()=>{const{user:e,loading:t}=Gt(),r=uc(),{isCollapsed:n}=N5();if(t)return s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Carregando..."});const a=r.pathname.startsWith("/loja")&&!r.pathname.startsWith("/lojas"),i=r.pathname.startsWith("/totem"),o=r.pathname.startsWith("/setup"),l=r.pathname.startsWith("/init-admin"),c=r.pathname.startsWith("/auto-setup"),u=r.pathname.startsWith("/monitor"),d=e&&!a&&!i&&!o&&!l&&!c&&!u;return s.jsxs("div",{className:"flex min-h-screen bg-background",children:[d&&s.jsx(tie,{})," ",s.jsx("main",{className:Ee("flex-1 w-full max-w-full p-6 transition-all duration-300",d&&(n?"ml-20":"ml-64")),children:s.jsxs(wZ,{children:[s.jsx($r,{path:"/",element:e?s.jsx(vB,{to:"/dashboard",replace:!0}):s.jsx(tue,{})}),s.jsx($r,{path:"/login",element:s.jsx(Fce,{})}),s.jsx($r,{path:"/loja",element:s.jsx(VT,{})}),s.jsx($r,{path:"/loja/:slug",element:s.jsx(VT,{})}),s.jsx($r,{path:"/totem",element:s.jsx(GT,{})}),s.jsx($r,{path:"/totem/:slug",element:s.jsx(GT,{})}),s.jsx($r,{path:"/monitor",element:s.jsx(ZT,{})}),s.jsx($r,{path:"/monitor/:slug",element:s.jsx(ZT,{})}),s.jsx($r,{path:"/dashboard",element:s.jsx(xa,{children:s.jsx(koe,{})})}),s.jsx($r,{path:"/pdv",element:s.jsx(xa,{children:s.jsx(Wle,{})})}),s.jsx($r,{path:"/painel",element:s.jsx(xa,{children:s.jsx(Qle,{})})}),s.jsx($r,{path:"/fidelidade",element:s.jsx(xa,{children:s.jsx(pce,{})})}),s.jsx($r,{path:"/relatorios",element:s.jsx(xa,{children:s.jsx(mce,{})})}),s.jsx($r,{path:"/produtos",element:s.jsx(xa,{children:s.jsx(gce,{})})}),s.jsx($r,{path:"/estoque",element:s.jsx(xa,{children:s.jsx(xce,{})})}),s.jsx($r,{path:"/marketing",element:s.jsx(xa,{children:s.jsx(rue,{})})}),s.jsx($r,{path:"/minha-loja",element:s.jsx(xa,{children:s.jsx(jce,{})})}),s.jsx($r,{path:"/lojas",element:s.jsx(xa,{children:s.jsx(yce,{})})}),s.jsx($r,{path:"/configuracoes",element:s.jsx(xa,{children:s.jsx(vce,{})})}),s.jsx($r,{path:"/assinaturas",element:s.jsx(xa,{children:s.jsx(aue,{})})})," ",s.jsx($r,{path:"/tarefas",element:s.jsx(xa,{children:s.jsx(Qme,{})})})," ",s.jsx($r,{path:"/cadastros",element:s.jsx(xa,{children:s.jsx(Jme,{})})})," ",s.jsx($r,{path:"/financas",element:s.jsx(xa,{children:s.jsx(L3e,{})})})," ",s.jsx($r,{path:"/setup",element:s.jsx(Qce,{})}),s.jsx($r,{path:"/init-admin",element:s.jsx(Jce,{})}),s.jsx($r,{path:"/auto-setup",element:s.jsx(Zce,{})}),s.jsx($r,{path:"*",element:s.jsx(Bce,{})})]})})]})},q3e=()=>s.jsx(xJ,{client:F3e,children:s.jsxs(KQ,{children:[s.jsx(TY,{}),s.jsx(uX,{}),s.jsx(PZ,{children:s.jsx(lre,{children:s.jsxs(cre,{children:[" ",s.jsx(B3e,{})]})})})]})});y4(document.getElementById("root")).render(s.jsx(q3e,{}));
